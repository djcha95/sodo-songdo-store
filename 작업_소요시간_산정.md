# 작업 소요 시간 산정 보고서

**프로젝트**: 기존 쇼핑몰 템플릿 기반 공동구매 시스템 개편  
**작성일**: 2025년 1월  
**산정 기준**: ChatGPT + Cursor 활용 개발 가정, 보수적 산정

---

## 📋 현재 프로젝트 상태

### ✅ 이미 구현된 기능
- React + TypeScript + Firebase 기반 쇼핑몰 구조
- 상품 목록/상세 페이지
- 장바구니 및 주문 흐름 (RESERVED → PREPAID → PICKED_UP → COMPLETED)
- 관리자 페이지 기본 구조
- 배포 환경 (Vercel + Firebase)
- 알림톡 시스템 (NHN Cloud 기반, 스케줄링 포함)
- 앱 내 알림 시스템

### ❌ 미구현 기능
- 카드 결제(PG) 연동
- 송장 번호 관리
- SMS 알림
- 주문 상태 재정의 (접수/준비/배송/완료)
- 공동구매형 UX 강화 (기간성 강조)

---

## ⏱️ 기능별 작업 소요 시간 산정

### 1️⃣ 단순한 공동구매형 UX (기간성 강조)

**작업 범위:**
- 상품 목록/상세 페이지에 마감일 카운트다운 강조
- "N일 남음", "마감 임박" 등 시각적 강조
- 공동구매 진행률 표시 (목표 수량 대비 현재 수량)
- 기간 제한 상품 배지/라벨 추가

**예상 소요 시간:**
- **UI 컴포넌트 개발**: 4시간
  - 카운트다운 컴포넌트
  - 진행률 바 컴포넌트
  - 마감 임박 배지 컴포넌트
- **기존 페이지 수정**: 3시간
  - ProductListPage.tsx
  - ProductDetailPage.tsx
  - ProductCard.tsx
- **스타일링 및 반응형**: 2시간
- **테스트 및 디버깅**: 1시간

**총 소요 시간: 10시간 (1.25일)**

---

### 2️⃣ 카드 결제(PG) 연동

**작업 범위:**
- PG사 선택 및 계약 (토스페이먼츠/이니시스/아임포트 등)
- 결제 모듈 연동 (SDK 설치 및 설정)
- 결제 페이지 개발
- 결제 성공/실패 처리
- 주문 생성 시 결제 정보 연동
- 관리자 페이지에 결제 내역 표시
- 환불 처리 로직

**예상 소요 시간:**
- **PG사 선택 및 계약**: 2시간 (개발자 작업 시간 아님, 별도 진행)
- **PG SDK 연동 및 설정**: 4시간
  - SDK 설치 및 초기 설정
  - 환경 변수 설정
  - Firebase Functions에 결제 검증 로직 추가
- **결제 페이지 개발**: 6시간
  - 결제 폼 UI
  - 결제 요청 로직
  - 결제 성공/실패 페이지
- **백엔드 결제 검증 로직**: 4시간
  - Webhook 처리
  - 결제 검증 Cloud Function
  - 주문 상태 자동 업데이트
- **관리자 결제 내역 페이지**: 3시간
- **환불 처리 로직**: 3시간
- **테스트 및 디버깅**: 4시간
  - PG사 테스트 환경 연동
  - 실제 결제 플로우 테스트
  - 에러 케이스 처리

**총 소요 시간: 24시간 (3일)**

**⚠️ 주의사항:**
- PG사 계약 및 승인은 별도 소요 (1-2주)
- 테스트 환경 구축 및 실제 결제 테스트 필요
- PCI-DSS 준수 고려

---

### 3️⃣ 주문 상태 관리 (접수/준비/배송/완료)

**작업 범위:**
- 기존 주문 상태 재정의
  - 현재: RESERVED → PREPAID → PICKED_UP → COMPLETED
  - 변경: 접수 → 준비 → 배송 → 완료
- 주문 상태 타입 수정 (TypeScript)
- 관리자 페이지 주문 상태 변경 UI 수정
- 고객 주문 내역 페이지 상태 표시 수정
- 주문 상태 변경 트리거 로직 수정
- 알림톡 템플릿 수정 (상태별 메시지)

**예상 소요 시간:**
- **타입 정의 수정**: 1시간
  - shared/types.ts
  - root-types.ts
- **주문 상태 변경 로직 수정**: 3시간
  - orderService.ts
  - Cloud Functions (triggers/orders.ts)
- **관리자 페이지 수정**: 3시간
  - OrderManagementPage.tsx
  - 상태 변경 드롭다운/버튼
- **고객 페이지 수정**: 2시간
  - OrderHistoryPage.tsx
  - 상태 표시 UI
- **알림톡 템플릿 수정**: 2시간
  - NHN Cloud 템플릿 수정
  - notifications.ts 로직 수정
- **데이터 마이그레이션 스크립트**: 2시간
  - 기존 주문 데이터 상태 변환
- **테스트 및 디버깅**: 2시간

**총 소요 시간: 15시간 (1.875일)**

**⚠️ 주의사항:**
- 기존 주문 데이터 마이그레이션 필요
- 주문 상태 변경 시 알림 발송 로직 확인

---

### 4️⃣ 송장 번호 입력 및 고객 표시

**작업 범위:**
- Order 타입에 trackingNumber 필드 추가
- 관리자 페이지에 송장 번호 입력 UI 추가
- 고객 주문 내역에 송장 번호 표시
- 송장 번호 입력 시 고객 알림 발송
- 배송 추적 링크 (택배사별)

**예상 소요 시간:**
- **데이터 모델 수정**: 1시간
  - Order 타입에 trackingNumber, carrier 필드 추가
- **관리자 페이지 개발**: 4시간
  - 송장 번호 입력 폼
  - 택배사 선택 드롭다운
  - 송장 번호 저장 로직
- **고객 페이지 개발**: 3시간
  - 주문 내역에 송장 번호 표시
  - 배송 추적 링크 버튼
- **알림 발송 로직**: 2시간
  - 송장 번호 입력 시 알림톡/SMS 발송
- **택배사별 추적 링크 로직**: 2시간
  - CJ대한통운, 한진택배, 로젠택배 등
- **테스트 및 디버깅**: 1시간

**총 소요 시간: 13시간 (1.625일)**

---

### 5️⃣ 문자 또는 카카오 알림

**작업 범위:**
- SMS 발송 API 연동 (NHN Cloud SMS 또는 다른 서비스)
- 알림톡은 이미 구현되어 있음
- 주문 상태 변경 시 SMS 발송 옵션 추가
- 송장 번호 입력 시 SMS 발송
- 관리자 페이지에서 알림 발송 설정

**예상 소요 시간:**
- **SMS API 연동**: 3시간
  - NHN Cloud SMS 또는 다른 서비스 선택
  - SDK 설치 및 설정
  - Cloud Function에 SMS 발송 함수 추가
- **SMS 발송 로직 구현**: 4시간
  - 주문 상태 변경 시 SMS 발송
  - 송장 번호 입력 시 SMS 발송
  - 알림톡 실패 시 SMS 대체 발송
- **관리자 알림 설정 페이지**: 2시간
  - 알림톡/SMS 선택 옵션
  - 알림 발송 이력 조회
- **알림 템플릿 관리**: 2시간
  - SMS 템플릿 작성
  - 템플릿 변수 처리
- **테스트 및 디버깅**: 2시간

**총 소요 시간: 13시간 (1.625일)**

**⚠️ 주의사항:**
- SMS 발송 비용 고려 (건당 20-30원)
- 알림톡과 SMS 중 선택 또는 병행 사용 결정 필요

---

### 6️⃣ 불필요한 고급 기능 제거

**작업 범위:**
- 프로젝트 전체 코드베이스 분석
- 제거할 기능 식별
  - 예: 미션 시스템, 튜토리얼, 복잡한 등급 시스템 등
- 기능 제거 및 코드 정리
- 관련 데이터 정리
- UI에서 메뉴/버튼 제거
- 테스트 및 검증

**예상 소요 시간:**
- **기능 분석 및 제거 목록 작성**: 2시간
- **코드 제거 작업**: 6시간
  - 컴포넌트 제거
  - 서비스 함수 제거
  - Cloud Functions 제거
  - 라우팅 제거
- **UI 정리**: 3시간
  - 메뉴에서 제거
  - 관련 페이지 제거
- **데이터 정리**: 2시간
  - 불필요한 컬렉션/필드 정리
- **테스트 및 검증**: 2시간
  - 제거 후 기능 동작 확인
  - 에러 없는지 확인

**총 소요 시간: 15시간 (1.875일)**

**⚠️ 주의사항:**
- 제거할 기능 목록을 먼저 확정 필요
- 제거 시 기존 데이터와의 호환성 고려

---

## 📊 전체 프로젝트 소요 시간 요약

| 기능 | 소요 시간 | 작업일수 (8시간 기준) |
|------|----------|---------------------|
| 1. 공동구매형 UX 강화 | 10시간 | 1.25일 |
| 2. 카드 결제(PG) 연동 | 24시간 | 3일 |
| 3. 주문 상태 관리 재정의 | 15시간 | 1.875일 |
| 4. 송장 번호 관리 | 13시간 | 1.625일 |
| 5. SMS/카카오 알림 | 13시간 | 1.625일 |
| 6. 불필요한 기능 제거 | 15시간 | 1.875일 |
| **합계** | **90시간** | **11.25일** |

---

## 🗓️ 전체 프로젝트 완료 예상 기간

### 낙관적 시나리오 (최소)
- **작업 시간**: 90시간
- **작업일수**: 11.25일 (8시간/일 기준)
- **실제 소요 기간**: **2-3주** (주말 제외, 버퍼 포함)

### 현실적 시나리오 (보수적)
- **작업 시간**: 90시간 + 버퍼 20% = **108시간**
- **작업일수**: 13.5일
- **실제 소요 기간**: **3-4주**
  - 예상치 못한 이슈 대응
  - PG사 계약 및 승인 대기 시간
  - 테스트 및 수정 시간

### 보수적 시나리오 (최대)
- **작업 시간**: 90시간 + 버퍼 40% = **126시간**
- **작업일수**: 15.75일
- **실제 소요 기간**: **4-5주**
  - 복잡한 버그 수정
  - PG 연동 시 예상치 못한 문제
  - 클라이언트 피드백 반영

---

## ⚠️ 리스크 요소 및 추가 고려사항

### 높은 리스크
1. **PG 연동 복잡도**
   - PG사별 API 차이
   - 결제 검증 로직 복잡도
   - 실제 결제 테스트 환경 구축
   - **추가 소요 가능**: +4~8시간

2. **기존 데이터 마이그레이션**
   - 주문 상태 변경 시 기존 데이터 변환
   - 데이터 무결성 검증
   - **추가 소요 가능**: +2~4시간

### 중간 리스크
3. **알림 시스템 통합**
   - 알림톡 + SMS 병행 처리
   - 실패 시 재시도 로직
   - **추가 소요 가능**: +2~3시간

4. **기능 제거 시 사이드 이펙트**
   - 제거한 기능과 연관된 다른 기능 영향
   - **추가 소요 가능**: +2~4시간

### 낮은 리스크
5. **UI/UX 개선 작업**
   - 클라이언트 피드백 반영
   - 반응형 디자인 조정
   - **추가 소요 가능**: +2~3시간

---

## 💡 개발 효율화 팁

1. **우선순위 설정**
   - 필수 기능부터 진행 (PG 연동, 주문 상태 관리)
   - 부가 기능은 이후 진행 (UX 강화, 기능 제거)

2. **병렬 작업 가능 영역**
   - 공동구매형 UX 강화 (프론트엔드) ↔ 송장 번호 관리 (백엔드)
   - SMS 알림 (백엔드) ↔ 기능 제거 (프론트엔드)

3. **단계별 배포**
   - 1단계: 주문 상태 관리 + 송장 번호 (1주)
   - 2단계: PG 연동 (1주)
   - 3단계: 알림 강화 + UX 개선 (1주)
   - 4단계: 기능 제거 및 정리 (0.5주)

---

## 📝 결론

**보수적 예상 기간: 4-5주 (20-25일)**

- 최소 작업 시간: 90시간
- 현실적 작업 시간: 108시간 (버퍼 20%)
- 보수적 작업 시간: 126시간 (버퍼 40%)

**핵심 고려사항:**
- PG 연동은 가장 복잡하고 시간이 많이 소요됨
- 기존 데이터 마이그레이션 필요
- 실제 운영 환경 테스트 시간 확보 필요
- 클라이언트 피드백 반영 시간 고려

**권장 접근 방식:**
1. 주문 상태 관리 + 송장 번호 (우선)
2. PG 연동 (핵심)
3. 알림 강화
4. UX 개선
5. 기능 제거 (마지막)

