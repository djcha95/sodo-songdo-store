{
  "version": 2,
  "routes": [
    { "src": "^/api/og$", "dest": "/api/og" },
    { "src": "^/api/img$", "dest": "/api/img" },            
    { "src": "^/api/(?!og$)(.*)", "dest": "https://asia-northeast3-sso-do.cloudfunctions.net/$1" },

    { "src": "^/assets/(.*)$", "dest": "/assets/$1" },
    { "src": "^/(.*)\\.(css|js|mjs|map|png|jpg|jpeg|webp|gif|svg|ico|txt|xml|json|woff2?)$", "dest": "/$1.$2" },
    { "src": "^/(sodomall-logo\\.png|sodomall_wel\\.png|favicon\\.ico)$", "dest": "/$1" },

    {
      "src": "^/product/([A-Za-z0-9_-]+)$",
      "has": [
        {
          "type": "header",
          "key": "user-agent",
          "value": ".*(KAKAOTALK|KakaoTalk|facebookexternalhit|Facebot|naver|NaverBot|Yeti).*"
        }
      ],
      "dest": "/api/og?id=$1"
    },

    { "src": "^/product/.*$", "dest": "/index.html" },


    { "src": "^(?!/api/).*$", "dest": "/index.html" }
  ]
}
