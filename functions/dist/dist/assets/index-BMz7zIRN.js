const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CustomerLayout-DXqj3J36.js","assets/ko-rCIX9F0R.js","assets/chevron-left-DTstWtwR.js","assets/createLucideIcon-Df3tO_ja.js","assets/calendar-days-C3Lc1TML.js","assets/x-BfIBbJBP.js","assets/shield-x-DqlWjWof.js","assets/sparkles-CiURa8Z7.js","assets/info-DxE8bBlt.js","assets/circle-x-fkkSg6hU.js","assets/circle-check-big-B897TBEZ.js","assets/circle-alert-CQEJXon4.js","assets/trending-down-CaiddwcE.js","assets/trending-up-BeywEaFl.js","assets/CustomerLayout-RUFf1k_1.css","assets/AdminLayout-GMdz-POJ.js","assets/zap-DEj6HJgU.js","assets/shopping-cart-DDLkxA9X.js","assets/users-L5EP99wQ.js","assets/package-CR9FldPL.js","assets/sliders-horizontal-DyKEv-NS.js","assets/image-DRRVApaV.js","assets/InlineSodomallLoader-CN_E-RXV.js","assets/InlineSodomallLoader-Dn5LObYC.css","assets/AdminLayout-Cfz9zR9R.css","assets/LoginPage-0FoADJBy.js","assets/LoginPage-RRHjNKkQ.css","assets/ProductListPage-DuWPvgrA.js","assets/clock-D_nK6rhO.js","assets/chevron-right-BbSiuQEu.js","assets/imageUtils-BPiZeTFW.js","assets/dayjs.min-B5lyAaGD.js","assets/useLongPress-C3c2NboI.js","assets/productUtils-BZ5ruf3w.js","assets/isBetween-CLbg94Zy.js","assets/calendar-B4F1rzMj.js","assets/hourglass-Cbw8WS9u.js","assets/star-DZq8jtrE.js","assets/check-6pj1M3ks.js","assets/minus-CdiIzwb3.js","assets/plus-Q3suSHkb.js","assets/toastUtils-C4esVHua.js","assets/refresh-cw-rA7dvjEr.js","assets/ProductListPage-4Bc5grse.css","assets/ProductDetailPage-Bt7HtZhF.js","assets/OptimizedImage-DzTUm3mu.js","assets/search-C7k3Fw0J.js","assets/index-CDTLh11W.js","assets/lock-Cxol5EeZ.js","assets/package-check-CP1CrOxf.js","assets/ProductDetailPage-CSrSKVKe.css","assets/CartPage-DOu8AXIb.js","assets/triangle-alert-DUarG1oM.js","assets/CartPage-xWh4ZzxK.css","assets/MyPage-H85I6Nkf.js","assets/user-plus-DMCucGJt.js","assets/shield-DCKi_qae.js","assets/proxy-CA4nXXUX.js","assets/chart-no-axes-column-CffmgICP.js","assets/MyPage-BNe__iny.css","assets/OrderHistoryPage-C13J146A.js","assets/orderService-Bzti28Gn.js","assets/OrderHistoryPage-CL6bzVci.js","assets/OrderHistoryPage-SqJBrgfv.css","assets/list-ordered-a_4-UPcK.js","assets/package-x-CNBULsdo.js","assets/CustomerCenterPage-BFpkv3l_.js","assets/circle-plus-DMyLxw0U.js","assets/chevron-down-BK2KvEme.js","assets/save-B2IXE8Sx.js","assets/circle-question-mark-e2kfLd7M.js","assets/CustomerCenterPage-Bu0hQfCV.css","assets/PointHistoryPage-Dd_lJXMd.js","assets/tippy-BL_pV7HH.js","assets/tippy-BHH8rdGj.css","assets/PointHistoryPage-DXmnAufz.css","assets/OnsiteSalePage-CvdLNldA.js","assets/OnsiteSalePage-BoQOeV4J.js","assets/OnsiteSalePage-Ddr14jdV.css","assets/TermsPage-BMqW5U2B.js","assets/useDocumentTitle-BBAuQihd.js","assets/TermsPage-L_a0h4gb.css","assets/PrivacyPolicyPage-C4RJB_Mg.js","assets/PrivacyPolicyPage-DDZgpILp.css","assets/OrderCalendar-tw9TQloE.js","assets/shield-check-80tGVhw7.js","assets/OrderCalendar-Dt3pNGxX.css","assets/EncorePage-Dnxz-TEI.js","assets/DashboardPage-E9fbrojP.js","assets/DashboardPage-D_DjKEUj.css","assets/ProductListPageAdmin-lw-NmWur.js","assets/number-D3CZtsVU.js","assets/logger-CZyc96rC.js","assets/funnel-wB9N5xOV.js","assets/trash-2-C0X2zetg.js","assets/square-pen-CwtIThVX.js","assets/chevrons-left-DkUsVS3s.js","assets/chevrons-right-B6gfhwfl.js","assets/ProductListPageAdmin-4ivryZ23.css","assets/ProductAddAdminPage-BMPB3ZZz.js","assets/ProductForm-zRSuMC86.js","assets/react-beautiful-dnd.esm-BdJ2y8EP.js","assets/loader-circle-B7eOStzy.js","assets/ProductForm-CWCg1pNp.css","assets/SalesRoundEditPage--qbhazs2.js","assets/UserListPage-DKr-nefz.js","assets/PointManagementModal-DQ5B4Jdr.js","assets/PointManagementModal-CLjUUUWD.css","assets/formatUtils-C7pUNVKC.js","assets/arrow-up-down-9iQe4W9e.js","assets/UserListPage-C4fW2naM.css","assets/UserDetailPage-BGnvjAFO.js","assets/arrow-left-Brk6UMhG.js","assets/user-B2WtjEKL.js","assets/UserDetailPage-CLOVGYkP.css","assets/BannerAdminPage-C3CA6yaP.js","assets/grip-vertical-DMFS8ejR.js","assets/BannerAdminPage-BFat4Ow9.css","assets/CategoryManagementPage-ZYw0mHrq.js","assets/CategoryManagementPage-n4wKuI2V.css","assets/OrderManagementPage-BnkBMpGx.js","assets/dollar-sign-DcMg-NJE.js","assets/OrderManagementPage-DByOALJl.css","assets/ProductCategoryBatchPage-BgQbcghw.js","assets/ProductCategoryBatchPage-B33E5LgD.css","assets/QuickCheckPage-CsI516e9.js","assets/QuickCheckPage-DLJFOgUp.css"])))=>i.map(i=>d[i]);
function kT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const JA="modulepreload",XA=function(t){return"/"+t},Tw={},kt=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=f(n.map(p=>{if(p=XA(p),p in Tw)return;Tw[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":JA,m||(w.as="script"),w.crossOrigin="",w.href=p,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((T,S)=>{w.addEventListener("load",T),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};var d3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function f3(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _m={exports:{}},Uu={},wm={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function ZA(){if(Iw)return et;Iw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function b($,Z,Ce){this.props=$,this.context=Z,this.refs=A,this.updater=Ce||T}b.prototype.isReactComponent={},b.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},b.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function M(){}M.prototype=b.prototype;function x($,Z,Ce){this.props=$,this.context=Z,this.refs=A,this.updater=Ce||T}var G=x.prototype=new M;G.constructor=x,S(G,b.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,ue=Object.prototype.hasOwnProperty,fe={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function C($,Z,Ce){var qe,Ue={},Ke=null,Qe=null;if(Z!=null)for(qe in Z.ref!==void 0&&(Qe=Z.ref),Z.key!==void 0&&(Ke=""+Z.key),Z)ue.call(Z,qe)&&!R.hasOwnProperty(qe)&&(Ue[qe]=Z[qe]);var st=arguments.length-2;if(st===1)Ue.children=Ce;else if(1<st){for(var At=Array(st),Xt=0;Xt<st;Xt++)At[Xt]=arguments[Xt+2];Ue.children=At}if($&&$.defaultProps)for(qe in st=$.defaultProps,st)Ue[qe]===void 0&&(Ue[qe]=st[qe]);return{$$typeof:t,type:$,key:Ke,ref:Qe,props:Ue,_owner:fe.current}}function k($,Z){return{$$typeof:t,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Ce){return Z[Ce]})}var B=/\/+/g;function D($,Z){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):Z.toString(36)}function it($,Z,Ce,qe,Ue){var Ke=typeof $;(Ke==="undefined"||Ke==="boolean")&&($=null);var Qe=!1;if($===null)Qe=!0;else switch(Ke){case"string":case"number":Qe=!0;break;case"object":switch($.$$typeof){case t:case e:Qe=!0}}if(Qe)return Qe=$,Ue=Ue(Qe),$=qe===""?"."+D(Qe,0):qe,ee(Ue)?(Ce="",$!=null&&(Ce=$.replace(B,"$&/")+"/"),it(Ue,Z,Ce,"",function(Xt){return Xt})):Ue!=null&&(N(Ue)&&(Ue=k(Ue,Ce+(!Ue.key||Qe&&Qe.key===Ue.key?"":(""+Ue.key).replace(B,"$&/")+"/")+$)),Z.push(Ue)),1;if(Qe=0,qe=qe===""?".":qe+":",ee($))for(var st=0;st<$.length;st++){Ke=$[st];var At=qe+D(Ke,st);Qe+=it(Ke,Z,Ce,At,Ue)}else if(At=w($),typeof At=="function")for($=At.call($),st=0;!(Ke=$.next()).done;)Ke=Ke.value,At=qe+D(Ke,st++),Qe+=it(Ke,Z,Ce,At,Ue);else if(Ke==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Qe}function Ct($,Z,Ce){if($==null)return $;var qe=[],Ue=0;return it($,qe,"","",function(Ke){return Z.call(Ce,Ke,Ue++)}),qe}function Qt($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(Ce){($._status===0||$._status===-1)&&($._status=1,$._result=Ce)},function(Ce){($._status===0||$._status===-1)&&($._status=2,$._result=Ce)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var mt={current:null},se={transition:null},Ne={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:se,ReactCurrentOwner:fe};function ge(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:Ct,forEach:function($,Z,Ce){Ct($,function(){Z.apply(this,arguments)},Ce)},count:function($){var Z=0;return Ct($,function(){Z++}),Z},toArray:function($){return Ct($,function(Z){return Z})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},et.Component=b,et.Fragment=n,et.Profiler=i,et.PureComponent=x,et.StrictMode=r,et.Suspense=f,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ne,et.act=ge,et.cloneElement=function($,Z,Ce){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var qe=S({},$.props),Ue=$.key,Ke=$.ref,Qe=$._owner;if(Z!=null){if(Z.ref!==void 0&&(Ke=Z.ref,Qe=fe.current),Z.key!==void 0&&(Ue=""+Z.key),$.type&&$.type.defaultProps)var st=$.type.defaultProps;for(At in Z)ue.call(Z,At)&&!R.hasOwnProperty(At)&&(qe[At]=Z[At]===void 0&&st!==void 0?st[At]:Z[At])}var At=arguments.length-2;if(At===1)qe.children=Ce;else if(1<At){st=Array(At);for(var Xt=0;Xt<At;Xt++)st[Xt]=arguments[Xt+2];qe.children=st}return{$$typeof:t,type:$.type,key:Ue,ref:Ke,props:qe,_owner:Qe}},et.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},et.createElement=C,et.createFactory=function($){var Z=C.bind(null,$);return Z.type=$,Z},et.createRef=function(){return{current:null}},et.forwardRef=function($){return{$$typeof:c,render:$}},et.isValidElement=N,et.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:Qt}},et.memo=function($,Z){return{$$typeof:p,type:$,compare:Z===void 0?null:Z}},et.startTransition=function($){var Z=se.transition;se.transition={};try{$()}finally{se.transition=Z}},et.unstable_act=ge,et.useCallback=function($,Z){return mt.current.useCallback($,Z)},et.useContext=function($){return mt.current.useContext($)},et.useDebugValue=function(){},et.useDeferredValue=function($){return mt.current.useDeferredValue($)},et.useEffect=function($,Z){return mt.current.useEffect($,Z)},et.useId=function(){return mt.current.useId()},et.useImperativeHandle=function($,Z,Ce){return mt.current.useImperativeHandle($,Z,Ce)},et.useInsertionEffect=function($,Z){return mt.current.useInsertionEffect($,Z)},et.useLayoutEffect=function($,Z){return mt.current.useLayoutEffect($,Z)},et.useMemo=function($,Z){return mt.current.useMemo($,Z)},et.useReducer=function($,Z,Ce){return mt.current.useReducer($,Z,Ce)},et.useRef=function($){return mt.current.useRef($)},et.useState=function($){return mt.current.useState($)},et.useSyncExternalStore=function($,Z,Ce){return mt.current.useSyncExternalStore($,Z,Ce)},et.useTransition=function(){return mt.current.useTransition()},et.version="18.3.1",et}var Sw;function $g(){return Sw||(Sw=1,wm.exports=ZA()),wm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function eP(){if(Rw)return Uu;Rw=1;var t=$g(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var m,y={},w=null,T=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(T=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(y[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)y[m]===void 0&&(y[m]=f[m]);return{$$typeof:e,type:c,key:w,ref:T,props:y,_owner:i.current}}return Uu.Fragment=n,Uu.jsx=l,Uu.jsxs=l,Uu}var Aw;function tP(){return Aw||(Aw=1,_m.exports=eP()),_m.exports}var ce=tP(),L=$g();const me=Gi(L),nP=kT({__proto__:null,default:me},[L]);var af={},Em={exports:{}},ar={},Tm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function rP(){return Pw||(Pw=1,function(t){function e(se,Ne){var ge=se.length;se.push(Ne);e:for(;0<ge;){var $=ge-1>>>1,Z=se[$];if(0<i(Z,Ne))se[$]=Ne,se[ge]=Z,ge=$;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var Ne=se[0],ge=se.pop();if(ge!==Ne){se[0]=ge;e:for(var $=0,Z=se.length,Ce=Z>>>1;$<Ce;){var qe=2*($+1)-1,Ue=se[qe],Ke=qe+1,Qe=se[Ke];if(0>i(Ue,ge))Ke<Z&&0>i(Qe,Ue)?(se[$]=Qe,se[Ke]=ge,$=Ke):(se[$]=Ue,se[qe]=ge,$=qe);else if(Ke<Z&&0>i(Qe,ge))se[$]=Qe,se[Ke]=ge,$=Ke;else break e}}return Ne}function i(se,Ne){var ge=se.sortIndex-Ne.sortIndex;return ge!==0?ge:se.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],p=[],m=1,y=null,w=3,T=!1,S=!1,A=!1,b=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(se){for(var Ne=n(p);Ne!==null;){if(Ne.callback===null)r(p);else if(Ne.startTime<=se)r(p),Ne.sortIndex=Ne.expirationTime,e(f,Ne);else break;Ne=n(p)}}function ee(se){if(A=!1,G(se),!S)if(n(f)!==null)S=!0,Qt(ue);else{var Ne=n(p);Ne!==null&&mt(ee,Ne.startTime-se)}}function ue(se,Ne){S=!1,A&&(A=!1,M(C),C=-1),T=!0;var ge=w;try{for(G(Ne),y=n(f);y!==null&&(!(y.expirationTime>Ne)||se&&!U());){var $=y.callback;if(typeof $=="function"){y.callback=null,w=y.priorityLevel;var Z=$(y.expirationTime<=Ne);Ne=t.unstable_now(),typeof Z=="function"?y.callback=Z:y===n(f)&&r(f),G(Ne)}else r(f);y=n(f)}if(y!==null)var Ce=!0;else{var qe=n(p);qe!==null&&mt(ee,qe.startTime-Ne),Ce=!1}return Ce}finally{y=null,w=ge,T=!1}}var fe=!1,R=null,C=-1,k=5,N=-1;function U(){return!(t.unstable_now()-N<k)}function B(){if(R!==null){var se=t.unstable_now();N=se;var Ne=!0;try{Ne=R(!0,se)}finally{Ne?D():(fe=!1,R=null)}}else fe=!1}var D;if(typeof x=="function")D=function(){x(B)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Ct=it.port2;it.port1.onmessage=B,D=function(){Ct.postMessage(null)}}else D=function(){b(B,0)};function Qt(se){R=se,fe||(fe=!0,D())}function mt(se,Ne){C=b(function(){se(t.unstable_now())},Ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,Qt(ue))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var Ne=3;break;default:Ne=w}var ge=w;w=Ne;try{return se()}finally{w=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,Ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ge=w;w=se;try{return Ne()}finally{w=ge}},t.unstable_scheduleCallback=function(se,Ne,ge){var $=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?$+ge:$):ge=$,se){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ge+Z,se={id:m++,callback:Ne,priorityLevel:se,startTime:ge,expirationTime:Z,sortIndex:-1},ge>$?(se.sortIndex=ge,e(p,se),n(f)===null&&se===n(p)&&(A?(M(C),C=-1):A=!0,mt(ee,ge-$))):(se.sortIndex=Z,e(f,se),S||T||(S=!0,Qt(ue))),se},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(se){var Ne=w;return function(){var ge=w;w=Ne;try{return se.apply(this,arguments)}finally{w=ge}}}}(Im)),Im}var Cw;function iP(){return Cw||(Cw=1,Tm.exports=rP()),Tm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function sP(){if(bw)return ar;bw=1;var t=$g(),e=iP();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return f.call(y,s)?!0:f.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,o,u,h){if(o===null||typeof o>"u"||T(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function A(s,o,u,h,g,_,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new A(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function x(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(M,x);b[o]=new A(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(M,x);b[o]=new A(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(M,x);b[o]=new A(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function G(s,o,u,h){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,u,g,h)&&(u=null),h||g===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,h=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),fe=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),mt=Symbol.for("react.offscreen"),se=Symbol.iterator;function Ne(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ge=Object.assign,$;function Z(s){if($===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+s}var Ce=!1;function qe(s,o){if(!s||Ce)return"";Ce=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var h=Q}Reflect.construct(s,[],o)}else{try{o.call()}catch(Q){h=Q}s.call(o.prototype)}else{try{throw Error()}catch(Q){h=Q}s()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var g=Q.stack.split(`
`),_=h.stack.split(`
`),I=g.length-1,O=_.length-1;1<=I&&0<=O&&g[I]!==_[O];)O--;for(;1<=I&&0<=O;I--,O--)if(g[I]!==_[O]){if(I!==1||O!==1)do if(I--,O--,0>O||g[I]!==_[O]){var F=`
`+g[I].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=I&&0<=O);break}}}finally{Ce=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function Ue(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=qe(s.type,!1),s;case 11:return s=qe(s.type.render,!1),s;case 1:return s=qe(s.type,!0),s;default:return""}}function Ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case fe:return"Portal";case k:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case it:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case B:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ct:return o=s.displayName||null,o!==null?o:Ke(s.type)||"Memo";case Qt:o=s._payload,s=s._init;try{return Ke(s(o))}catch{}}return null}function Qe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function st(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function At(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Xt(s){var o=At(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(I){h=""+I,_.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function qr(s){s._valueTracker||(s._valueTracker=Xt(s))}function $t(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=At(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function Un(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function _i(s,o){var u=o.checked;return ge({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ks(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=st(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function fr(s,o){o=o.checked,o!=null&&G(s,"checked",o,!1)}function Bo(s,o){fr(s,o);var u=st(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ji(s,o.type,u):o.hasOwnProperty("defaultValue")&&Ji(s,o.type,st(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function La(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Ji(s,o,u){(o!=="number"||Un(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Gr=Array.isArray;function Kr(s,o,u,h){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&h&&(s[u].defaultSelected=!0)}else{for(u=""+st(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function zo(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ge({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Os(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Gr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:st(u)}}function Yn(s,o){var u=st(o.value),h=st(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function Qr(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ht(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ht(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var hn,jn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(hn=hn||document.createElement("div"),hn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=hn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Yr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xi=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(s){Xi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),kr[o]=kr[s]})});function Jn(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||kr.hasOwnProperty(s)&&kr[s]?(""+o).trim():o+"px"}function xs(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,g=Jn(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,g):s[u]=g}}var Ns=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ds(s,o){if(o){if(Ns[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function $o(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function Jr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zi=null,bn=null,Xn=null;function Ls(s){if(s=Su(s)){if(typeof Zi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Ed(o),Zi(s.stateNode,s.type,o))}}function hr(s){bn?Xn?Xn.push(s):Xn=[s]:bn=s}function Ho(){if(bn){var s=bn,o=Xn;if(Xn=bn=null,Ls(s),o)for(s=0;s<o.length;s++)Ls(o[s])}}function Ei(s,o){return s(o)}function Ti(){}var Zn=!1;function Wo(s,o,u){if(Zn)return s(o,u);Zn=!0;try{return Ei(s,o,u)}finally{Zn=!1,(bn!==null||Xn!==null)&&(Ti(),Ho())}}function Ut(s,o){var u=s.stateNode;if(u===null)return null;var h=Ed(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var V=!1;if(c)try{var z={};Object.defineProperty(z,"passive",{get:function(){V=!0}}),window.addEventListener("test",z,z),window.removeEventListener("test",z,z)}catch{V=!1}function K(s,o,u,h,g,_,I,O,F){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(ie){this.onError(ie)}}var ne=!1,pe=null,Ie=!1,Me=null,Se={onError:function(s){ne=!0,pe=s}};function Te(s,o,u,h,g,_,I,O,F){ne=!1,pe=null,K.apply(Se,arguments)}function ve(s,o,u,h,g,_,I,O,F){if(Te.apply(this,arguments),ne){if(ne){var Q=pe;ne=!1,pe=null}else throw Error(n(198));Ie||(Ie=!0,Me=Q)}}function _e(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function je(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function We(s){if(_e(s)!==s)throw Error(n(188))}function Wt(s){var o=s.alternate;if(!o){if(o=_e(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,h=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(h=g.return,h!==null){u=h;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return We(g),s;if(_===h)return We(g),o;_=_.sibling}throw Error(n(188))}if(u.return!==h.return)u=g,h=_;else{for(var I=!1,O=g.child;O;){if(O===u){I=!0,u=g,h=_;break}if(O===h){I=!0,h=g,u=_;break}O=O.sibling}if(!I){for(O=_.child;O;){if(O===u){I=!0,u=_,h=g;break}if(O===h){I=!0,h=_,u=g;break}O=O.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function yt(s){return s=Wt(s),s!==null?Ze(s):null}function Ze(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Ze(s);if(o!==null)return o;s=s.sibling}return null}var Tt=e.unstable_scheduleCallback,Or=e.unstable_cancelCallback,Ii=e.unstable_shouldYield,pr=e.unstable_requestPaint,nt=e.unstable_now,Ms=e.unstable_getCurrentPriorityLevel,mr=e.unstable_ImmediatePriority,kn=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Si=e.unstable_LowPriority,rt=e.unstable_IdlePriority,wt=null,Zt=null;function Ri(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(wt,s,void 0,(s.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:Ma,xr=Math.log,qo=Math.LN2;function Ma(s){return s>>>=0,s===0?32:31-(xr(s)/qo|0)|0}var Va=64,Fa=4194304;function Vs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Go(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,g=s.suspendedLanes,_=s.pingedLanes,I=u&268435455;if(I!==0){var O=I&~g;O!==0?h=Vs(O):(_&=I,_!==0&&(h=Vs(_)))}else I=u&~g,I!==0?h=Vs(I):_!==0&&(h=Vs(_));if(h===0)return 0;if(o!==0&&o!==h&&(o&g)===0&&(g=h&-h,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-ot(o),g=1<<u,h|=s[u],o&=~g;return h}function Qh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var I=31-ot(_),O=1<<I,F=g[I];F===-1?((O&u)===0||(O&h)!==0)&&(g[I]=Qh(O,o)):F<=o&&(s.expiredLanes|=O),_&=~O}}function gr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ko(){var s=Va;return Va<<=1,(Va&4194240)===0&&(Va=64),s}function Fs(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Us(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-ot(o),s[o]=u}function Pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-ot(u),_=1<<g;o[g]=0,h[g]=-1,s[g]=-1,u&=~_}}function js(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-ot(u),g=1<<h;g&o|s[h]&o&&(s[h]|=o),u&=~g}}var ct=0;function Bs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ed,Ua,td,nd,rd,uu=!1,Ai=[],En=null,Xr=null,Zr=null,zs=new Map,Nr=new Map,Pi=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(s,o){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":zs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(o.pointerId)}}function er(s,o,u,h,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Su(o),o!==null&&Ua(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Jh(s,o,u,h,g){switch(o){case"focusin":return En=er(En,s,o,u,h,g),!0;case"dragenter":return Xr=er(Xr,s,o,u,h,g),!0;case"mouseover":return Zr=er(Zr,s,o,u,h,g),!0;case"pointerover":var _=g.pointerId;return zs.set(_,er(zs.get(_)||null,s,o,u,h,g)),!0;case"gotpointercapture":return _=g.pointerId,Nr.set(_,er(Nr.get(_)||null,s,o,u,h,g)),!0}return!1}function sd(s){var o=Zo(s.target);if(o!==null){var u=_e(o);if(u!==null){if(o=u.tag,o===13){if(o=je(u),o!==null){s.blockedOn=o,rd(s.priority,function(){td(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ts(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=ja(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);wi=h,u.target.dispatchEvent(h),wi=null}else return o=Su(u),o!==null&&Ua(o),s.blockedOn=u,!1;o.shift()}return!0}function Qo(s,o,u){ts(s)&&u.delete(o)}function od(){uu=!1,En!==null&&ts(En)&&(En=null),Xr!==null&&ts(Xr)&&(Xr=null),Zr!==null&&ts(Zr)&&(Zr=null),zs.forEach(Qo),Nr.forEach(Qo)}function ei(s,o){s.blockedOn===o&&(s.blockedOn=null,uu||(uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,od)))}function ti(s){function o(g){return ei(g,s)}if(0<Ai.length){ei(Ai[0],s);for(var u=1;u<Ai.length;u++){var h=Ai[u];h.blockedOn===s&&(h.blockedOn=null)}}for(En!==null&&ei(En,s),Xr!==null&&ei(Xr,s),Zr!==null&&ei(Zr,s),zs.forEach(o),Nr.forEach(o),u=0;u<Pi.length;u++)h=Pi[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<Pi.length&&(u=Pi[0],u.blockedOn===null);)sd(u),u.blockedOn===null&&Pi.shift()}var ns=ee.ReactCurrentBatchConfig,$s=!0;function Nt(s,o,u,h){var g=ct,_=ns.transition;ns.transition=null;try{ct=1,cu(s,o,u,h)}finally{ct=g,ns.transition=_}}function Xh(s,o,u,h){var g=ct,_=ns.transition;ns.transition=null;try{ct=4,cu(s,o,u,h)}finally{ct=g,ns.transition=_}}function cu(s,o,u,h){if($s){var g=ja(s,o,u,h);if(g===null)up(s,o,h,Yo,u),id(s,h);else if(Jh(g,s,o,u,h))h.stopPropagation();else if(id(s,h),o&4&&-1<Yh.indexOf(s)){for(;g!==null;){var _=Su(g);if(_!==null&&ed(_),_=ja(s,o,u,h),_===null&&up(s,o,h,Yo,u),_===g)break;g=_}g!==null&&h.stopPropagation()}else up(s,o,h,null,u)}}var Yo=null;function ja(s,o,u,h){if(Yo=null,s=Jr(h),s=Zo(s),s!==null)if(o=_e(s),o===null)s=null;else if(u=o.tag,u===13){if(s=je(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Yo=s,null}function du(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ms()){case mr:return 1;case kn:return 4;case wn:case Si:return 16;case rt:return 536870912;default:return 16}default:return 16}}var yr=null,Ba=null,tr=null;function fu(){if(tr)return tr;var s,o=Ba,u=o.length,h,g="value"in yr?yr.value:yr.textContent,_=g.length;for(s=0;s<u&&o[s]===g[s];s++);var I=u-s;for(h=1;h<=I&&o[u-h]===g[_-h];h++);return tr=g.slice(s,1<h?1-h:void 0)}function za(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Ci(){return!0}function hu(){return!1}function Tn(s){function o(u,h,g,_,I){this._reactName=u,this._targetInst=g,this.type=h,this.nativeEvent=_,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(u=s[O],this[O]=u?u(_):_[O]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ci:hu,this.isPropagationStopped=hu,this}return ge(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),o}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Tn(ni),bi=ge({},ni,{view:0,detail:0}),Zh=Tn(bi),Ha,rs,Hs,Jo=ge({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hs&&(Hs&&s.type==="mousemove"?(Ha=s.screenX-Hs.screenX,rs=s.screenY-Hs.screenY):rs=Ha=0,Hs=s),Ha)},movementY:function(s){return"movementY"in s?s.movementY:rs}}),Wa=Tn(Jo),pu=ge({},Jo,{dataTransfer:0}),ad=Tn(pu),qa=ge({},bi,{relatedTarget:0}),Ga=Tn(qa),ld=ge({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),is=Tn(ld),ud=ge({},ni,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),cd=Tn(ud),dd=ge({},ni,{data:0}),mu=Tn(dd),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=fd[s])?!!o[s]:!1}function ki(){return hd}var d=ge({},bi,{key:function(s){if(s.key){var o=Ka[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=za(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ki,charCode:function(s){return s.type==="keypress"?za(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?za(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Tn(d),E=ge({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Tn(E),H=ge({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ki}),Y=Tn(H),he=ge({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),It=Tn(he),ln=ge({},Jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ft=Tn(ln),pn=[9,13,27,32],en=c&&"CompositionEvent"in window,Dr=null;c&&"documentMode"in document&&(Dr=document.documentMode);var vr=c&&"TextEvent"in window&&!Dr,Xo=c&&(!en||Dr&&8<Dr&&11>=Dr),Qa=" ",gv=!1;function yv(s,o){switch(s){case"keyup":return pn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ya=!1;function KR(s,o){switch(s){case"compositionend":return vv(o);case"keypress":return o.which!==32?null:(gv=!0,Qa);case"textInput":return s=o.data,s===Qa&&gv?null:s;default:return null}}function QR(s,o){if(Ya)return s==="compositionend"||!en&&yv(s,o)?(s=fu(),tr=Ba=yr=null,Ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xo&&o.locale!=="ko"?null:o.data;default:return null}}var YR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!YR[s.type]:o==="textarea"}function wv(s,o,u,h){hr(h),o=vd(o,"onChange"),0<o.length&&(u=new $a("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var gu=null,yu=null;function JR(s){Fv(s,0)}function pd(s){var o=tl(s);if($t(o))return s}function XR(s,o){if(s==="change")return o}var Ev=!1;if(c){var ep;if(c){var tp="oninput"in document;if(!tp){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),tp=typeof Tv.oninput=="function"}ep=tp}else ep=!1;Ev=ep&&(!document.documentMode||9<document.documentMode)}function Iv(){gu&&(gu.detachEvent("onpropertychange",Sv),yu=gu=null)}function Sv(s){if(s.propertyName==="value"&&pd(yu)){var o=[];wv(o,yu,s,Jr(s)),Wo(JR,o)}}function ZR(s,o,u){s==="focusin"?(Iv(),gu=o,yu=u,gu.attachEvent("onpropertychange",Sv)):s==="focusout"&&Iv()}function eA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pd(yu)}function tA(s,o){if(s==="click")return pd(o)}function nA(s,o){if(s==="input"||s==="change")return pd(o)}function rA(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ri=typeof Object.is=="function"?Object.is:rA;function vu(s,o){if(ri(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var g=u[h];if(!f.call(o,g)||!ri(s[g],o[g]))return!1}return!0}function Rv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Av(s,o){var u=Rv(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Rv(u)}}function Pv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Pv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Cv(){for(var s=window,o=Un();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Un(s.document)}return o}function np(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function iA(s){var o=Cv(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Pv(u.ownerDocument.documentElement,u)){if(h!==null&&np(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,_=Math.min(h.start,g);h=h.end===void 0?_:Math.min(h.end,g),!s.extend&&_>h&&(g=h,h=_,_=g),g=Av(u,_);var I=Av(u,h);g&&I&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),_>h?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var sA=c&&"documentMode"in document&&11>=document.documentMode,Ja=null,rp=null,_u=null,ip=!1;function bv(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ip||Ja==null||Ja!==Un(h)||(h=Ja,"selectionStart"in h&&np(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),_u&&vu(_u,h)||(_u=h,h=vd(rp,"onSelect"),0<h.length&&(o=new $a("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=Ja)))}function md(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Xa={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},sp={},kv={};c&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function gd(s){if(sp[s])return sp[s];if(!Xa[s])return s;var o=Xa[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in kv)return sp[s]=o[u];return s}var Ov=gd("animationend"),xv=gd("animationiteration"),Nv=gd("animationstart"),Dv=gd("transitionend"),Lv=new Map,Mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(s,o){Lv.set(s,o),a(o,[s])}for(var op=0;op<Mv.length;op++){var ap=Mv[op],oA=ap.toLowerCase(),aA=ap[0].toUpperCase()+ap.slice(1);Ws(oA,"on"+aA)}Ws(Ov,"onAnimationEnd"),Ws(xv,"onAnimationIteration"),Ws(Nv,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(Dv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("cancel close invalid load scroll toggle".split(" ").concat(wu));function Vv(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,ve(h,o,void 0,s),s.currentTarget=null}function Fv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],g=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var I=h.length-1;0<=I;I--){var O=h[I],F=O.instance,Q=O.currentTarget;if(O=O.listener,F!==_&&g.isPropagationStopped())break e;Vv(g,O,Q),_=F}else for(I=0;I<h.length;I++){if(O=h[I],F=O.instance,Q=O.currentTarget,O=O.listener,F!==_&&g.isPropagationStopped())break e;Vv(g,O,Q),_=F}}}if(Ie)throw s=Me,Ie=!1,Me=null,s}function Ot(s,o){var u=o[mp];u===void 0&&(u=o[mp]=new Set);var h=s+"__bubble";u.has(h)||(Uv(o,s,2,!1),u.add(h))}function lp(s,o,u){var h=0;o&&(h|=4),Uv(u,s,h,o)}var yd="_reactListening"+Math.random().toString(36).slice(2);function Eu(s){if(!s[yd]){s[yd]=!0,r.forEach(function(u){u!=="selectionchange"&&(lA.has(u)||lp(u,!1,s),lp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[yd]||(o[yd]=!0,lp("selectionchange",!1,o))}}function Uv(s,o,u,h){switch(du(o)){case 1:var g=Nt;break;case 4:g=Xh;break;default:g=cu}u=g.bind(null,o,u,s),g=void 0,!V||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function up(s,o,u,h,g){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var O=h.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(I===4)for(I=h.return;I!==null;){var F=I.tag;if((F===3||F===4)&&(F=I.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;I=I.return}for(;O!==null;){if(I=Zo(O),I===null)return;if(F=I.tag,F===5||F===6){h=_=I;continue e}O=O.parentNode}}h=h.return}Wo(function(){var Q=_,ie=Jr(u),oe=[];e:{var re=Lv.get(s);if(re!==void 0){var ye=$a,Ae=s;switch(s){case"keypress":if(za(u)===0)break e;case"keydown":case"keyup":ye=v;break;case"focusin":Ae="focus",ye=Ga;break;case"focusout":Ae="blur",ye=Ga;break;case"beforeblur":case"afterblur":ye=Ga;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Y;break;case Ov:case xv:case Nv:ye=is;break;case Dv:ye=It;break;case"scroll":ye=Zh;break;case"wheel":ye=ft;break;case"copy":case"cut":case"paste":ye=cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=P}var Oe=(o&4)!==0,Yt=!Oe&&s==="scroll",W=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var j=Q,q;j!==null;){q=j;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,W!==null&&(ae=Ut(j,W),ae!=null&&Oe.push(Tu(j,ae,q)))),Yt)break;j=j.return}0<Oe.length&&(re=new ye(re,Ae,null,u,ie),oe.push({event:re,listeners:Oe}))}}if((o&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",re&&u!==wi&&(Ae=u.relatedTarget||u.fromElement)&&(Zo(Ae)||Ae[ss]))break e;if((ye||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,ye?(Ae=u.relatedTarget||u.toElement,ye=Q,Ae=Ae?Zo(Ae):null,Ae!==null&&(Yt=_e(Ae),Ae!==Yt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(ye=null,Ae=Q),ye!==Ae)){if(Oe=Wa,ae="onMouseLeave",W="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(Oe=P,ae="onPointerLeave",W="onPointerEnter",j="pointer"),Yt=ye==null?re:tl(ye),q=Ae==null?re:tl(Ae),re=new Oe(ae,j+"leave",ye,u,ie),re.target=Yt,re.relatedTarget=q,ae=null,Zo(ie)===Q&&(Oe=new Oe(W,j+"enter",Ae,u,ie),Oe.target=q,Oe.relatedTarget=Yt,ae=Oe),Yt=ae,ye&&Ae)t:{for(Oe=ye,W=Ae,j=0,q=Oe;q;q=Za(q))j++;for(q=0,ae=W;ae;ae=Za(ae))q++;for(;0<j-q;)Oe=Za(Oe),j--;for(;0<q-j;)W=Za(W),q--;for(;j--;){if(Oe===W||W!==null&&Oe===W.alternate)break t;Oe=Za(Oe),W=Za(W)}Oe=null}else Oe=null;ye!==null&&jv(oe,re,ye,Oe,!1),Ae!==null&&Yt!==null&&jv(oe,Yt,Ae,Oe,!0)}}e:{if(re=Q?tl(Q):window,ye=re.nodeName&&re.nodeName.toLowerCase(),ye==="select"||ye==="input"&&re.type==="file")var xe=XR;else if(_v(re))if(Ev)xe=nA;else{xe=eA;var Ve=ZR}else(ye=re.nodeName)&&ye.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(xe=tA);if(xe&&(xe=xe(s,Q))){wv(oe,xe,u,ie);break e}Ve&&Ve(s,re,Q),s==="focusout"&&(Ve=re._wrapperState)&&Ve.controlled&&re.type==="number"&&Ji(re,"number",re.value)}switch(Ve=Q?tl(Q):window,s){case"focusin":(_v(Ve)||Ve.contentEditable==="true")&&(Ja=Ve,rp=Q,_u=null);break;case"focusout":_u=rp=Ja=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,bv(oe,u,ie);break;case"selectionchange":if(sA)break;case"keydown":case"keyup":bv(oe,u,ie)}var Fe;if(en)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ya?yv(s,u)&&($e="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&($e="onCompositionStart");$e&&(Xo&&u.locale!=="ko"&&(Ya||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ya&&(Fe=fu()):(yr=ie,Ba="value"in yr?yr.value:yr.textContent,Ya=!0)),Ve=vd(Q,$e),0<Ve.length&&($e=new mu($e,s,null,u,ie),oe.push({event:$e,listeners:Ve}),Fe?$e.data=Fe:(Fe=vv(u),Fe!==null&&($e.data=Fe)))),(Fe=vr?KR(s,u):QR(s,u))&&(Q=vd(Q,"onBeforeInput"),0<Q.length&&(ie=new mu("onBeforeInput","beforeinput",null,u,ie),oe.push({event:ie,listeners:Q}),ie.data=Fe))}Fv(oe,o)})}function Tu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function vd(s,o){for(var u=o+"Capture",h=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=Ut(s,u),_!=null&&h.unshift(Tu(s,_,g)),_=Ut(s,o),_!=null&&h.push(Tu(s,_,g))),s=s.return}return h}function Za(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function jv(s,o,u,h,g){for(var _=o._reactName,I=[];u!==null&&u!==h;){var O=u,F=O.alternate,Q=O.stateNode;if(F!==null&&F===h)break;O.tag===5&&Q!==null&&(O=Q,g?(F=Ut(u,_),F!=null&&I.unshift(Tu(u,F,O))):g||(F=Ut(u,_),F!=null&&I.push(Tu(u,F,O)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function Bv(s){return(typeof s=="string"?s:""+s).replace(uA,`
`).replace(cA,"")}function _d(s,o,u){if(o=Bv(o),Bv(s)!==o&&u)throw Error(n(425))}function wd(){}var cp=null,dp=null;function fp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(s){return zv.resolve(null).then(s).catch(hA)}:hp;function hA(s){setTimeout(function(){throw s})}function pp(s,o){var u=o,h=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(h===0){s.removeChild(g),ti(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=g}while(u);ti(o)}function qs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function $v(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var el=Math.random().toString(36).slice(2),Oi="__reactFiber$"+el,Iu="__reactProps$"+el,ss="__reactContainer$"+el,mp="__reactEvents$"+el,pA="__reactListeners$"+el,mA="__reactHandles$"+el;function Zo(s){var o=s[Oi];if(o)return o;for(var u=s.parentNode;u;){if(o=u[ss]||u[Oi]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=$v(s);s!==null;){if(u=s[Oi])return u;s=$v(s)}return o}s=u,u=s.parentNode}return null}function Su(s){return s=s[Oi]||s[ss],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function tl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ed(s){return s[Iu]||null}var gp=[],nl=-1;function Gs(s){return{current:s}}function xt(s){0>nl||(s.current=gp[nl],gp[nl]=null,nl--)}function bt(s,o){nl++,gp[nl]=s.current,s.current=o}var Ks={},On=Gs(Ks),nr=Gs(!1),ea=Ks;function rl(s,o){var u=s.type.contextTypes;if(!u)return Ks;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function rr(s){return s=s.childContextTypes,s!=null}function Td(){xt(nr),xt(On)}function Hv(s,o,u){if(On.current!==Ks)throw Error(n(168));bt(On,o),bt(nr,u)}function Wv(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var g in h)if(!(g in o))throw Error(n(108,Qe(s)||"Unknown",g));return ge({},u,h)}function Id(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ks,ea=On.current,bt(On,s),bt(nr,nr.current),!0}function qv(s,o,u){var h=s.stateNode;if(!h)throw Error(n(169));u?(s=Wv(s,o,ea),h.__reactInternalMemoizedMergedChildContext=s,xt(nr),xt(On),bt(On,s)):xt(nr),bt(nr,u)}var os=null,Sd=!1,yp=!1;function Gv(s){os===null?os=[s]:os.push(s)}function gA(s){Sd=!0,Gv(s)}function Qs(){if(!yp&&os!==null){yp=!0;var s=0,o=ct;try{var u=os;for(ct=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}os=null,Sd=!1}catch(g){throw os!==null&&(os=os.slice(s+1)),Tt(mr,Qs),g}finally{ct=o,yp=!1}}return null}var il=[],sl=0,Rd=null,Ad=0,Lr=[],Mr=0,ta=null,as=1,ls="";function na(s,o){il[sl++]=Ad,il[sl++]=Rd,Rd=s,Ad=o}function Kv(s,o,u){Lr[Mr++]=as,Lr[Mr++]=ls,Lr[Mr++]=ta,ta=s;var h=as;s=ls;var g=32-ot(h)-1;h&=~(1<<g),u+=1;var _=32-ot(o)+g;if(30<_){var I=g-g%5;_=(h&(1<<I)-1).toString(32),h>>=I,g-=I,as=1<<32-ot(o)+g|u<<g|h,ls=_+s}else as=1<<_|u<<g|h,ls=s}function vp(s){s.return!==null&&(na(s,1),Kv(s,1,0))}function _p(s){for(;s===Rd;)Rd=il[--sl],il[sl]=null,Ad=il[--sl],il[sl]=null;for(;s===ta;)ta=Lr[--Mr],Lr[Mr]=null,ls=Lr[--Mr],Lr[Mr]=null,as=Lr[--Mr],Lr[Mr]=null}var _r=null,wr=null,Dt=!1,ii=null;function Qv(s,o){var u=jr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Yv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,_r=s,wr=qs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,_r=s,wr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ta!==null?{id:as,overflow:ls}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=jr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,_r=s,wr=null,!0):!1;default:return!1}}function wp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ep(s){if(Dt){var o=wr;if(o){var u=o;if(!Yv(s,o)){if(wp(s))throw Error(n(418));o=qs(u.nextSibling);var h=_r;o&&Yv(s,o)?Qv(h,u):(s.flags=s.flags&-4097|2,Dt=!1,_r=s)}}else{if(wp(s))throw Error(n(418));s.flags=s.flags&-4097|2,Dt=!1,_r=s}}}function Jv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;_r=s}function Pd(s){if(s!==_r)return!1;if(!Dt)return Jv(s),Dt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!fp(s.type,s.memoizedProps)),o&&(o=wr)){if(wp(s))throw Xv(),Error(n(418));for(;o;)Qv(s,o),o=qs(o.nextSibling)}if(Jv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){wr=qs(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}wr=null}}else wr=_r?qs(s.stateNode.nextSibling):null;return!0}function Xv(){for(var s=wr;s;)s=qs(s.nextSibling)}function ol(){wr=_r=null,Dt=!1}function Tp(s){ii===null?ii=[s]:ii.push(s)}var yA=ee.ReactCurrentBatchConfig;function Ru(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,s));var g=h,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(I){var O=g.refs;I===null?delete O[_]:O[_]=I},o._stringRef=_,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Cd(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Zv(s){var o=s._init;return o(s._payload)}function e_(s){function o(W,j){if(s){var q=W.deletions;q===null?(W.deletions=[j],W.flags|=16):q.push(j)}}function u(W,j){if(!s)return null;for(;j!==null;)o(W,j),j=j.sibling;return null}function h(W,j){for(W=new Map;j!==null;)j.key!==null?W.set(j.key,j):W.set(j.index,j),j=j.sibling;return W}function g(W,j){return W=ro(W,j),W.index=0,W.sibling=null,W}function _(W,j,q){return W.index=q,s?(q=W.alternate,q!==null?(q=q.index,q<j?(W.flags|=2,j):q):(W.flags|=2,j)):(W.flags|=1048576,j)}function I(W){return s&&W.alternate===null&&(W.flags|=2),W}function O(W,j,q,ae){return j===null||j.tag!==6?(j=hm(q,W.mode,ae),j.return=W,j):(j=g(j,q),j.return=W,j)}function F(W,j,q,ae){var xe=q.type;return xe===R?ie(W,j,q.props.children,ae,q.key):j!==null&&(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Qt&&Zv(xe)===j.type)?(ae=g(j,q.props),ae.ref=Ru(W,j,q),ae.return=W,ae):(ae=Xd(q.type,q.key,q.props,null,W.mode,ae),ae.ref=Ru(W,j,q),ae.return=W,ae)}function Q(W,j,q,ae){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=pm(q,W.mode,ae),j.return=W,j):(j=g(j,q.children||[]),j.return=W,j)}function ie(W,j,q,ae,xe){return j===null||j.tag!==7?(j=ca(q,W.mode,ae,xe),j.return=W,j):(j=g(j,q),j.return=W,j)}function oe(W,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=hm(""+j,W.mode,q),j.return=W,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ue:return q=Xd(j.type,j.key,j.props,null,W.mode,q),q.ref=Ru(W,null,j),q.return=W,q;case fe:return j=pm(j,W.mode,q),j.return=W,j;case Qt:var ae=j._init;return oe(W,ae(j._payload),q)}if(Gr(j)||Ne(j))return j=ca(j,W.mode,q,null),j.return=W,j;Cd(W,j)}return null}function re(W,j,q,ae){var xe=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return xe!==null?null:O(W,j,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case ue:return q.key===xe?F(W,j,q,ae):null;case fe:return q.key===xe?Q(W,j,q,ae):null;case Qt:return xe=q._init,re(W,j,xe(q._payload),ae)}if(Gr(q)||Ne(q))return xe!==null?null:ie(W,j,q,ae,null);Cd(W,q)}return null}function ye(W,j,q,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return W=W.get(q)||null,O(j,W,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case ue:return W=W.get(ae.key===null?q:ae.key)||null,F(j,W,ae,xe);case fe:return W=W.get(ae.key===null?q:ae.key)||null,Q(j,W,ae,xe);case Qt:var Ve=ae._init;return ye(W,j,q,Ve(ae._payload),xe)}if(Gr(ae)||Ne(ae))return W=W.get(q)||null,ie(j,W,ae,xe,null);Cd(j,ae)}return null}function Ae(W,j,q,ae){for(var xe=null,Ve=null,Fe=j,$e=j=0,yn=null;Fe!==null&&$e<q.length;$e++){Fe.index>$e?(yn=Fe,Fe=null):yn=Fe.sibling;var vt=re(W,Fe,q[$e],ae);if(vt===null){Fe===null&&(Fe=yn);break}s&&Fe&&vt.alternate===null&&o(W,Fe),j=_(vt,j,$e),Ve===null?xe=vt:Ve.sibling=vt,Ve=vt,Fe=yn}if($e===q.length)return u(W,Fe),Dt&&na(W,$e),xe;if(Fe===null){for(;$e<q.length;$e++)Fe=oe(W,q[$e],ae),Fe!==null&&(j=_(Fe,j,$e),Ve===null?xe=Fe:Ve.sibling=Fe,Ve=Fe);return Dt&&na(W,$e),xe}for(Fe=h(W,Fe);$e<q.length;$e++)yn=ye(Fe,W,$e,q[$e],ae),yn!==null&&(s&&yn.alternate!==null&&Fe.delete(yn.key===null?$e:yn.key),j=_(yn,j,$e),Ve===null?xe=yn:Ve.sibling=yn,Ve=yn);return s&&Fe.forEach(function(io){return o(W,io)}),Dt&&na(W,$e),xe}function Oe(W,j,q,ae){var xe=Ne(q);if(typeof xe!="function")throw Error(n(150));if(q=xe.call(q),q==null)throw Error(n(151));for(var Ve=xe=null,Fe=j,$e=j=0,yn=null,vt=q.next();Fe!==null&&!vt.done;$e++,vt=q.next()){Fe.index>$e?(yn=Fe,Fe=null):yn=Fe.sibling;var io=re(W,Fe,vt.value,ae);if(io===null){Fe===null&&(Fe=yn);break}s&&Fe&&io.alternate===null&&o(W,Fe),j=_(io,j,$e),Ve===null?xe=io:Ve.sibling=io,Ve=io,Fe=yn}if(vt.done)return u(W,Fe),Dt&&na(W,$e),xe;if(Fe===null){for(;!vt.done;$e++,vt=q.next())vt=oe(W,vt.value,ae),vt!==null&&(j=_(vt,j,$e),Ve===null?xe=vt:Ve.sibling=vt,Ve=vt);return Dt&&na(W,$e),xe}for(Fe=h(W,Fe);!vt.done;$e++,vt=q.next())vt=ye(Fe,W,$e,vt.value,ae),vt!==null&&(s&&vt.alternate!==null&&Fe.delete(vt.key===null?$e:vt.key),j=_(vt,j,$e),Ve===null?xe=vt:Ve.sibling=vt,Ve=vt);return s&&Fe.forEach(function(YA){return o(W,YA)}),Dt&&na(W,$e),xe}function Yt(W,j,q,ae){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case ue:e:{for(var xe=q.key,Ve=j;Ve!==null;){if(Ve.key===xe){if(xe=q.type,xe===R){if(Ve.tag===7){u(W,Ve.sibling),j=g(Ve,q.props.children),j.return=W,W=j;break e}}else if(Ve.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Qt&&Zv(xe)===Ve.type){u(W,Ve.sibling),j=g(Ve,q.props),j.ref=Ru(W,Ve,q),j.return=W,W=j;break e}u(W,Ve);break}else o(W,Ve);Ve=Ve.sibling}q.type===R?(j=ca(q.props.children,W.mode,ae,q.key),j.return=W,W=j):(ae=Xd(q.type,q.key,q.props,null,W.mode,ae),ae.ref=Ru(W,j,q),ae.return=W,W=ae)}return I(W);case fe:e:{for(Ve=q.key;j!==null;){if(j.key===Ve)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){u(W,j.sibling),j=g(j,q.children||[]),j.return=W,W=j;break e}else{u(W,j);break}else o(W,j);j=j.sibling}j=pm(q,W.mode,ae),j.return=W,W=j}return I(W);case Qt:return Ve=q._init,Yt(W,j,Ve(q._payload),ae)}if(Gr(q))return Ae(W,j,q,ae);if(Ne(q))return Oe(W,j,q,ae);Cd(W,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(u(W,j.sibling),j=g(j,q),j.return=W,W=j):(u(W,j),j=hm(q,W.mode,ae),j.return=W,W=j),I(W)):u(W,j)}return Yt}var al=e_(!0),t_=e_(!1),bd=Gs(null),kd=null,ll=null,Ip=null;function Sp(){Ip=ll=kd=null}function Rp(s){var o=bd.current;xt(bd),s._currentValue=o}function Ap(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function ul(s,o){kd=s,Ip=ll=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ir=!0),s.firstContext=null)}function Vr(s){var o=s._currentValue;if(Ip!==s)if(s={context:s,memoizedValue:o,next:null},ll===null){if(kd===null)throw Error(n(308));ll=s,kd.dependencies={lanes:0,firstContext:s}}else ll=ll.next=s;return o}var ra=null;function Pp(s){ra===null?ra=[s]:ra.push(s)}function n_(s,o,u,h){var g=o.interleaved;return g===null?(u.next=u,Pp(o)):(u.next=g.next,g.next=u),o.interleaved=u,us(s,h)}function us(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ys=!1;function Cp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r_(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function cs(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Js(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(gt&2)!==0){var g=h.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),h.pending=o,us(s,u)}return g=h.interleaved,g===null?(o.next=o,Pp(h)):(o.next=g.next,g.next=o),h.interleaved=o,us(s,u)}function Od(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,js(s,u)}}function i_(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=I:_=_.next=I,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function xd(s,o,u,h){var g=s.updateQueue;Ys=!1;var _=g.firstBaseUpdate,I=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var F=O,Q=F.next;F.next=null,I===null?_=Q:I.next=Q,I=F;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,O=ie.lastBaseUpdate,O!==I&&(O===null?ie.firstBaseUpdate=Q:O.next=Q,ie.lastBaseUpdate=F))}if(_!==null){var oe=g.baseState;I=0,ie=Q=F=null,O=_;do{var re=O.lane,ye=O.eventTime;if((h&re)===re){ie!==null&&(ie=ie.next={eventTime:ye,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=s,Oe=O;switch(re=o,ye=u,Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){oe=Ae.call(ye,oe,re);break e}oe=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,re=typeof Ae=="function"?Ae.call(ye,oe,re):Ae,re==null)break e;oe=ge({},oe,re);break e;case 2:Ys=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[O]:re.push(O))}else ye={eventTime:ye,lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ie===null?(Q=ie=ye,F=oe):ie=ie.next=ye,I|=re;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;re=O,O=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(ie===null&&(F=oe),g.baseState=F,g.firstBaseUpdate=Q,g.lastBaseUpdate=ie,o=g.shared.interleaved,o!==null){g=o;do I|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);oa|=I,s.lanes=I,s.memoizedState=oe}}function s_(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],g=h.callback;if(g!==null){if(h.callback=null,h=u,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Au={},xi=Gs(Au),Pu=Gs(Au),Cu=Gs(Au);function ia(s){if(s===Au)throw Error(n(174));return s}function bp(s,o){switch(bt(Cu,o),bt(Pu,s),bt(xi,Au),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ft(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ft(o,s)}xt(xi),bt(xi,o)}function cl(){xt(xi),xt(Pu),xt(Cu)}function o_(s){ia(Cu.current);var o=ia(xi.current),u=Ft(o,s.type);o!==u&&(bt(Pu,s),bt(xi,u))}function kp(s){Pu.current===s&&(xt(xi),xt(Pu))}var jt=Gs(0);function Nd(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Op=[];function xp(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var Dd=ee.ReactCurrentDispatcher,Np=ee.ReactCurrentBatchConfig,sa=0,Bt=null,un=null,mn=null,Ld=!1,bu=!1,ku=0,vA=0;function xn(){throw Error(n(321))}function Dp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ri(s[u],o[u]))return!1;return!0}function Lp(s,o,u,h,g,_){if(sa=_,Bt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Dd.current=s===null||s.memoizedState===null?TA:IA,s=u(h,g),bu){_=0;do{if(bu=!1,ku=0,25<=_)throw Error(n(301));_+=1,mn=un=null,o.updateQueue=null,Dd.current=SA,s=u(h,g)}while(bu)}if(Dd.current=Fd,o=un!==null&&un.next!==null,sa=0,mn=un=Bt=null,Ld=!1,o)throw Error(n(300));return s}function Mp(){var s=ku!==0;return ku=0,s}function Ni(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Bt.memoizedState=mn=s:mn=mn.next=s,mn}function Fr(){if(un===null){var s=Bt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var o=mn===null?Bt.memoizedState:mn.next;if(o!==null)mn=o,un=s;else{if(s===null)throw Error(n(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?Bt.memoizedState=mn=s:mn=mn.next=s}return mn}function Ou(s,o){return typeof o=="function"?o(s):o}function Vp(s){var o=Fr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var h=un,g=h.baseQueue,_=u.pending;if(_!==null){if(g!==null){var I=g.next;g.next=_.next,_.next=I}h.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,h=h.baseState;var O=I=null,F=null,Q=_;do{var ie=Q.lane;if((sa&ie)===ie)F!==null&&(F=F.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:s(h,Q.action);else{var oe={lane:ie,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};F===null?(O=F=oe,I=h):F=F.next=oe,Bt.lanes|=ie,oa|=ie}Q=Q.next}while(Q!==null&&Q!==_);F===null?I=h:F.next=O,ri(h,o.memoizedState)||(ir=!0),o.memoizedState=h,o.baseState=I,o.baseQueue=F,u.lastRenderedState=h}if(s=u.interleaved,s!==null){g=s;do _=g.lane,Bt.lanes|=_,oa|=_,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Fp(s){var o=Fr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var h=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var I=g=g.next;do _=s(_,I.action),I=I.next;while(I!==g);ri(_,o.memoizedState)||(ir=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,h]}function a_(){}function l_(s,o){var u=Bt,h=Fr(),g=o(),_=!ri(h.memoizedState,g);if(_&&(h.memoizedState=g,ir=!0),h=h.queue,Up(d_.bind(null,u,h,s),[s]),h.getSnapshot!==o||_||mn!==null&&mn.memoizedState.tag&1){if(u.flags|=2048,xu(9,c_.bind(null,u,h,g,o),void 0,null),gn===null)throw Error(n(349));(sa&30)!==0||u_(u,o,g)}return g}function u_(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Bt.updateQueue,o===null?(o={lastEffect:null,stores:null},Bt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function c_(s,o,u,h){o.value=u,o.getSnapshot=h,f_(o)&&h_(s)}function d_(s,o,u){return u(function(){f_(o)&&h_(s)})}function f_(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ri(s,u)}catch{return!0}}function h_(s){var o=us(s,1);o!==null&&li(o,s,1,-1)}function p_(s){var o=Ni();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:s},o.queue=s,s=s.dispatch=EA.bind(null,Bt,s),[o.memoizedState,s]}function xu(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Bt.updateQueue,o===null?(o={lastEffect:null,stores:null},Bt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function m_(){return Fr().memoizedState}function Md(s,o,u,h){var g=Ni();Bt.flags|=s,g.memoizedState=xu(1|o,u,void 0,h===void 0?null:h)}function Vd(s,o,u,h){var g=Fr();h=h===void 0?null:h;var _=void 0;if(un!==null){var I=un.memoizedState;if(_=I.destroy,h!==null&&Dp(h,I.deps)){g.memoizedState=xu(o,u,_,h);return}}Bt.flags|=s,g.memoizedState=xu(1|o,u,_,h)}function g_(s,o){return Md(8390656,8,s,o)}function Up(s,o){return Vd(2048,8,s,o)}function y_(s,o){return Vd(4,2,s,o)}function v_(s,o){return Vd(4,4,s,o)}function __(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function w_(s,o,u){return u=u!=null?u.concat([s]):null,Vd(4,4,__.bind(null,o,s),u)}function jp(){}function E_(s,o){var u=Fr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Dp(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function T_(s,o){var u=Fr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Dp(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function I_(s,o,u){return(sa&21)===0?(s.baseState&&(s.baseState=!1,ir=!0),s.memoizedState=u):(ri(u,o)||(u=Ko(),Bt.lanes|=u,oa|=u,s.baseState=!0),o)}function _A(s,o){var u=ct;ct=u!==0&&4>u?u:4,s(!0);var h=Np.transition;Np.transition={};try{s(!1),o()}finally{ct=u,Np.transition=h}}function S_(){return Fr().memoizedState}function wA(s,o,u){var h=to(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},R_(s))A_(o,u);else if(u=n_(s,o,u,h),u!==null){var g=$n();li(u,s,h,g),P_(u,o,h)}}function EA(s,o,u){var h=to(s),g={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(R_(s))A_(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var I=o.lastRenderedState,O=_(I,u);if(g.hasEagerState=!0,g.eagerState=O,ri(O,I)){var F=o.interleaved;F===null?(g.next=g,Pp(o)):(g.next=F.next,F.next=g),o.interleaved=g;return}}catch{}finally{}u=n_(s,o,g,h),u!==null&&(g=$n(),li(u,s,h,g),P_(u,o,h))}}function R_(s){var o=s.alternate;return s===Bt||o!==null&&o===Bt}function A_(s,o){bu=Ld=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function P_(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,js(s,u)}}var Fd={readContext:Vr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},TA={readContext:Vr,useCallback:function(s,o){return Ni().memoizedState=[s,o===void 0?null:o],s},useContext:Vr,useEffect:g_,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Md(4194308,4,__.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Md(4194308,4,s,o)},useInsertionEffect:function(s,o){return Md(4,2,s,o)},useMemo:function(s,o){var u=Ni();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=Ni();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=wA.bind(null,Bt,s),[h.memoizedState,s]},useRef:function(s){var o=Ni();return s={current:s},o.memoizedState=s},useState:p_,useDebugValue:jp,useDeferredValue:function(s){return Ni().memoizedState=s},useTransition:function(){var s=p_(!1),o=s[0];return s=_A.bind(null,s[1]),Ni().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Bt,g=Ni();if(Dt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),gn===null)throw Error(n(349));(sa&30)!==0||u_(h,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,g_(d_.bind(null,h,_,s),[s]),h.flags|=2048,xu(9,c_.bind(null,h,_,u,o),void 0,null),u},useId:function(){var s=Ni(),o=gn.identifierPrefix;if(Dt){var u=ls,h=as;u=(h&~(1<<32-ot(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=ku++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=vA++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},IA={readContext:Vr,useCallback:E_,useContext:Vr,useEffect:Up,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:T_,useReducer:Vp,useRef:m_,useState:function(){return Vp(Ou)},useDebugValue:jp,useDeferredValue:function(s){var o=Fr();return I_(o,un.memoizedState,s)},useTransition:function(){var s=Vp(Ou)[0],o=Fr().memoizedState;return[s,o]},useMutableSource:a_,useSyncExternalStore:l_,useId:S_,unstable_isNewReconciler:!1},SA={readContext:Vr,useCallback:E_,useContext:Vr,useEffect:Up,useImperativeHandle:w_,useInsertionEffect:y_,useLayoutEffect:v_,useMemo:T_,useReducer:Fp,useRef:m_,useState:function(){return Fp(Ou)},useDebugValue:jp,useDeferredValue:function(s){var o=Fr();return un===null?o.memoizedState=s:I_(o,un.memoizedState,s)},useTransition:function(){var s=Fp(Ou)[0],o=Fr().memoizedState;return[s,o]},useMutableSource:a_,useSyncExternalStore:l_,useId:S_,unstable_isNewReconciler:!1};function si(s,o){if(s&&s.defaultProps){o=ge({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Bp(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:ge({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Ud={isMounted:function(s){return(s=s._reactInternals)?_e(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=$n(),g=to(s),_=cs(h,g);_.payload=o,u!=null&&(_.callback=u),o=Js(s,_,g),o!==null&&(li(o,s,g,h),Od(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=$n(),g=to(s),_=cs(h,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Js(s,_,g),o!==null&&(li(o,s,g,h),Od(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=$n(),h=to(s),g=cs(u,h);g.tag=2,o!=null&&(g.callback=o),o=Js(s,g,h),o!==null&&(li(o,s,h,u),Od(o,s,h))}};function C_(s,o,u,h,g,_,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,_,I):o.prototype&&o.prototype.isPureReactComponent?!vu(u,h)||!vu(g,_):!0}function b_(s,o,u){var h=!1,g=Ks,_=o.contextType;return typeof _=="object"&&_!==null?_=Vr(_):(g=rr(o)?ea:On.current,h=o.contextTypes,_=(h=h!=null)?rl(s,g):Ks),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ud,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),o}function k_(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&Ud.enqueueReplaceState(o,o.state,null)}function zp(s,o,u,h){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Cp(s);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Vr(_):(_=rr(o)?ea:On.current,g.context=rl(s,_)),g.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Bp(s,o,_,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Ud.enqueueReplaceState(g,g.state,null),xd(s,u,g,h),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function dl(s,o){try{var u="",h=o;do u+=Ue(h),h=h.return;while(h);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:g,digest:null}}function $p(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Hp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var RA=typeof WeakMap=="function"?WeakMap:Map;function O_(s,o,u){u=cs(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){qd||(qd=!0,sm=h),Hp(s,o)},u}function x_(s,o,u){u=cs(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=o.value;u.payload=function(){return h(g)},u.callback=function(){Hp(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Hp(s,o),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function N_(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new RA;var g=new Set;h.set(o,g)}else g=h.get(o),g===void 0&&(g=new Set,h.set(o,g));g.has(u)||(g.add(u),s=UA.bind(null,s,o,u),o.then(s,s))}function D_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function L_(s,o,u,h,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=cs(-1,1),o.tag=2,Js(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var AA=ee.ReactCurrentOwner,ir=!1;function zn(s,o,u,h){o.child=s===null?t_(o,null,u,h):al(o,s.child,u,h)}function M_(s,o,u,h,g){u=u.render;var _=o.ref;return ul(o,g),h=Lp(s,o,u,h,_,g),u=Mp(),s!==null&&!ir?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ds(s,o,g)):(Dt&&u&&vp(o),o.flags|=1,zn(s,o,h,g),o.child)}function V_(s,o,u,h,g){if(s===null){var _=u.type;return typeof _=="function"&&!fm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,F_(s,o,_,h,g)):(s=Xd(u.type,null,h,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&g)===0){var I=_.memoizedProps;if(u=u.compare,u=u!==null?u:vu,u(I,h)&&s.ref===o.ref)return ds(s,o,g)}return o.flags|=1,s=ro(_,h),s.ref=o.ref,s.return=o,o.child=s}function F_(s,o,u,h,g){if(s!==null){var _=s.memoizedProps;if(vu(_,h)&&s.ref===o.ref)if(ir=!1,o.pendingProps=h=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(ir=!0);else return o.lanes=s.lanes,ds(s,o,g)}return Wp(s,o,u,h,g)}function U_(s,o,u){var h=o.pendingProps,g=h.children,_=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(hl,Er),Er|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,bt(hl,Er),Er|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:u,bt(hl,Er),Er|=h}else _!==null?(h=_.baseLanes|u,o.memoizedState=null):h=u,bt(hl,Er),Er|=h;return zn(s,o,g,u),o.child}function j_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Wp(s,o,u,h,g){var _=rr(u)?ea:On.current;return _=rl(o,_),ul(o,g),u=Lp(s,o,u,h,_,g),h=Mp(),s!==null&&!ir?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,ds(s,o,g)):(Dt&&h&&vp(o),o.flags|=1,zn(s,o,u,g),o.child)}function B_(s,o,u,h,g){if(rr(u)){var _=!0;Id(o)}else _=!1;if(ul(o,g),o.stateNode===null)Bd(s,o),b_(o,u,h),zp(o,u,h,g),h=!0;else if(s===null){var I=o.stateNode,O=o.memoizedProps;I.props=O;var F=I.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=Vr(Q):(Q=rr(u)?ea:On.current,Q=rl(o,Q));var ie=u.getDerivedStateFromProps,oe=typeof ie=="function"||typeof I.getSnapshotBeforeUpdate=="function";oe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==h||F!==Q)&&k_(o,I,h,Q),Ys=!1;var re=o.memoizedState;I.state=re,xd(o,h,I,g),F=o.memoizedState,O!==h||re!==F||nr.current||Ys?(typeof ie=="function"&&(Bp(o,u,ie,h),F=o.memoizedState),(O=Ys||C_(o,u,O,h,re,F,Q))?(oe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=F),I.props=h,I.state=F,I.context=Q,h=O):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{I=o.stateNode,r_(s,o),O=o.memoizedProps,Q=o.type===o.elementType?O:si(o.type,O),I.props=Q,oe=o.pendingProps,re=I.context,F=u.contextType,typeof F=="object"&&F!==null?F=Vr(F):(F=rr(u)?ea:On.current,F=rl(o,F));var ye=u.getDerivedStateFromProps;(ie=typeof ye=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==oe||re!==F)&&k_(o,I,h,F),Ys=!1,re=o.memoizedState,I.state=re,xd(o,h,I,g);var Ae=o.memoizedState;O!==oe||re!==Ae||nr.current||Ys?(typeof ye=="function"&&(Bp(o,u,ye,h),Ae=o.memoizedState),(Q=Ys||C_(o,u,Q,h,re,Ae,F)||!1)?(ie||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Ae,F),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Ae,F)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ae),I.props=h,I.state=Ae,I.context=F,h=Q):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),h=!1)}return qp(s,o,u,h,_,g)}function qp(s,o,u,h,g,_){j_(s,o);var I=(o.flags&128)!==0;if(!h&&!I)return g&&qv(o,u,!1),ds(s,o,_);h=o.stateNode,AA.current=o;var O=I&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&I?(o.child=al(o,s.child,null,_),o.child=al(o,null,O,_)):zn(s,o,O,_),o.memoizedState=h.state,g&&qv(o,u,!0),o.child}function z_(s){var o=s.stateNode;o.pendingContext?Hv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Hv(s,o.context,!1),bp(s,o.containerInfo)}function $_(s,o,u,h,g){return ol(),Tp(g),o.flags|=256,zn(s,o,u,h),o.child}var Gp={dehydrated:null,treeContext:null,retryLane:0};function Kp(s){return{baseLanes:s,cachePool:null,transitions:null}}function H_(s,o,u){var h=o.pendingProps,g=jt.current,_=!1,I=(o.flags&128)!==0,O;if((O=I)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),bt(jt,g&1),s===null)return Ep(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=h.children,s=h.fallback,_?(h=o.mode,_=o.child,I={mode:"hidden",children:I},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=I):_=Zd(I,h,0,null),s=ca(s,h,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Kp(u),o.memoizedState=Gp,s):Qp(o,I));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return PA(s,o,I,h,O,g,u);if(_){_=h.fallback,I=o.mode,g=s.child,O=g.sibling;var F={mode:"hidden",children:h.children};return(I&1)===0&&o.child!==g?(h=o.child,h.childLanes=0,h.pendingProps=F,o.deletions=null):(h=ro(g,F),h.subtreeFlags=g.subtreeFlags&14680064),O!==null?_=ro(O,_):(_=ca(_,I,u,null),_.flags|=2),_.return=o,h.return=o,h.sibling=_,o.child=h,h=_,_=o.child,I=s.child.memoizedState,I=I===null?Kp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},_.memoizedState=I,_.childLanes=s.childLanes&~u,o.memoizedState=Gp,h}return _=s.child,s=_.sibling,h=ro(_,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function Qp(s,o){return o=Zd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function jd(s,o,u,h){return h!==null&&Tp(h),al(o,s.child,null,u),s=Qp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function PA(s,o,u,h,g,_,I){if(u)return o.flags&256?(o.flags&=-257,h=$p(Error(n(422))),jd(s,o,I,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=h.fallback,g=o.mode,h=Zd({mode:"visible",children:h.children},g,0,null),_=ca(_,g,I,null),_.flags|=2,h.return=o,_.return=o,h.sibling=_,o.child=h,(o.mode&1)!==0&&al(o,s.child,null,I),o.child.memoizedState=Kp(I),o.memoizedState=Gp,_);if((o.mode&1)===0)return jd(s,o,I,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var O=h.dgst;return h=O,_=Error(n(419)),h=$p(_,h,void 0),jd(s,o,I,h)}if(O=(I&s.childLanes)!==0,ir||O){if(h=gn,h!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(h.suspendedLanes|I))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,us(s,g),li(h,s,g,-1))}return dm(),h=$p(Error(n(421))),jd(s,o,I,h)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=jA.bind(null,s),g._reactRetry=o,null):(s=_.treeContext,wr=qs(g.nextSibling),_r=o,Dt=!0,ii=null,s!==null&&(Lr[Mr++]=as,Lr[Mr++]=ls,Lr[Mr++]=ta,as=s.id,ls=s.overflow,ta=o),o=Qp(o,h.children),o.flags|=4096,o)}function W_(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Ap(s.return,o,u)}function Yp(s,o,u,h,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=u,_.tailMode=g)}function q_(s,o,u){var h=o.pendingProps,g=h.revealOrder,_=h.tail;if(zn(s,o,h.children,u),h=jt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&W_(s,u,o);else if(s.tag===19)W_(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(bt(jt,h),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&Nd(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),Yp(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Nd(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}Yp(o,!0,u,null,_);break;case"together":Yp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Bd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ds(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),oa|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=ro(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=ro(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function CA(s,o,u){switch(o.tag){case 3:z_(o),ol();break;case 5:o_(o);break;case 1:rr(o.type)&&Id(o);break;case 4:bp(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,g=o.memoizedProps.value;bt(bd,h._currentValue),h._currentValue=g;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(bt(jt,jt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?H_(s,o,u):(bt(jt,jt.current&1),s=ds(s,o,u),s!==null?s.sibling:null);bt(jt,jt.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return q_(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),bt(jt,jt.current),h)break;return null;case 22:case 23:return o.lanes=0,U_(s,o,u)}return ds(s,o,u)}var G_,Jp,K_,Q_;G_=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Jp=function(){},K_=function(s,o,u,h){var g=s.memoizedProps;if(g!==h){s=o.stateNode,ia(xi.current);var _=null;switch(u){case"input":g=_i(s,g),h=_i(s,h),_=[];break;case"select":g=ge({},g,{value:void 0}),h=ge({},h,{value:void 0}),_=[];break;case"textarea":g=zo(s,g),h=zo(s,h),_=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=wd)}Ds(u,h);var I;u=null;for(Q in g)if(!h.hasOwnProperty(Q)&&g.hasOwnProperty(Q)&&g[Q]!=null)if(Q==="style"){var O=g[Q];for(I in O)O.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(i.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in h){var F=h[Q];if(O=g?.[Q],h.hasOwnProperty(Q)&&F!==O&&(F!=null||O!=null))if(Q==="style")if(O){for(I in O)!O.hasOwnProperty(I)||F&&F.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in F)F.hasOwnProperty(I)&&O[I]!==F[I]&&(u||(u={}),u[I]=F[I])}else u||(_||(_=[]),_.push(Q,u)),u=F;else Q==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(_=_||[]).push(Q,F)):Q==="children"?typeof F!="string"&&typeof F!="number"||(_=_||[]).push(Q,""+F):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(i.hasOwnProperty(Q)?(F!=null&&Q==="onScroll"&&Ot("scroll",s),_||O===F||(_=[])):(_=_||[]).push(Q,F))}u&&(_=_||[]).push("style",u);var Q=_;(o.updateQueue=Q)&&(o.flags|=4)}},Q_=function(s,o,u,h){u!==h&&(o.flags|=4)};function Nu(s,o){if(!Dt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Nn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function bA(s,o,u){var h=o.pendingProps;switch(_p(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(o),null;case 1:return rr(o.type)&&Td(),Nn(o),null;case 3:return h=o.stateNode,cl(),xt(nr),xt(On),xp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Pd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ii!==null&&(lm(ii),ii=null))),Jp(s,o),Nn(o),null;case 5:kp(o);var g=ia(Cu.current);if(u=o.type,s!==null&&o.stateNode!=null)K_(s,o,u,h,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Nn(o),null}if(s=ia(xi.current),Pd(o)){h=o.stateNode,u=o.type;var _=o.memoizedProps;switch(h[Oi]=o,h[Iu]=_,s=(o.mode&1)!==0,u){case"dialog":Ot("cancel",h),Ot("close",h);break;case"iframe":case"object":case"embed":Ot("load",h);break;case"video":case"audio":for(g=0;g<wu.length;g++)Ot(wu[g],h);break;case"source":Ot("error",h);break;case"img":case"image":case"link":Ot("error",h),Ot("load",h);break;case"details":Ot("toggle",h);break;case"input":ks(h,_),Ot("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},Ot("invalid",h);break;case"textarea":Os(h,_),Ot("invalid",h)}Ds(u,_),g=null;for(var I in _)if(_.hasOwnProperty(I)){var O=_[I];I==="children"?typeof O=="string"?h.textContent!==O&&(_.suppressHydrationWarning!==!0&&_d(h.textContent,O,s),g=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(_.suppressHydrationWarning!==!0&&_d(h.textContent,O,s),g=["children",""+O]):i.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&Ot("scroll",h)}switch(u){case"input":qr(h),La(h,_,!0);break;case"textarea":qr(h),Qr(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=wd)}h=g,o.updateQueue=h,h!==null&&(o.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ht(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(u,{is:h.is}):(s=I.createElement(u),u==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,u),s[Oi]=o,s[Iu]=h,G_(s,o,!1,!1),o.stateNode=s;e:{switch(I=$o(u,h),u){case"dialog":Ot("cancel",s),Ot("close",s),g=h;break;case"iframe":case"object":case"embed":Ot("load",s),g=h;break;case"video":case"audio":for(g=0;g<wu.length;g++)Ot(wu[g],s);g=h;break;case"source":Ot("error",s),g=h;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),g=h;break;case"details":Ot("toggle",s),g=h;break;case"input":ks(s,h),g=_i(s,h),Ot("invalid",s);break;case"option":g=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},g=ge({},h,{value:void 0}),Ot("invalid",s);break;case"textarea":Os(s,h),g=zo(s,h),Ot("invalid",s);break;default:g=h}Ds(u,g),O=g;for(_ in O)if(O.hasOwnProperty(_)){var F=O[_];_==="style"?xs(s,F):_==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&jn(s,F)):_==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&Yr(s,F):typeof F=="number"&&Yr(s,""+F):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?F!=null&&_==="onScroll"&&Ot("scroll",s):F!=null&&G(s,_,F,I))}switch(u){case"input":qr(s),La(s,h,!1);break;case"textarea":qr(s),Qr(s);break;case"option":h.value!=null&&s.setAttribute("value",""+st(h.value));break;case"select":s.multiple=!!h.multiple,_=h.value,_!=null?Kr(s,!!h.multiple,_,!1):h.defaultValue!=null&&Kr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=wd)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Nn(o),null;case 6:if(s&&o.stateNode!=null)Q_(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=ia(Cu.current),ia(xi.current),Pd(o)){if(h=o.stateNode,u=o.memoizedProps,h[Oi]=o,(_=h.nodeValue!==u)&&(s=_r,s!==null))switch(s.tag){case 3:_d(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&_d(h.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Oi]=o,o.stateNode=h}return Nn(o),null;case 13:if(xt(jt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Dt&&wr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Xv(),ol(),o.flags|=98560,_=!1;else if(_=Pd(o),h!==null&&h.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Oi]=o}else ol(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Nn(o),_=!1}else ii!==null&&(lm(ii),ii=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(jt.current&1)!==0?cn===0&&(cn=3):dm())),o.updateQueue!==null&&(o.flags|=4),Nn(o),null);case 4:return cl(),Jp(s,o),s===null&&Eu(o.stateNode.containerInfo),Nn(o),null;case 10:return Rp(o.type._context),Nn(o),null;case 17:return rr(o.type)&&Td(),Nn(o),null;case 19:if(xt(jt),_=o.memoizedState,_===null)return Nn(o),null;if(h=(o.flags&128)!==0,I=_.rendering,I===null)if(h)Nu(_,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=Nd(s),I!==null){for(o.flags|=128,Nu(_,!1),h=I.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)_=u,s=h,_.flags&=14680066,I=_.alternate,I===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=I.childLanes,_.lanes=I.lanes,_.child=I.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=I.memoizedProps,_.memoizedState=I.memoizedState,_.updateQueue=I.updateQueue,_.type=I.type,s=I.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return bt(jt,jt.current&1|2),o.child}s=s.sibling}_.tail!==null&&nt()>pl&&(o.flags|=128,h=!0,Nu(_,!1),o.lanes=4194304)}else{if(!h)if(s=Nd(I),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Nu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!I.alternate&&!Dt)return Nn(o),null}else 2*nt()-_.renderingStartTime>pl&&u!==1073741824&&(o.flags|=128,h=!0,Nu(_,!1),o.lanes=4194304);_.isBackwards?(I.sibling=o.child,o.child=I):(u=_.last,u!==null?u.sibling=I:o.child=I,_.last=I)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=nt(),o.sibling=null,u=jt.current,bt(jt,h?u&1|2:u&1),o):(Nn(o),null);case 22:case 23:return cm(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Er&1073741824)!==0&&(Nn(o),o.subtreeFlags&6&&(o.flags|=8192)):Nn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function kA(s,o){switch(_p(o),o.tag){case 1:return rr(o.type)&&Td(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return cl(),xt(nr),xt(On),xp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return kp(o),null;case 13:if(xt(jt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ol()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return xt(jt),null;case 4:return cl(),null;case 10:return Rp(o.type._context),null;case 22:case 23:return cm(),null;case 24:return null;default:return null}}var zd=!1,Dn=!1,OA=typeof WeakSet=="function"?WeakSet:Set,Re=null;function fl(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){qt(s,o,h)}else u.current=null}function Xp(s,o,u){try{u()}catch(h){qt(s,o,h)}}var Y_=!1;function xA(s,o){if(cp=$s,s=Cv(),np(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var g=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var I=0,O=-1,F=-1,Q=0,ie=0,oe=s,re=null;t:for(;;){for(var ye;oe!==u||g!==0&&oe.nodeType!==3||(O=I+g),oe!==_||h!==0&&oe.nodeType!==3||(F=I+h),oe.nodeType===3&&(I+=oe.nodeValue.length),(ye=oe.firstChild)!==null;)re=oe,oe=ye;for(;;){if(oe===s)break t;if(re===u&&++Q===g&&(O=I),re===_&&++ie===h&&(F=I),(ye=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=ye}u=O===-1||F===-1?null:{start:O,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(dp={focusedElem:s,selectionRange:u},$s=!1,Re=o;Re!==null;)if(o=Re,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Re=s;else for(;Re!==null;){o=Re;try{var Ae=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Oe=Ae.memoizedProps,Yt=Ae.memoizedState,W=o.stateNode,j=W.getSnapshotBeforeUpdate(o.elementType===o.type?Oe:si(o.type,Oe),Yt);W.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ae){qt(o,o.return,ae)}if(s=o.sibling,s!==null){s.return=o.return,Re=s;break}Re=o.return}return Ae=Y_,Y_=!1,Ae}function Du(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&Xp(o,u,_)}g=g.next}while(g!==h)}}function $d(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function Zp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function J_(s){var o=s.alternate;o!==null&&(s.alternate=null,J_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Oi],delete o[Iu],delete o[mp],delete o[pA],delete o[mA])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function X_(s){return s.tag===5||s.tag===3||s.tag===4}function Z_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||X_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function em(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=wd));else if(h!==4&&(s=s.child,s!==null))for(em(s,o,u),s=s.sibling;s!==null;)em(s,o,u),s=s.sibling}function tm(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(tm(s,o,u),s=s.sibling;s!==null;)tm(s,o,u),s=s.sibling}var In=null,oi=!1;function Xs(s,o,u){for(u=u.child;u!==null;)ew(s,o,u),u=u.sibling}function ew(s,o,u){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(wt,u)}catch{}switch(u.tag){case 5:Dn||fl(u,o);case 6:var h=In,g=oi;In=null,Xs(s,o,u),In=h,oi=g,In!==null&&(oi?(s=In,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):In.removeChild(u.stateNode));break;case 18:In!==null&&(oi?(s=In,u=u.stateNode,s.nodeType===8?pp(s.parentNode,u):s.nodeType===1&&pp(s,u),ti(s)):pp(In,u.stateNode));break;case 4:h=In,g=oi,In=u.stateNode.containerInfo,oi=!0,Xs(s,o,u),In=h,oi=g;break;case 0:case 11:case 14:case 15:if(!Dn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var _=g,I=_.destroy;_=_.tag,I!==void 0&&((_&2)!==0||(_&4)!==0)&&Xp(u,o,I),g=g.next}while(g!==h)}Xs(s,o,u);break;case 1:if(!Dn&&(fl(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(O){qt(u,o,O)}Xs(s,o,u);break;case 21:Xs(s,o,u);break;case 22:u.mode&1?(Dn=(h=Dn)||u.memoizedState!==null,Xs(s,o,u),Dn=h):Xs(s,o,u);break;default:Xs(s,o,u)}}function tw(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new OA),o.forEach(function(h){var g=BA.bind(null,s,h);u.has(h)||(u.add(h),h.then(g,g))})}}function ai(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];try{var _=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 5:In=O.stateNode,oi=!1;break e;case 3:In=O.stateNode.containerInfo,oi=!0;break e;case 4:In=O.stateNode.containerInfo,oi=!0;break e}O=O.return}if(In===null)throw Error(n(160));ew(_,I,g),In=null,oi=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(Q){qt(g,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)nw(o,s),o=o.sibling}function nw(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ai(o,s),Di(s),h&4){try{Du(3,s,s.return),$d(3,s)}catch(Oe){qt(s,s.return,Oe)}try{Du(5,s,s.return)}catch(Oe){qt(s,s.return,Oe)}}break;case 1:ai(o,s),Di(s),h&512&&u!==null&&fl(u,u.return);break;case 5:if(ai(o,s),Di(s),h&512&&u!==null&&fl(u,u.return),s.flags&32){var g=s.stateNode;try{Yr(g,"")}catch(Oe){qt(s,s.return,Oe)}}if(h&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,I=u!==null?u.memoizedProps:_,O=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{O==="input"&&_.type==="radio"&&_.name!=null&&fr(g,_),$o(O,I);var Q=$o(O,_);for(I=0;I<F.length;I+=2){var ie=F[I],oe=F[I+1];ie==="style"?xs(g,oe):ie==="dangerouslySetInnerHTML"?jn(g,oe):ie==="children"?Yr(g,oe):G(g,ie,oe,Q)}switch(O){case"input":Bo(g,_);break;case"textarea":Yn(g,_);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ye=_.value;ye!=null?Kr(g,!!_.multiple,ye,!1):re!==!!_.multiple&&(_.defaultValue!=null?Kr(g,!!_.multiple,_.defaultValue,!0):Kr(g,!!_.multiple,_.multiple?[]:"",!1))}g[Iu]=_}catch(Oe){qt(s,s.return,Oe)}}break;case 6:if(ai(o,s),Di(s),h&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(Oe){qt(s,s.return,Oe)}}break;case 3:if(ai(o,s),Di(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ti(o.containerInfo)}catch(Oe){qt(s,s.return,Oe)}break;case 4:ai(o,s),Di(s);break;case 13:ai(o,s),Di(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(im=nt())),h&4&&tw(s);break;case 22:if(ie=u!==null&&u.memoizedState!==null,s.mode&1?(Dn=(Q=Dn)||ie,ai(o,s),Dn=Q):ai(o,s),Di(s),h&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ie&&(s.mode&1)!==0)for(Re=s,ie=s.child;ie!==null;){for(oe=Re=ie;Re!==null;){switch(re=Re,ye=re.child,re.tag){case 0:case 11:case 14:case 15:Du(4,re,re.return);break;case 1:fl(re,re.return);var Ae=re.stateNode;if(typeof Ae.componentWillUnmount=="function"){h=re,u=re.return;try{o=h,Ae.props=o.memoizedProps,Ae.state=o.memoizedState,Ae.componentWillUnmount()}catch(Oe){qt(h,u,Oe)}}break;case 5:fl(re,re.return);break;case 22:if(re.memoizedState!==null){sw(oe);continue}}ye!==null?(ye.return=re,Re=ye):sw(oe)}ie=ie.sibling}e:for(ie=null,oe=s;;){if(oe.tag===5){if(ie===null){ie=oe;try{g=oe.stateNode,Q?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(O=oe.stateNode,F=oe.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=Jn("display",I))}catch(Oe){qt(s,s.return,Oe)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=Q?"":oe.memoizedProps}catch(Oe){qt(s,s.return,Oe)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===s)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===s)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===s)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:ai(o,s),Di(s),h&4&&tw(s);break;case 21:break;default:ai(o,s),Di(s)}}function Di(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(X_(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Yr(g,""),h.flags&=-33);var _=Z_(s);tm(s,_,g);break;case 3:case 4:var I=h.stateNode.containerInfo,O=Z_(s);em(s,O,I);break;default:throw Error(n(161))}}catch(F){qt(s,s.return,F)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function NA(s,o,u){Re=s,rw(s)}function rw(s,o,u){for(var h=(s.mode&1)!==0;Re!==null;){var g=Re,_=g.child;if(g.tag===22&&h){var I=g.memoizedState!==null||zd;if(!I){var O=g.alternate,F=O!==null&&O.memoizedState!==null||Dn;O=zd;var Q=Dn;if(zd=I,(Dn=F)&&!Q)for(Re=g;Re!==null;)I=Re,F=I.child,I.tag===22&&I.memoizedState!==null?ow(g):F!==null?(F.return=I,Re=F):ow(g);for(;_!==null;)Re=_,rw(_),_=_.sibling;Re=g,zd=O,Dn=Q}iw(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Re=_):iw(s)}}function iw(s){for(;Re!==null;){var o=Re;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Dn||$d(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Dn)if(u===null)h.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:si(o.type,u.memoizedProps);h.componentDidUpdate(g,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&s_(o,_,h);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}s_(o,I,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var F=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var ie=Q.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&ti(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dn||o.flags&512&&Zp(o)}catch(re){qt(o,o.return,re)}}if(o===s){Re=null;break}if(u=o.sibling,u!==null){u.return=o.return,Re=u;break}Re=o.return}}function sw(s){for(;Re!==null;){var o=Re;if(o===s){Re=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Re=u;break}Re=o.return}}function ow(s){for(;Re!==null;){var o=Re;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$d(4,o)}catch(F){qt(o,u,F)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var g=o.return;try{h.componentDidMount()}catch(F){qt(o,g,F)}}var _=o.return;try{Zp(o)}catch(F){qt(o,_,F)}break;case 5:var I=o.return;try{Zp(o)}catch(F){qt(o,I,F)}}}catch(F){qt(o,o.return,F)}if(o===s){Re=null;break}var O=o.sibling;if(O!==null){O.return=o.return,Re=O;break}Re=o.return}}var DA=Math.ceil,Hd=ee.ReactCurrentDispatcher,nm=ee.ReactCurrentOwner,Ur=ee.ReactCurrentBatchConfig,gt=0,gn=null,tn=null,Sn=0,Er=0,hl=Gs(0),cn=0,Lu=null,oa=0,Wd=0,rm=0,Mu=null,sr=null,im=0,pl=1/0,fs=null,qd=!1,sm=null,Zs=null,Gd=!1,eo=null,Kd=0,Vu=0,om=null,Qd=-1,Yd=0;function $n(){return(gt&6)!==0?nt():Qd!==-1?Qd:Qd=nt()}function to(s){return(s.mode&1)===0?1:(gt&2)!==0&&Sn!==0?Sn&-Sn:yA.transition!==null?(Yd===0&&(Yd=Ko()),Yd):(s=ct,s!==0||(s=window.event,s=s===void 0?16:du(s.type)),s)}function li(s,o,u,h){if(50<Vu)throw Vu=0,om=null,Error(n(185));Us(s,u,h),((gt&2)===0||s!==gn)&&(s===gn&&((gt&2)===0&&(Wd|=u),cn===4&&no(s,Sn)),or(s,h),u===1&&gt===0&&(o.mode&1)===0&&(pl=nt()+500,Sd&&Qs()))}function or(s,o){var u=s.callbackNode;es(s,o);var h=Go(s,s===gn?Sn:0);if(h===0)u!==null&&Or(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Or(u),o===1)s.tag===0?gA(lw.bind(null,s)):Gv(lw.bind(null,s)),fA(function(){(gt&6)===0&&Qs()}),u=null;else{switch(Bs(h)){case 1:u=mr;break;case 4:u=kn;break;case 16:u=wn;break;case 536870912:u=rt;break;default:u=wn}u=gw(u,aw.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function aw(s,o){if(Qd=-1,Yd=0,(gt&6)!==0)throw Error(n(327));var u=s.callbackNode;if(ml()&&s.callbackNode!==u)return null;var h=Go(s,s===gn?Sn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Jd(s,h);else{o=h;var g=gt;gt|=2;var _=cw();(gn!==s||Sn!==o)&&(fs=null,pl=nt()+500,la(s,o));do try{VA();break}catch(O){uw(s,O)}while(!0);Sp(),Hd.current=_,gt=g,tn!==null?o=0:(gn=null,Sn=0,o=cn)}if(o!==0){if(o===2&&(g=gr(s),g!==0&&(h=g,o=am(s,g))),o===1)throw u=Lu,la(s,0),no(s,h),or(s,nt()),u;if(o===6)no(s,h);else{if(g=s.current.alternate,(h&30)===0&&!LA(g)&&(o=Jd(s,h),o===2&&(_=gr(s),_!==0&&(h=_,o=am(s,_))),o===1))throw u=Lu,la(s,0),no(s,h),or(s,nt()),u;switch(s.finishedWork=g,s.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:ua(s,sr,fs);break;case 3:if(no(s,h),(h&130023424)===h&&(o=im+500-nt(),10<o)){if(Go(s,0)!==0)break;if(g=s.suspendedLanes,(g&h)!==h){$n(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=hp(ua.bind(null,s,sr,fs),o);break}ua(s,sr,fs);break;case 4:if(no(s,h),(h&4194240)===h)break;for(o=s.eventTimes,g=-1;0<h;){var I=31-ot(h);_=1<<I,I=o[I],I>g&&(g=I),h&=~_}if(h=g,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*DA(h/1960))-h,10<h){s.timeoutHandle=hp(ua.bind(null,s,sr,fs),h);break}ua(s,sr,fs);break;case 5:ua(s,sr,fs);break;default:throw Error(n(329))}}}return or(s,nt()),s.callbackNode===u?aw.bind(null,s):null}function am(s,o){var u=Mu;return s.current.memoizedState.isDehydrated&&(la(s,o).flags|=256),s=Jd(s,o),s!==2&&(o=sr,sr=u,o!==null&&lm(o)),s}function lm(s){sr===null?sr=s:sr.push.apply(sr,s)}function LA(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var g=u[h],_=g.getSnapshot;g=g.value;try{if(!ri(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function no(s,o){for(o&=~rm,o&=~Wd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-ot(o),h=1<<u;s[u]=-1,o&=~h}}function lw(s){if((gt&6)!==0)throw Error(n(327));ml();var o=Go(s,0);if((o&1)===0)return or(s,nt()),null;var u=Jd(s,o);if(s.tag!==0&&u===2){var h=gr(s);h!==0&&(o=h,u=am(s,h))}if(u===1)throw u=Lu,la(s,0),no(s,o),or(s,nt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ua(s,sr,fs),or(s,nt()),null}function um(s,o){var u=gt;gt|=1;try{return s(o)}finally{gt=u,gt===0&&(pl=nt()+500,Sd&&Qs())}}function aa(s){eo!==null&&eo.tag===0&&(gt&6)===0&&ml();var o=gt;gt|=1;var u=Ur.transition,h=ct;try{if(Ur.transition=null,ct=1,s)return s()}finally{ct=h,Ur.transition=u,gt=o,(gt&6)===0&&Qs()}}function cm(){Er=hl.current,xt(hl)}function la(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,dA(u)),tn!==null)for(u=tn.return;u!==null;){var h=u;switch(_p(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Td();break;case 3:cl(),xt(nr),xt(On),xp();break;case 5:kp(h);break;case 4:cl();break;case 13:xt(jt);break;case 19:xt(jt);break;case 10:Rp(h.type._context);break;case 22:case 23:cm()}u=u.return}if(gn=s,tn=s=ro(s.current,null),Sn=Er=o,cn=0,Lu=null,rm=Wd=oa=0,sr=Mu=null,ra!==null){for(o=0;o<ra.length;o++)if(u=ra[o],h=u.interleaved,h!==null){u.interleaved=null;var g=h.next,_=u.pending;if(_!==null){var I=_.next;_.next=g,h.next=I}u.pending=h}ra=null}return s}function uw(s,o){do{var u=tn;try{if(Sp(),Dd.current=Fd,Ld){for(var h=Bt.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Ld=!1}if(sa=0,mn=un=Bt=null,bu=!1,ku=0,nm.current=null,u===null||u.return===null){cn=1,Lu=o,tn=null;break}e:{var _=s,I=u.return,O=u,F=o;if(o=Sn,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var Q=F,ie=O,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ye=D_(I);if(ye!==null){ye.flags&=-257,L_(ye,I,O,_,o),ye.mode&1&&N_(_,Q,o),o=ye,F=Q;var Ae=o.updateQueue;if(Ae===null){var Oe=new Set;Oe.add(F),o.updateQueue=Oe}else Ae.add(F);break e}else{if((o&1)===0){N_(_,Q,o),dm();break e}F=Error(n(426))}}else if(Dt&&O.mode&1){var Yt=D_(I);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),L_(Yt,I,O,_,o),Tp(dl(F,O));break e}}_=F=dl(F,O),cn!==4&&(cn=2),Mu===null?Mu=[_]:Mu.push(_),_=I;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var W=O_(_,F,o);i_(_,W);break e;case 1:O=F;var j=_.type,q=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Zs===null||!Zs.has(q)))){_.flags|=65536,o&=-o,_.lanes|=o;var ae=x_(_,O,o);i_(_,ae);break e}}_=_.return}while(_!==null)}fw(u)}catch(xe){o=xe,tn===u&&u!==null&&(tn=u=u.return);continue}break}while(!0)}function cw(){var s=Hd.current;return Hd.current=Fd,s===null?Fd:s}function dm(){(cn===0||cn===3||cn===2)&&(cn=4),gn===null||(oa&268435455)===0&&(Wd&268435455)===0||no(gn,Sn)}function Jd(s,o){var u=gt;gt|=2;var h=cw();(gn!==s||Sn!==o)&&(fs=null,la(s,o));do try{MA();break}catch(g){uw(s,g)}while(!0);if(Sp(),gt=u,Hd.current=h,tn!==null)throw Error(n(261));return gn=null,Sn=0,cn}function MA(){for(;tn!==null;)dw(tn)}function VA(){for(;tn!==null&&!Ii();)dw(tn)}function dw(s){var o=mw(s.alternate,s,Er);s.memoizedProps=s.pendingProps,o===null?fw(s):tn=o,nm.current=null}function fw(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=bA(u,o,Er),u!==null){tn=u;return}}else{if(u=kA(u,o),u!==null){u.flags&=32767,tn=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=s}while(o!==null);cn===0&&(cn=5)}function ua(s,o,u){var h=ct,g=Ur.transition;try{Ur.transition=null,ct=1,FA(s,o,u,h)}finally{Ur.transition=g,ct=h}return null}function FA(s,o,u,h){do ml();while(eo!==null);if((gt&6)!==0)throw Error(n(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Pt(s,_),s===gn&&(tn=gn=null,Sn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Gd||(Gd=!0,gw(wn,function(){return ml(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Ur.transition,Ur.transition=null;var I=ct;ct=1;var O=gt;gt|=4,nm.current=null,xA(s,u),nw(u,s),iA(dp),$s=!!cp,dp=cp=null,s.current=u,NA(u),pr(),gt=O,ct=I,Ur.transition=_}else s.current=u;if(Gd&&(Gd=!1,eo=s,Kd=g),_=s.pendingLanes,_===0&&(Zs=null),Ri(u.stateNode),or(s,nt()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],h(g.value,{componentStack:g.stack,digest:g.digest});if(qd)throw qd=!1,s=sm,sm=null,s;return(Kd&1)!==0&&s.tag!==0&&ml(),_=s.pendingLanes,(_&1)!==0?s===om?Vu++:(Vu=0,om=s):Vu=0,Qs(),null}function ml(){if(eo!==null){var s=Bs(Kd),o=Ur.transition,u=ct;try{if(Ur.transition=null,ct=16>s?16:s,eo===null)var h=!1;else{if(s=eo,eo=null,Kd=0,(gt&6)!==0)throw Error(n(331));var g=gt;for(gt|=4,Re=s.current;Re!==null;){var _=Re,I=_.child;if((Re.flags&16)!==0){var O=_.deletions;if(O!==null){for(var F=0;F<O.length;F++){var Q=O[F];for(Re=Q;Re!==null;){var ie=Re;switch(ie.tag){case 0:case 11:case 15:Du(8,ie,_)}var oe=ie.child;if(oe!==null)oe.return=ie,Re=oe;else for(;Re!==null;){ie=Re;var re=ie.sibling,ye=ie.return;if(J_(ie),ie===Q){Re=null;break}if(re!==null){re.return=ye,Re=re;break}Re=ye}}}var Ae=_.alternate;if(Ae!==null){var Oe=Ae.child;if(Oe!==null){Ae.child=null;do{var Yt=Oe.sibling;Oe.sibling=null,Oe=Yt}while(Oe!==null)}}Re=_}}if((_.subtreeFlags&2064)!==0&&I!==null)I.return=_,Re=I;else e:for(;Re!==null;){if(_=Re,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Du(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,Re=W;break e}Re=_.return}}var j=s.current;for(Re=j;Re!==null;){I=Re;var q=I.child;if((I.subtreeFlags&2064)!==0&&q!==null)q.return=I,Re=q;else e:for(I=j;Re!==null;){if(O=Re,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:$d(9,O)}}catch(xe){qt(O,O.return,xe)}if(O===I){Re=null;break e}var ae=O.sibling;if(ae!==null){ae.return=O.return,Re=ae;break e}Re=O.return}}if(gt=g,Qs(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(wt,s)}catch{}h=!0}return h}finally{ct=u,Ur.transition=o}}return!1}function hw(s,o,u){o=dl(u,o),o=O_(s,o,1),s=Js(s,o,1),o=$n(),s!==null&&(Us(s,1,o),or(s,o))}function qt(s,o,u){if(s.tag===3)hw(s,s,u);else for(;o!==null;){if(o.tag===3){hw(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zs===null||!Zs.has(h))){s=dl(u,s),s=x_(o,s,1),o=Js(o,s,1),s=$n(),o!==null&&(Us(o,1,s),or(o,s));break}}o=o.return}}function UA(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=$n(),s.pingedLanes|=s.suspendedLanes&u,gn===s&&(Sn&u)===u&&(cn===4||cn===3&&(Sn&130023424)===Sn&&500>nt()-im?la(s,0):rm|=u),or(s,o)}function pw(s,o){o===0&&((s.mode&1)===0?o=1:(o=Fa,Fa<<=1,(Fa&130023424)===0&&(Fa=4194304)));var u=$n();s=us(s,o),s!==null&&(Us(s,o,u),or(s,u))}function jA(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),pw(s,u)}function BA(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),pw(s,u)}var mw;mw=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||nr.current)ir=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ir=!1,CA(s,o,u);ir=(s.flags&131072)!==0}else ir=!1,Dt&&(o.flags&1048576)!==0&&Kv(o,Ad,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Bd(s,o),s=o.pendingProps;var g=rl(o,On.current);ul(o,u),g=Lp(null,o,h,s,g,u);var _=Mp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rr(h)?(_=!0,Id(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Cp(o),g.updater=Ud,o.stateNode=g,g._reactInternals=o,zp(o,h,s,u),o=qp(null,o,h,!0,_,u)):(o.tag=0,Dt&&_&&vp(o),zn(null,o,g,u),o=o.child),o;case 16:h=o.elementType;e:{switch(Bd(s,o),s=o.pendingProps,g=h._init,h=g(h._payload),o.type=h,g=o.tag=$A(h),s=si(h,s),g){case 0:o=Wp(null,o,h,s,u);break e;case 1:o=B_(null,o,h,s,u);break e;case 11:o=M_(null,o,h,s,u);break e;case 14:o=V_(null,o,h,si(h.type,s),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:si(h,g),Wp(s,o,h,g,u);case 1:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:si(h,g),B_(s,o,h,g,u);case 3:e:{if(z_(o),s===null)throw Error(n(387));h=o.pendingProps,_=o.memoizedState,g=_.element,r_(s,o),xd(o,h,null,u);var I=o.memoizedState;if(h=I.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=dl(Error(n(423)),o),o=$_(s,o,h,u,g);break e}else if(h!==g){g=dl(Error(n(424)),o),o=$_(s,o,h,u,g);break e}else for(wr=qs(o.stateNode.containerInfo.firstChild),_r=o,Dt=!0,ii=null,u=t_(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ol(),h===g){o=ds(s,o,u);break e}zn(s,o,h,u)}o=o.child}return o;case 5:return o_(o),s===null&&Ep(o),h=o.type,g=o.pendingProps,_=s!==null?s.memoizedProps:null,I=g.children,fp(h,g)?I=null:_!==null&&fp(h,_)&&(o.flags|=32),j_(s,o),zn(s,o,I,u),o.child;case 6:return s===null&&Ep(o),null;case 13:return H_(s,o,u);case 4:return bp(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=al(o,null,h,u):zn(s,o,h,u),o.child;case 11:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:si(h,g),M_(s,o,h,g,u);case 7:return zn(s,o,o.pendingProps,u),o.child;case 8:return zn(s,o,o.pendingProps.children,u),o.child;case 12:return zn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,g=o.pendingProps,_=o.memoizedProps,I=g.value,bt(bd,h._currentValue),h._currentValue=I,_!==null)if(ri(_.value,I)){if(_.children===g.children&&!nr.current){o=ds(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var O=_.dependencies;if(O!==null){I=_.child;for(var F=O.firstContext;F!==null;){if(F.context===h){if(_.tag===1){F=cs(-1,u&-u),F.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var ie=Q.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),Q.pending=F}}_.lanes|=u,F=_.alternate,F!==null&&(F.lanes|=u),Ap(_.return,u,o),O.lanes|=u;break}F=F.next}}else if(_.tag===10)I=_.type===o.type?null:_.child;else if(_.tag===18){if(I=_.return,I===null)throw Error(n(341));I.lanes|=u,O=I.alternate,O!==null&&(O.lanes|=u),Ap(I,u,o),I=_.sibling}else I=_.child;if(I!==null)I.return=_;else for(I=_;I!==null;){if(I===o){I=null;break}if(_=I.sibling,_!==null){_.return=I.return,I=_;break}I=I.return}_=I}zn(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,h=o.pendingProps.children,ul(o,u),g=Vr(g),h=h(g),o.flags|=1,zn(s,o,h,u),o.child;case 14:return h=o.type,g=si(h,o.pendingProps),g=si(h.type,g),V_(s,o,h,g,u);case 15:return F_(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,g=o.pendingProps,g=o.elementType===h?g:si(h,g),Bd(s,o),o.tag=1,rr(h)?(s=!0,Id(o)):s=!1,ul(o,u),b_(o,h,g),zp(o,h,g,u),qp(null,o,h,!0,s,u);case 19:return q_(s,o,u);case 22:return U_(s,o,u)}throw Error(n(156,o.tag))};function gw(s,o){return Tt(s,o)}function zA(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,o,u,h){return new zA(s,o,u,h)}function fm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $A(s){if(typeof s=="function")return fm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===Ct)return 14}return 2}function ro(s,o){var u=s.alternate;return u===null?(u=jr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Xd(s,o,u,h,g,_){var I=2;if(h=s,typeof s=="function")fm(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case R:return ca(u.children,g,_,o);case C:I=8,g|=8;break;case k:return s=jr(12,u,o,g|2),s.elementType=k,s.lanes=_,s;case D:return s=jr(13,u,o,g),s.elementType=D,s.lanes=_,s;case it:return s=jr(19,u,o,g),s.elementType=it,s.lanes=_,s;case mt:return Zd(u,g,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:I=10;break e;case U:I=9;break e;case B:I=11;break e;case Ct:I=14;break e;case Qt:I=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=jr(I,u,o,g),o.elementType=s,o.type=h,o.lanes=_,o}function ca(s,o,u,h){return s=jr(7,s,h,o),s.lanes=u,s}function Zd(s,o,u,h){return s=jr(22,s,h,o),s.elementType=mt,s.lanes=u,s.stateNode={isHidden:!1},s}function hm(s,o,u){return s=jr(6,s,null,o),s.lanes=u,s}function pm(s,o,u){return o=jr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function HA(s,o,u,h,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fs(0),this.expirationTimes=Fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fs(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function mm(s,o,u,h,g,_,I,O,F){return s=new HA(s,o,u,O,F),o===1?(o=1,_===!0&&(o|=8)):o=0,_=jr(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cp(_),s}function WA(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function yw(s){if(!s)return Ks;s=s._reactInternals;e:{if(_e(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(rr(u))return Wv(s,u,o)}return o}function vw(s,o,u,h,g,_,I,O,F){return s=mm(u,h,!0,s,g,_,I,O,F),s.context=yw(null),u=s.current,h=$n(),g=to(u),_=cs(h,g),_.callback=o??null,Js(u,_,g),s.current.lanes=g,Us(s,g,h),or(s,h),s}function ef(s,o,u,h){var g=o.current,_=$n(),I=to(g);return u=yw(u),o.context===null?o.context=u:o.pendingContext=u,o=cs(_,I),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Js(g,o,I),s!==null&&(li(s,g,I,_),Od(s,g,I)),I}function tf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _w(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function gm(s,o){_w(s,o),(s=s.alternate)&&_w(s,o)}function qA(){return null}var ww=typeof reportError=="function"?reportError:function(s){console.error(s)};function ym(s){this._internalRoot=s}nf.prototype.render=ym.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));ef(s,o,null,null)},nf.prototype.unmount=ym.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;aa(function(){ef(null,s,null,null)}),o[ss]=null}};function nf(s){this._internalRoot=s}nf.prototype.unstable_scheduleHydration=function(s){if(s){var o=nd();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Pi.length&&o!==0&&o<Pi[u].priority;u++);Pi.splice(u,0,s),u===0&&sd(s)}};function vm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function rf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Ew(){}function GA(s,o,u,h,g){if(g){if(typeof h=="function"){var _=h;h=function(){var Q=tf(I);_.call(Q)}}var I=vw(o,h,s,0,null,!1,!1,"",Ew);return s._reactRootContainer=I,s[ss]=I.current,Eu(s.nodeType===8?s.parentNode:s),aa(),I}for(;g=s.lastChild;)s.removeChild(g);if(typeof h=="function"){var O=h;h=function(){var Q=tf(F);O.call(Q)}}var F=mm(s,0,!1,null,null,!1,!1,"",Ew);return s._reactRootContainer=F,s[ss]=F.current,Eu(s.nodeType===8?s.parentNode:s),aa(function(){ef(o,F,u,h)}),F}function sf(s,o,u,h,g){var _=u._reactRootContainer;if(_){var I=_;if(typeof g=="function"){var O=g;g=function(){var F=tf(I);O.call(F)}}ef(o,I,s,g)}else I=GA(u,o,s,g,h);return tf(I)}ed=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Vs(o.pendingLanes);u!==0&&(js(o,u|1),or(o,nt()),(gt&6)===0&&(pl=nt()+500,Qs()))}break;case 13:aa(function(){var h=us(s,1);if(h!==null){var g=$n();li(h,s,1,g)}}),gm(s,1)}},Ua=function(s){if(s.tag===13){var o=us(s,134217728);if(o!==null){var u=$n();li(o,s,134217728,u)}gm(s,134217728)}},td=function(s){if(s.tag===13){var o=to(s),u=us(s,o);if(u!==null){var h=$n();li(u,s,o,h)}gm(s,o)}},nd=function(){return ct},rd=function(s,o){var u=ct;try{return ct=s,o()}finally{ct=u}},Zi=function(s,o,u){switch(o){case"input":if(Bo(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var g=Ed(h);if(!g)throw Error(n(90));$t(h),Bo(h,g)}}}break;case"textarea":Yn(s,u);break;case"select":o=u.value,o!=null&&Kr(s,!!u.multiple,o,!1)}},Ei=um,Ti=aa;var KA={usingClientEntryPoint:!1,Events:[Su,tl,Ed,hr,Ho,um]},Fu={findFiberByHostInstance:Zo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QA={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=yt(s),s===null?null:s.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||qA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{wt=of.inject(QA),Zt=of}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KA,ar.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(o))throw Error(n(200));return WA(s,o,null,u)},ar.createRoot=function(s,o){if(!vm(s))throw Error(n(299));var u=!1,h="",g=ww;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=mm(s,1,!1,null,null,u,!1,h,g),s[ss]=o.current,Eu(s.nodeType===8?s.parentNode:s),new ym(o)},ar.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=yt(o),s=s===null?null:s.stateNode,s},ar.flushSync=function(s){return aa(s)},ar.hydrate=function(s,o,u){if(!rf(o))throw Error(n(200));return sf(null,s,o,!0,u)},ar.hydrateRoot=function(s,o,u){if(!vm(s))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,g=!1,_="",I=ww;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=vw(o,null,s,1,u??null,g,!1,_,I),s[ss]=o.current,Eu(s),h)for(s=0;s<h.length;s++)u=h[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new nf(o)},ar.render=function(s,o,u){if(!rf(o))throw Error(n(200));return sf(null,s,o,!1,u)},ar.unmountComponentAtNode=function(s){if(!rf(s))throw Error(n(40));return s._reactRootContainer?(aa(function(){sf(null,null,s,!1,function(){s._reactRootContainer=null,s[ss]=null})}),!0):!1},ar.unstable_batchedUpdates=um,ar.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!rf(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return sf(s,o,u,!1,h)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var kw;function OT(){if(kw)return Em.exports;kw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Em.exports=sP(),Em.exports}var Ow;function oP(){if(Ow)return af;Ow=1;var t=OT();return af.createRoot=t.createRoot,af.hydrateRoot=t.hydrateRoot,af}var aP=oP(),Sl=OT();const tc=Gi(Sl),lP=kT({__proto__:null,default:tc},[Sl]);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mt(){return Mt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mt.apply(this,arguments)}var rn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rn||(rn={}));const xw="popstate";function uP(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:c}=r.location;return dc("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wa(i)}return dP(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cP(){return Math.random().toString(36).substr(2,8)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function dc(t,e,n,r){return n===void 0&&(n=null),Mt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:n,key:e&&e.key||r||cP()})}function wa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c=rn.Pop,f=null,p=m();p==null&&(p=0,l.replaceState(Mt({},l.state,{idx:p}),""));function m(){return(l.state||{idx:null}).idx}function y(){c=rn.Pop;let b=m(),M=b==null?null:b-p;p=b,f&&f({action:c,location:A.location,delta:M})}function w(b,M){c=rn.Push;let x=dc(A.location,b,M);p=m()+1;let G=Nw(x,p),ee=A.createHref(x);try{l.pushState(G,"",ee)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;i.location.assign(ee)}a&&f&&f({action:c,location:A.location,delta:1})}function T(b,M){c=rn.Replace;let x=dc(A.location,b,M);p=m();let G=Nw(x,p),ee=A.createHref(x);l.replaceState(G,"",ee),a&&f&&f({action:c,location:A.location,delta:0})}function S(b){let M=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:wa(b);return x=x.replace(/ $/,"%20"),Ye(M,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,M)}let A={get action(){return c},get location(){return t(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(xw,y),f=b,()=>{i.removeEventListener(xw,y),f=null}},createHref(b){return e(i,b)},createURL:S,encodeLocation(b){let M=S(b);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:T,go(b){return l.go(b)}};return A}var St;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(St||(St={}));const fP=new Set(["lazy","caseSensitive","path","id","index","children"]);function hP(t){return t.index===!0}function Mf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,a)=>{let l=[...n,String(a)],c=typeof i.id=="string"?i.id:l.join("-");if(Ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ye(!r[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),hP(i)){let f=Mt({},i,e(i),{id:c});return r[c]=f,f}else{let f=Mt({},i,e(i),{id:c,children:void 0});return r[c]=f,i.children&&(f.children=Mf(i.children,e,l,r)),f}})}function fa(t,e,n){return n===void 0&&(n="/"),Ef(t,e,n,!1)}function Ef(t,e,n,r){let i=typeof e=="string"?Lo(e):e,a=ws(i.pathname||"/",n);if(a==null)return null;let l=xT(t);mP(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=AP(a);c=SP(l[f],p,r)}return c}function pP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function xT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Ye(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=_s([r,f.relativePath]),m=n.concat(f);a.children&&a.children.length>0&&(Ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),xT(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:TP(p,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of NT(a.path))i(a,l,f)}),e}function NT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=NT(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function mP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gP=/^:[\w-]+$/,yP=3,vP=2,_P=1,wP=10,EP=-2,Dw=t=>t==="*";function TP(t,e){let n=t.split("/"),r=n.length;return n.some(Dw)&&(r+=EP),e&&(r+=vP),n.filter(i=>!Dw(i)).reduce((i,a)=>i+(gP.test(a)?yP:a===""?_P:wP),r)}function IP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function SP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Vf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),w=f.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=Vf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:_s([a,y.pathname]),pathnameBase:bP(_s([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=_s([a,y.pathnameBase]))}return l}function Vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,m,y)=>{let{paramName:w,isOptional:T}=m;if(w==="*"){let A=c[y]||"";l=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const S=c[y];return T&&!S?p[w]=void 0:p[w]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function RP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),xl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ws(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:CP(n,e):e,search:kP(r),hash:OP(i)}}function CP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hh(t,e){let n=DT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ph(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Lo(t):(i=Mt({},t),Ye(!i.pathname||!i.pathname.includes("?"),Sm("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),Sm("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),Sm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}c=y>=0?e[y]:"/"}let f=PP(i,c),p=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),bP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ff{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function fc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LT=["post","put","patch","delete"],xP=new Set(LT),NP=["get",...LT],DP=new Set(NP),LP=new Set([301,302,303,307,308]),MP=new Set([307,308]),Rm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},VP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ju={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),MT="remix-router-transitions";function UP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ye(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let V=t.detectErrorBoundary;i=z=>({hasErrorBoundary:V(z)})}else i=FP;let a={},l=Mf(t.routes,i,void 0,a),c,f=t.basename||"/",p=t.dataStrategy||$P,m=t.patchRoutesOnNavigation,y=Mt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),w=null,T=new Set,S=null,A=null,b=null,M=t.hydrationData!=null,x=fa(l,t.history.location,f),G=!1,ee=null;if(x==null&&!m){let V=lr(404,{pathname:t.history.location.pathname}),{matches:z,route:K}=Ww(l);x=z,ee={[K.id]:V}}x&&!t.hydrationData&&Ti(x,l,t.history.location.pathname).active&&(x=null);let ue;if(x)if(x.some(V=>V.route.lazy))ue=!1;else if(!x.some(V=>V.route.loader))ue=!0;else if(y.v7_partialHydration){let V=t.hydrationData?t.hydrationData.loaderData:null,z=t.hydrationData?t.hydrationData.errors:null;if(z){let K=x.findIndex(ne=>z[ne.route.id]!==void 0);ue=x.slice(0,K+1).every(ne=>!ng(ne.route,V,z))}else ue=x.every(K=>!ng(K.route,V,z))}else ue=t.hydrationData!=null;else if(ue=!1,x=[],y.v7_partialHydration){let V=Ti(null,l,t.history.location.pathname);V.active&&V.matches&&(G=!0,x=V.matches)}let fe,R={historyAction:t.history.action,location:t.history.location,matches:x,initialized:ue,navigation:Rm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},C=rn.Pop,k=!1,N,U=!1,B=new Map,D=null,it=!1,Ct=!1,Qt=[],mt=new Set,se=new Map,Ne=0,ge=-1,$=new Map,Z=new Set,Ce=new Map,qe=new Map,Ue=new Set,Ke=new Map,Qe=new Map,st;function At(){if(w=t.history.listen(V=>{let{action:z,location:K,delta:ne}=V;if(st){st(),st=void 0;return}xl(Qe.size===0||ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let pe=Zi({currentLocation:R.location,nextLocation:K,historyAction:z});if(pe&&ne!=null){let Ie=new Promise(Me=>{st=Me});t.history.go(ne*-1),Jr(pe,{state:"blocked",location:K,proceed(){Jr(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Ie.then(()=>t.history.go(ne))},reset(){let Me=new Map(R.blockers);Me.set(pe,ju),$t({blockers:Me})}});return}return fr(z,K)}),n){rC(e,B);let V=()=>iC(e,B);e.addEventListener("pagehide",V),D=()=>e.removeEventListener("pagehide",V)}return R.initialized||fr(rn.Pop,R.location,{initialHydration:!0}),fe}function Xt(){w&&w(),D&&D(),T.clear(),N&&N.abort(),R.fetchers.forEach((V,z)=>kr(z)),R.blockers.forEach((V,z)=>wi(z))}function qr(V){return T.add(V),()=>T.delete(V)}function $t(V,z){z===void 0&&(z={}),R=Mt({},R,V);let K=[],ne=[];y.v7_fetcherPersist&&R.fetchers.forEach((pe,Ie)=>{pe.state==="idle"&&(Ue.has(Ie)?ne.push(Ie):K.push(Ie))}),Ue.forEach(pe=>{!R.fetchers.has(pe)&&!se.has(pe)&&ne.push(pe)}),[...T].forEach(pe=>pe(R,{deletedFetchers:ne,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),y.v7_fetcherPersist?(K.forEach(pe=>R.fetchers.delete(pe)),ne.forEach(pe=>kr(pe))):ne.forEach(pe=>Ue.delete(pe))}function Un(V,z,K){var ne,pe;let{flushSync:Ie}=K===void 0?{}:K,Me=R.actionData!=null&&R.navigation.formMethod!=null&&ui(R.navigation.formMethod)&&R.navigation.state==="loading"&&((ne=V.state)==null?void 0:ne._isRedirect)!==!0,Se;z.actionData?Object.keys(z.actionData).length>0?Se=z.actionData:Se=null:Me?Se=R.actionData:Se=null;let Te=z.loaderData?$w(R.loaderData,z.loaderData,z.matches||[],z.errors):R.loaderData,ve=R.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((We,Wt)=>ve.set(Wt,ju)));let _e=k===!0||R.navigation.formMethod!=null&&ui(R.navigation.formMethod)&&((pe=V.state)==null?void 0:pe._isRedirect)!==!0;c&&(l=c,c=void 0),it||C===rn.Pop||(C===rn.Push?t.history.push(V,V.state):C===rn.Replace&&t.history.replace(V,V.state));let je;if(C===rn.Pop){let We=B.get(R.location.pathname);We&&We.has(V.pathname)?je={currentLocation:R.location,nextLocation:V}:B.has(V.pathname)&&(je={currentLocation:V,nextLocation:R.location})}else if(U){let We=B.get(R.location.pathname);We?We.add(V.pathname):(We=new Set([V.pathname]),B.set(R.location.pathname,We)),je={currentLocation:R.location,nextLocation:V}}$t(Mt({},z,{actionData:Se,loaderData:Te,historyAction:C,location:V,initialized:!0,navigation:Rm,revalidation:"idle",restoreScrollPosition:Ei(V,z.matches||R.matches),preventScrollReset:_e,blockers:ve}),{viewTransitionOpts:je,flushSync:Ie===!0}),C=rn.Pop,k=!1,U=!1,it=!1,Ct=!1,Qt=[]}async function _i(V,z){if(typeof V=="number"){t.history.go(V);return}let K=tg(R.location,R.matches,f,y.v7_prependBasename,V,y.v7_relativeSplatPath,z?.fromRouteId,z?.relative),{path:ne,submission:pe,error:Ie}=Lw(y.v7_normalizeFormMethod,!1,K,z),Me=R.location,Se=dc(R.location,ne,z&&z.state);Se=Mt({},Se,t.history.encodeLocation(Se));let Te=z&&z.replace!=null?z.replace:void 0,ve=rn.Push;Te===!0?ve=rn.Replace:Te===!1||pe!=null&&ui(pe.formMethod)&&pe.formAction===R.location.pathname+R.location.search&&(ve=rn.Replace);let _e=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,je=(z&&z.flushSync)===!0,We=Zi({currentLocation:Me,nextLocation:Se,historyAction:ve});if(We){Jr(We,{state:"blocked",location:Se,proceed(){Jr(We,{state:"proceeding",proceed:void 0,reset:void 0,location:Se}),_i(V,z)},reset(){let Wt=new Map(R.blockers);Wt.set(We,ju),$t({blockers:Wt})}});return}return await fr(ve,Se,{submission:pe,pendingError:Ie,preventScrollReset:_e,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:je})}function ks(){if(Ft(),$t({revalidation:"loading"}),R.navigation.state!=="submitting"){if(R.navigation.state==="idle"){fr(R.historyAction,R.location,{startUninterruptedRevalidation:!0});return}fr(C||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:U===!0})}}async function fr(V,z,K){N&&N.abort(),N=null,C=V,it=(K&&K.startUninterruptedRevalidation)===!0,Ho(R.location,R.matches),k=(K&&K.preventScrollReset)===!0,U=(K&&K.enableViewTransition)===!0;let ne=c||l,pe=K&&K.overrideNavigation,Ie=K!=null&&K.initialHydration&&R.matches&&R.matches.length>0&&!G?R.matches:fa(ne,z,f),Me=(K&&K.flushSync)===!0;if(Ie&&R.initialized&&!Ct&&QP(R.location,z)&&!(K&&K.submission&&ui(K.submission.formMethod))){Un(z,{matches:Ie},{flushSync:Me});return}let Se=Ti(Ie,ne,z.pathname);if(Se.active&&Se.matches&&(Ie=Se.matches),!Ie){let{error:yt,notFoundMatches:Ze,route:Tt}=bn(z.pathname);Un(z,{matches:Ze,loaderData:{},errors:{[Tt.id]:yt}},{flushSync:Me});return}N=new AbortController;let Te=gl(t.history,z,N.signal,K&&K.submission),ve;if(K&&K.pendingError)ve=[ha(Ie).route.id,{type:St.error,error:K.pendingError}];else if(K&&K.submission&&ui(K.submission.formMethod)){let yt=await Bo(Te,z,K.submission,Ie,Se.active,{replace:K.replace,flushSync:Me});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[Ze,Tt]=yt.pendingActionResult;if(Tr(Tt)&&fc(Tt.error)&&Tt.error.status===404){N=null,Un(z,{matches:yt.matches,loaderData:{},errors:{[Ze]:Tt.error}});return}}Ie=yt.matches||Ie,ve=yt.pendingActionResult,pe=Am(z,K.submission),Me=!1,Se.active=!1,Te=gl(t.history,Te.url,Te.signal)}let{shortCircuited:_e,matches:je,loaderData:We,errors:Wt}=await La(Te,z,Ie,Se.active,pe,K&&K.submission,K&&K.fetcherSubmission,K&&K.replace,K&&K.initialHydration===!0,Me,ve);_e||(N=null,Un(z,Mt({matches:je||Ie},Hw(ve),{loaderData:We,errors:Wt})))}async function Bo(V,z,K,ne,pe,Ie){Ie===void 0&&(Ie={}),Ft();let Me=tC(z,K);if($t({navigation:Me},{flushSync:Ie.flushSync===!0}),pe){let ve=await Zn(ne,z.pathname,V.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let _e=ha(ve.partialMatches).route.id;return{matches:ve.partialMatches,pendingActionResult:[_e,{type:St.error,error:ve.error}]}}else if(ve.matches)ne=ve.matches;else{let{notFoundMatches:_e,error:je,route:We}=bn(z.pathname);return{matches:_e,pendingActionResult:[We.id,{type:St.error,error:je}]}}}let Se,Te=Ju(ne,z);if(!Te.route.action&&!Te.route.lazy)Se={type:St.error,error:lr(405,{method:V.method,pathname:z.pathname,routeId:Te.route.id})};else if(Se=(await Qr("action",R,V,[Te],ne,null))[Te.route.id],V.signal.aborted)return{shortCircuited:!0};if(pa(Se)){let ve;return Ie&&Ie.replace!=null?ve=Ie.replace:ve=jw(Se.response.headers.get("Location"),new URL(V.url),f)===R.location.pathname+R.location.search,await Yn(V,Se,!0,{submission:K,replace:ve}),{shortCircuited:!0}}if(go(Se))throw lr(400,{type:"defer-action"});if(Tr(Se)){let ve=ha(ne,Te.route.id);return(Ie&&Ie.replace)!==!0&&(C=rn.Push),{matches:ne,pendingActionResult:[ve.route.id,Se]}}return{matches:ne,pendingActionResult:[Te.route.id,Se]}}async function La(V,z,K,ne,pe,Ie,Me,Se,Te,ve,_e){let je=pe||Am(z,Ie),We=Ie||Me||Gw(je),Wt=!it&&(!y.v7_partialHydration||!Te);if(ne){if(Wt){let wt=Ji(_e);$t(Mt({navigation:je},wt!==void 0?{actionData:wt}:{}),{flushSync:ve})}let rt=await Zn(K,z.pathname,V.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){let wt=ha(rt.partialMatches).route.id;return{matches:rt.partialMatches,loaderData:{},errors:{[wt]:rt.error}}}else if(rt.matches)K=rt.matches;else{let{error:wt,notFoundMatches:Zt,route:Ri}=bn(z.pathname);return{matches:Zt,loaderData:{},errors:{[Ri.id]:wt}}}}let yt=c||l,[Ze,Tt]=Vw(t.history,R,K,We,z,y.v7_partialHydration&&Te===!0,y.v7_skipActionErrorRevalidation,Ct,Qt,mt,Ue,Ce,Z,yt,f,_e);if(Xn(rt=>!(K&&K.some(wt=>wt.route.id===rt))||Ze&&Ze.some(wt=>wt.route.id===rt)),ge=++Ne,Ze.length===0&&Tt.length===0){let rt=Ns();return Un(z,Mt({matches:K,loaderData:{},errors:_e&&Tr(_e[1])?{[_e[0]]:_e[1].error}:null},Hw(_e),rt?{fetchers:new Map(R.fetchers)}:{}),{flushSync:ve}),{shortCircuited:!0}}if(Wt){let rt={};if(!ne){rt.navigation=je;let wt=Ji(_e);wt!==void 0&&(rt.actionData=wt)}Tt.length>0&&(rt.fetchers=Gr(Tt)),$t(rt,{flushSync:ve})}Tt.forEach(rt=>{Jn(rt.key),rt.controller&&se.set(rt.key,rt.controller)});let Or=()=>Tt.forEach(rt=>Jn(rt.key));N&&N.signal.addEventListener("abort",Or);let{loaderResults:Ii,fetcherResults:pr}=await Ht(R,K,Ze,Tt,V);if(V.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Or),Tt.forEach(rt=>se.delete(rt.key));let nt=lf(Ii);if(nt)return await Yn(V,nt.result,!0,{replace:Se}),{shortCircuited:!0};if(nt=lf(pr),nt)return Z.add(nt.key),await Yn(V,nt.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Ms,errors:mr}=zw(R,K,Ii,_e,Tt,pr,Ke);Ke.forEach((rt,wt)=>{rt.subscribe(Zt=>{(Zt||rt.done)&&Ke.delete(wt)})}),y.v7_partialHydration&&Te&&R.errors&&(mr=Mt({},R.errors,mr));let kn=Ns(),wn=Ds(ge),Si=kn||wn||Tt.length>0;return Mt({matches:K,loaderData:Ms,errors:mr},Si?{fetchers:new Map(R.fetchers)}:{})}function Ji(V){if(V&&!Tr(V[1]))return{[V[0]]:V[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function Gr(V){return V.forEach(z=>{let K=R.fetchers.get(z.key),ne=Bu(void 0,K?K.data:void 0);R.fetchers.set(z.key,ne)}),new Map(R.fetchers)}function Kr(V,z,K,ne){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Jn(V);let pe=(ne&&ne.flushSync)===!0,Ie=c||l,Me=tg(R.location,R.matches,f,y.v7_prependBasename,K,y.v7_relativeSplatPath,z,ne?.relative),Se=fa(Ie,Me,f),Te=Ti(Se,Ie,Me);if(Te.active&&Te.matches&&(Se=Te.matches),!Se){jn(V,z,lr(404,{pathname:Me}),{flushSync:pe});return}let{path:ve,submission:_e,error:je}=Lw(y.v7_normalizeFormMethod,!0,Me,ne);if(je){jn(V,z,je,{flushSync:pe});return}let We=Ju(Se,ve),Wt=(ne&&ne.preventScrollReset)===!0;if(_e&&ui(_e.formMethod)){zo(V,z,ve,We,Se,Te.active,pe,Wt,_e);return}Ce.set(V,{routeId:z,path:ve}),Os(V,z,ve,We,Se,Te.active,pe,Wt,_e)}async function zo(V,z,K,ne,pe,Ie,Me,Se,Te){Ft(),Ce.delete(V);function ve(ot){if(!ot.route.action&&!ot.route.lazy){let xr=lr(405,{method:Te.formMethod,pathname:K,routeId:z});return jn(V,z,xr,{flushSync:Me}),!0}return!1}if(!Ie&&ve(ne))return;let _e=R.fetchers.get(V);hn(V,nC(Te,_e),{flushSync:Me});let je=new AbortController,We=gl(t.history,K,je.signal,Te);if(Ie){let ot=await Zn(pe,new URL(We.url).pathname,We.signal,V);if(ot.type==="aborted")return;if(ot.type==="error"){jn(V,z,ot.error,{flushSync:Me});return}else if(ot.matches){if(pe=ot.matches,ne=Ju(pe,K),ve(ne))return}else{jn(V,z,lr(404,{pathname:K}),{flushSync:Me});return}}se.set(V,je);let Wt=Ne,Ze=(await Qr("action",R,We,[ne],pe,V))[ne.route.id];if(We.signal.aborted){se.get(V)===je&&se.delete(V);return}if(y.v7_fetcherPersist&&Ue.has(V)){if(pa(Ze)||Tr(Ze)){hn(V,oo(void 0));return}}else{if(pa(Ze))if(se.delete(V),ge>Wt){hn(V,oo(void 0));return}else return Z.add(V),hn(V,Bu(Te)),Yn(We,Ze,!1,{fetcherSubmission:Te,preventScrollReset:Se});if(Tr(Ze)){jn(V,z,Ze.error);return}}if(go(Ze))throw lr(400,{type:"defer-action"});let Tt=R.navigation.location||R.location,Or=gl(t.history,Tt,je.signal),Ii=c||l,pr=R.navigation.state!=="idle"?fa(Ii,R.navigation.location,f):R.matches;Ye(pr,"Didn't find any matches after fetcher action");let nt=++Ne;$.set(V,nt);let Ms=Bu(Te,Ze.data);R.fetchers.set(V,Ms);let[mr,kn]=Vw(t.history,R,pr,Te,Tt,!1,y.v7_skipActionErrorRevalidation,Ct,Qt,mt,Ue,Ce,Z,Ii,f,[ne.route.id,Ze]);kn.filter(ot=>ot.key!==V).forEach(ot=>{let xr=ot.key,qo=R.fetchers.get(xr),Ma=Bu(void 0,qo?qo.data:void 0);R.fetchers.set(xr,Ma),Jn(xr),ot.controller&&se.set(xr,ot.controller)}),$t({fetchers:new Map(R.fetchers)});let wn=()=>kn.forEach(ot=>Jn(ot.key));je.signal.addEventListener("abort",wn);let{loaderResults:Si,fetcherResults:rt}=await Ht(R,pr,mr,kn,Or);if(je.signal.aborted)return;je.signal.removeEventListener("abort",wn),$.delete(V),se.delete(V),kn.forEach(ot=>se.delete(ot.key));let wt=lf(Si);if(wt)return Yn(Or,wt.result,!1,{preventScrollReset:Se});if(wt=lf(rt),wt)return Z.add(wt.key),Yn(Or,wt.result,!1,{preventScrollReset:Se});let{loaderData:Zt,errors:Ri}=zw(R,pr,Si,void 0,kn,rt,Ke);if(R.fetchers.has(V)){let ot=oo(Ze.data);R.fetchers.set(V,ot)}Ds(nt),R.navigation.state==="loading"&&nt>ge?(Ye(C,"Expected pending action"),N&&N.abort(),Un(R.navigation.location,{matches:pr,loaderData:Zt,errors:Ri,fetchers:new Map(R.fetchers)})):($t({errors:Ri,loaderData:$w(R.loaderData,Zt,pr,Ri),fetchers:new Map(R.fetchers)}),Ct=!1)}async function Os(V,z,K,ne,pe,Ie,Me,Se,Te){let ve=R.fetchers.get(V);hn(V,Bu(Te,ve?ve.data:void 0),{flushSync:Me});let _e=new AbortController,je=gl(t.history,K,_e.signal);if(Ie){let Ze=await Zn(pe,new URL(je.url).pathname,je.signal,V);if(Ze.type==="aborted")return;if(Ze.type==="error"){jn(V,z,Ze.error,{flushSync:Me});return}else if(Ze.matches)pe=Ze.matches,ne=Ju(pe,K);else{jn(V,z,lr(404,{pathname:K}),{flushSync:Me});return}}se.set(V,_e);let We=Ne,yt=(await Qr("loader",R,je,[ne],pe,V))[ne.route.id];if(go(yt)&&(yt=await Wg(yt,je.signal,!0)||yt),se.get(V)===_e&&se.delete(V),!je.signal.aborted){if(Ue.has(V)){hn(V,oo(void 0));return}if(pa(yt))if(ge>We){hn(V,oo(void 0));return}else{Z.add(V),await Yn(je,yt,!1,{preventScrollReset:Se});return}if(Tr(yt)){jn(V,z,yt.error);return}Ye(!go(yt),"Unhandled fetcher deferred data"),hn(V,oo(yt.data))}}async function Yn(V,z,K,ne){let{submission:pe,fetcherSubmission:Ie,preventScrollReset:Me,replace:Se}=ne===void 0?{}:ne;z.response.headers.has("X-Remix-Revalidate")&&(Ct=!0);let Te=z.response.headers.get("Location");Ye(Te,"Expected a Location header on the redirect Response"),Te=jw(Te,new URL(V.url),f);let ve=dc(R.location,Te,{_isRedirect:!0});if(n){let Ze=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(Hg.test(Te)){const Tt=t.history.createURL(Te);Ze=Tt.origin!==e.location.origin||ws(Tt.pathname,f)==null}if(Ze){Se?e.location.replace(Te):e.location.assign(Te);return}}N=null;let _e=Se===!0||z.response.headers.has("X-Remix-Replace")?rn.Replace:rn.Push,{formMethod:je,formAction:We,formEncType:Wt}=R.navigation;!pe&&!Ie&&je&&We&&Wt&&(pe=Gw(R.navigation));let yt=pe||Ie;if(MP.has(z.response.status)&&yt&&ui(yt.formMethod))await fr(_e,ve,{submission:Mt({},yt,{formAction:Te}),preventScrollReset:Me||k,enableViewTransition:K?U:void 0});else{let Ze=Am(ve,pe);await fr(_e,ve,{overrideNavigation:Ze,fetcherSubmission:Ie,preventScrollReset:Me||k,enableViewTransition:K?U:void 0})}}async function Qr(V,z,K,ne,pe,Ie){let Me,Se={};try{Me=await HP(p,V,z,K,ne,pe,Ie,a,i)}catch(Te){return ne.forEach(ve=>{Se[ve.route.id]={type:St.error,error:Te}}),Se}for(let[Te,ve]of Object.entries(Me))if(YP(ve)){let _e=ve.result;Se[Te]={type:St.redirect,response:GP(_e,K,Te,pe,f,y.v7_relativeSplatPath)}}else Se[Te]=await qP(ve);return Se}async function Ht(V,z,K,ne,pe){let Ie=V.matches,Me=Qr("loader",V,pe,K,z,null),Se=Promise.all(ne.map(async _e=>{if(_e.matches&&_e.match&&_e.controller){let We=(await Qr("loader",V,gl(t.history,_e.path,_e.controller.signal),[_e.match],_e.matches,_e.key))[_e.match.route.id];return{[_e.key]:We}}else return Promise.resolve({[_e.key]:{type:St.error,error:lr(404,{pathname:_e.path})}})})),Te=await Me,ve=(await Se).reduce((_e,je)=>Object.assign(_e,je),{});return await Promise.all([ZP(z,Te,pe.signal,Ie,V.loaderData),eC(z,ve,ne)]),{loaderResults:Te,fetcherResults:ve}}function Ft(){Ct=!0,Qt.push(...Xn()),Ce.forEach((V,z)=>{se.has(z)&&mt.add(z),Jn(z)})}function hn(V,z,K){K===void 0&&(K={}),R.fetchers.set(V,z),$t({fetchers:new Map(R.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function jn(V,z,K,ne){ne===void 0&&(ne={});let pe=ha(R.matches,z);kr(V),$t({errors:{[pe.route.id]:K},fetchers:new Map(R.fetchers)},{flushSync:(ne&&ne.flushSync)===!0})}function Yr(V){return qe.set(V,(qe.get(V)||0)+1),Ue.has(V)&&Ue.delete(V),R.fetchers.get(V)||VP}function kr(V){let z=R.fetchers.get(V);se.has(V)&&!(z&&z.state==="loading"&&$.has(V))&&Jn(V),Ce.delete(V),$.delete(V),Z.delete(V),y.v7_fetcherPersist&&Ue.delete(V),mt.delete(V),R.fetchers.delete(V)}function Xi(V){let z=(qe.get(V)||0)-1;z<=0?(qe.delete(V),Ue.add(V),y.v7_fetcherPersist||kr(V)):qe.set(V,z),$t({fetchers:new Map(R.fetchers)})}function Jn(V){let z=se.get(V);z&&(z.abort(),se.delete(V))}function xs(V){for(let z of V){let K=Yr(z),ne=oo(K.data);R.fetchers.set(z,ne)}}function Ns(){let V=[],z=!1;for(let K of Z){let ne=R.fetchers.get(K);Ye(ne,"Expected fetcher: "+K),ne.state==="loading"&&(Z.delete(K),V.push(K),z=!0)}return xs(V),z}function Ds(V){let z=[];for(let[K,ne]of $)if(ne<V){let pe=R.fetchers.get(K);Ye(pe,"Expected fetcher: "+K),pe.state==="loading"&&(Jn(K),$.delete(K),z.push(K))}return xs(z),z.length>0}function $o(V,z){let K=R.blockers.get(V)||ju;return Qe.get(V)!==z&&Qe.set(V,z),K}function wi(V){R.blockers.delete(V),Qe.delete(V)}function Jr(V,z){let K=R.blockers.get(V)||ju;Ye(K.state==="unblocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="blocked"||K.state==="blocked"&&z.state==="proceeding"||K.state==="blocked"&&z.state==="unblocked"||K.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+K.state+" -> "+z.state);let ne=new Map(R.blockers);ne.set(V,z),$t({blockers:ne})}function Zi(V){let{currentLocation:z,nextLocation:K,historyAction:ne}=V;if(Qe.size===0)return;Qe.size>1&&xl(!1,"A router only supports one blocker at a time");let pe=Array.from(Qe.entries()),[Ie,Me]=pe[pe.length-1],Se=R.blockers.get(Ie);if(!(Se&&Se.state==="proceeding")&&Me({currentLocation:z,nextLocation:K,historyAction:ne}))return Ie}function bn(V){let z=lr(404,{pathname:V}),K=c||l,{matches:ne,route:pe}=Ww(K);return Xn(),{notFoundMatches:ne,route:pe,error:z}}function Xn(V){let z=[];return Ke.forEach((K,ne)=>{(!V||V(ne))&&(K.cancel(),z.push(ne),Ke.delete(ne))}),z}function Ls(V,z,K){if(S=V,b=z,A=K||null,!M&&R.navigation===Rm){M=!0;let ne=Ei(R.location,R.matches);ne!=null&&$t({restoreScrollPosition:ne})}return()=>{S=null,b=null,A=null}}function hr(V,z){return A&&A(V,z.map(ne=>pP(ne,R.loaderData)))||V.key}function Ho(V,z){if(S&&b){let K=hr(V,z);S[K]=b()}}function Ei(V,z){if(S){let K=hr(V,z),ne=S[K];if(typeof ne=="number")return ne}return null}function Ti(V,z,K){if(m)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Ef(z,K,f,!0)}}else return{active:!0,matches:Ef(z,K,f,!0)||[]};return{active:!1,matches:null}}async function Zn(V,z,K,ne){if(!m)return{type:"success",matches:V};let pe=V;for(;;){let Ie=c==null,Me=c||l,Se=a;try{await m({signal:K,path:z,matches:pe,fetcherKey:ne,patch:(_e,je)=>{K.aborted||Uw(_e,je,Me,Se,i)}})}catch(_e){return{type:"error",error:_e,partialMatches:pe}}finally{Ie&&!K.aborted&&(l=[...l])}if(K.aborted)return{type:"aborted"};let Te=fa(Me,z,f);if(Te)return{type:"success",matches:Te};let ve=Ef(Me,z,f,!0);if(!ve||pe.length===ve.length&&pe.every((_e,je)=>_e.route.id===ve[je].route.id))return{type:"success",matches:null};pe=ve}}function Wo(V){a={},c=Mf(V,i,void 0,a)}function Ut(V,z){let K=c==null;Uw(V,z,c||l,a,i),K&&(l=[...l],$t({}))}return fe={get basename(){return f},get future(){return y},get state(){return R},get routes(){return l},get window(){return e},initialize:At,subscribe:qr,enableScrollRestoration:Ls,navigate:_i,fetch:Kr,revalidate:ks,createHref:V=>t.history.createHref(V),encodeLocation:V=>t.history.encodeLocation(V),getFetcher:Yr,deleteFetcher:Xi,dispose:Xt,getBlocker:$o,deleteBlocker:wi,patchRoutes:Ut,_internalFetchControllers:se,_internalActiveDeferreds:Ke,_internalSetRoutes:Wo},fe}function jP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function tg(t,e,n,r,i,a,l,c){let f,p;if(l){f=[];for(let y of e)if(f.push(y),y.route.id===l){p=y;break}}else f=e,p=e[e.length-1];let m=ph(i||".",hh(f,a),ws(t.pathname,n)||t.pathname,c==="path");if(i==null&&(m.search=t.search,m.hash=t.hash),(i==null||i===""||i===".")&&p){let y=qg(m.search);if(p.route.index&&!y)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&y){let w=new URLSearchParams(m.search),T=w.getAll("index");w.delete("index"),T.filter(A=>A).forEach(A=>w.append("index",A));let S=w.toString();m.search=S?"?"+S:""}}return r&&n!=="/"&&(m.pathname=m.pathname==="/"?n:_s([n,m.pathname])),wa(m)}function Lw(t,e,n,r){if(!r||!jP(r))return{path:n};if(r.formMethod&&!XP(r.formMethod))return{path:n,error:lr(405,{method:r.formMethod})};let i=()=>({path:n,error:lr(400,{type:"invalid-body"})}),a=r.formMethod||"get",l=t?a.toUpperCase():a.toLowerCase(),c=UT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ui(l))return i();let w=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((T,S)=>{let[A,b]=S;return""+T+A+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:void 0,text:w}}}else if(r.formEncType==="application/json"){if(!ui(l))return i();try{let w=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:r.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let f,p;if(r.formData)f=rg(r.formData),p=r.formData;else if(r.body instanceof FormData)f=rg(r.body),p=r.body;else if(r.body instanceof URLSearchParams)f=r.body,p=Bw(f);else if(r.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(r.body),p=Bw(f)}catch{return i()}let m={formMethod:l,formAction:c,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(ui(m.formMethod))return{path:n,submission:m};let y=Lo(n);return e&&y.search&&qg(y.search)&&f.append("index",""),y.search="?"+f,{path:wa(y),submission:m}}function Mw(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Vw(t,e,n,r,i,a,l,c,f,p,m,y,w,T,S,A){let b=A?Tr(A[1])?A[1].error:A[1].data:void 0,M=t.createURL(e.location),x=t.createURL(i),G=n;a&&e.errors?G=Mw(n,Object.keys(e.errors)[0],!0):A&&Tr(A[1])&&(G=Mw(n,A[0]));let ee=A?A[1].statusCode:void 0,ue=l&&ee&&ee>=400,fe=G.filter((C,k)=>{let{route:N}=C;if(N.lazy)return!0;if(N.loader==null)return!1;if(a)return ng(N,e.loaderData,e.errors);if(BP(e.loaderData,e.matches[k],C)||f.some(D=>D===C.route.id))return!0;let U=e.matches[k],B=C;return Fw(C,Mt({currentUrl:M,currentParams:U.params,nextUrl:x,nextParams:B.params},r,{actionResult:b,actionStatus:ee,defaultShouldRevalidate:ue?!1:c||M.pathname+M.search===x.pathname+x.search||M.search!==x.search||VT(U,B)}))}),R=[];return y.forEach((C,k)=>{if(a||!n.some(it=>it.route.id===C.routeId)||m.has(k))return;let N=fa(T,C.path,S);if(!N){R.push({key:k,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(k),B=Ju(N,C.path),D=!1;w.has(k)?D=!1:p.has(k)?(p.delete(k),D=!0):U&&U.state!=="idle"&&U.data===void 0?D=c:D=Fw(B,Mt({currentUrl:M,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:ee,defaultShouldRevalidate:ue?!1:c})),D&&R.push({key:k,routeId:C.routeId,path:C.path,matches:N,match:B,controller:new AbortController})}),[fe,R]}function ng(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function BP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function VT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Fw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Uw(t,e,n,r,i){var a;let l;if(t){let p=r[t];Ye(p,"No route found to patch children into: routeId = "+t),p.children||(p.children=[]),l=p.children}else l=n;let c=e.filter(p=>!l.some(m=>FT(p,m))),f=Mf(c,i,[t||"_","patch",String(((a=l)==null?void 0:a.length)||"0")],r);l.push(...f)}function FT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>FT(n,a))}):!1}async function zP(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ye(i,"No route found in manifest");let a={};for(let l in r){let f=i[l]!==void 0&&l!=="hasErrorBoundary";xl(!f,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!f&&!fP.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,Mt({},e(i),{lazy:void 0}))}async function $P(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,a,l)=>Object.assign(i,{[n[l].route.id]:a}),{})}async function HP(t,e,n,r,i,a,l,c,f,p){let m=a.map(T=>T.route.lazy?zP(T.route,f,c):void 0),y=a.map((T,S)=>{let A=m[S],b=i.some(x=>x.route.id===T.route.id);return Mt({},T,{shouldLoad:b,resolve:async x=>(x&&r.method==="GET"&&(T.route.lazy||T.route.loader)&&(b=!0),b?WP(e,r,T,A,x,p):Promise.resolve({type:St.data,result:void 0}))})}),w=await t({matches:y,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(m)}catch{}return w}async function WP(t,e,n,r,i,a){let l,c,f=p=>{let m,y=new Promise((S,A)=>m=A);c=()=>m(),e.signal.addEventListener("abort",c);let w=S=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):p({request:e,params:n.params,context:a},...S!==void 0?[S]:[]),T=(async()=>{try{return{type:"data",result:await(i?i(A=>w(A)):w())}}catch(S){return{type:"error",result:S}}})();return Promise.race([T,y])};try{let p=n.route[t];if(r)if(p){let m,[y]=await Promise.all([f(p).catch(w=>{m=w}),r]);if(m!==void 0)throw m;l=y}else if(await r,p=n.route[t],p)l=await f(p);else if(t==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw lr(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:St.data,result:void 0};else if(p)l=await f(p);else{let m=new URL(e.url),y=m.pathname+m.search;throw lr(404,{pathname:y})}Ye(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:St.error,result:p}}finally{c&&e.signal.removeEventListener("abort",c)}return l}async function qP(t){let{result:e,type:n}=t;if(jT(e)){let y;try{let w=e.headers.get("Content-Type");w&&/\bapplication\/json\b/.test(w)?e.body==null?y=null:y=await e.json():y=await e.text()}catch(w){return{type:St.error,error:w}}return n===St.error?{type:St.error,error:new Ff(e.status,e.statusText,y),statusCode:e.status,headers:e.headers}:{type:St.data,data:y,statusCode:e.status,headers:e.headers}}if(n===St.error){if(qw(e)){var r,i;if(e.data instanceof Error){var a,l;return{type:St.error,error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:St.error,error:new Ff(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:fc(e)?e.status:void 0,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}}return{type:St.error,error:e,statusCode:fc(e)?e.status:void 0}}if(JP(e)){var c,f;return{type:St.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((f=e.init)==null?void 0:f.headers)&&new Headers(e.init.headers)}}if(qw(e)){var p,m;return{type:St.data,data:e.data,statusCode:(p=e.init)==null?void 0:p.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}}return{type:St.data,data:e}}function GP(t,e,n,r,i,a){let l=t.headers.get("Location");if(Ye(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hg.test(l)){let c=r.slice(0,r.findIndex(f=>f.route.id===n)+1);l=tg(new URL(e.url),c,i,!0,l,a),t.headers.set("Location",l)}return t}function jw(t,e,n){if(Hg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ws(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function gl(t,e,n,r){let i=t.createURL(UT(e)).toString(),a={signal:n};if(r&&ui(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=rg(r.formData):a.body=r.formData}return new Request(i,a)}function rg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Bw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function KP(t,e,n,r,i){let a={},l=null,c,f=!1,p={},m=n&&Tr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,T=e[w];if(Ye(!pa(T),"Cannot handle redirect results in processLoaderData"),Tr(T)){let S=T.error;m!==void 0&&(S=m,m=void 0),l=l||{};{let A=ha(t,w);l[A.route.id]==null&&(l[A.route.id]=S)}a[w]=void 0,f||(f=!0,c=fc(T.error)?T.error.status:500),T.headers&&(p[w]=T.headers)}else go(T)?(r.set(w,T.deferredData),a[w]=T.deferredData.data,T.statusCode!=null&&T.statusCode!==200&&!f&&(c=T.statusCode),T.headers&&(p[w]=T.headers)):(a[w]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(c=T.statusCode),T.headers&&(p[w]=T.headers))}),m!==void 0&&n&&(l={[n[0]]:m},a[n[0]]=void 0),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function zw(t,e,n,r,i,a,l){let{loaderData:c,errors:f}=KP(e,n,r,l);return i.forEach(p=>{let{key:m,match:y,controller:w}=p,T=a[m];if(Ye(T,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Tr(T)){let S=ha(t.matches,y?.route.id);f&&f[S.route.id]||(f=Mt({},f,{[S.route.id]:T.error})),t.fetchers.delete(m)}else if(pa(T))Ye(!1,"Unhandled fetcher revalidation redirect");else if(go(T))Ye(!1,"Unhandled fetcher deferred data");else{let S=oo(T.data);t.fetchers.set(m,S)}}),{loaderData:c,errors:f}}function $w(t,e,n,r){let i=Mt({},e);for(let a of n){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(i[l]=e[l]):t[l]!==void 0&&a.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function Hw(t){return t?Tr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ha(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ww(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function lr(t,e){let{pathname:n,routeId:r,method:i,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",f="Unknown @remix-run/router error";return t===400?(c="Bad Request",i&&n&&r?f="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?f="defer() is not supported in actions":a==="invalid-body"&&(f="Unable to encode submission body")):t===403?(c="Forbidden",f='Route "'+r+'" does not match URL "'+n+'"'):t===404?(c="Not Found",f='No route matches URL "'+n+'"'):t===405&&(c="Method Not Allowed",i&&n&&r?f="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(f='Invalid request method "'+i.toUpperCase()+'"')),new Ff(t||500,c,new Error(f),!0)}function lf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(pa(i))return{key:r,result:i}}}function UT(t){let e=typeof t=="string"?Lo(t):t;return wa(Mt({},e,{hash:""}))}function QP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function YP(t){return jT(t.result)&&LP.has(t.result.status)}function go(t){return t.type===St.deferred}function Tr(t){return t.type===St.error}function pa(t){return(t&&t.type)===St.redirect}function qw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function JP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function jT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function XP(t){return DP.has(t.toLowerCase())}function ui(t){return xP.has(t.toLowerCase())}async function ZP(t,e,n,r,i){let a=Object.entries(e);for(let l=0;l<a.length;l++){let[c,f]=a[l],p=t.find(w=>w?.route.id===c);if(!p)continue;let m=r.find(w=>w.route.id===p.route.id),y=m!=null&&!VT(m,p)&&(i&&i[p.route.id])!==void 0;go(f)&&y&&await Wg(f,n,!1).then(w=>{w&&(e[c]=w)})}}async function eC(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:a,controller:l}=n[r],c=e[i];t.find(p=>p?.route.id===a)&&go(c)&&(Ye(l,"Expected an AbortController for revalidating fetcher deferred result"),await Wg(c,l.signal,!0).then(p=>{p&&(e[i]=p)}))}}async function Wg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:St.data,data:t.deferredData.unwrappedData}}catch(i){return{type:St.error,error:i}}return{type:St.data,data:t.deferredData.data}}}function qg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ju(t,e){let n=typeof e=="string"?Lo(e).search:e.search;if(t[t.length-1].route.index&&qg(n||""))return t[t.length-1];let r=DT(t);return r[r.length-1]}function Gw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Am(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function oo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rC(t,e){try{let n=t.sessionStorage.getItem(MT);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function iC(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(MT,JSON.stringify(n))}catch(r){xl(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}const Pc=L.createContext(null),Gg=L.createContext(null),Cs=L.createContext(null),Kg=L.createContext(null),Ki=L.createContext({outlet:null,matches:[],isDataRoute:!1}),BT=L.createContext(null);function sC(t,e){let{relative:n}=e===void 0?{}:e;Yl()||Ye(!1);let{basename:r,navigator:i}=L.useContext(Cs),{hash:a,pathname:l,search:c}=mh(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:_s([r,l])),i.createHref({pathname:f,search:c,hash:a})}function Yl(){return L.useContext(Kg)!=null}function Pa(){return Yl()||Ye(!1),L.useContext(Kg).location}function zT(t){L.useContext(Cs).static||L.useLayoutEffect(t)}function $T(){let{isDataRoute:t}=L.useContext(Ki);return t?_C():oC()}function oC(){Yl()||Ye(!1);let t=L.useContext(Pc),{basename:e,future:n,navigator:r}=L.useContext(Cs),{matches:i}=L.useContext(Ki),{pathname:a}=Pa(),l=JSON.stringify(hh(i,n.v7_relativeSplatPath)),c=L.useRef(!1);return zT(()=>{c.current=!0}),L.useCallback(function(p,m){if(m===void 0&&(m={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let y=ph(p,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:_s([e,y.pathname])),(m.replace?r.replace:r.push)(y,m.state,m)},[e,r,l,a,t])}const aC=L.createContext(null);function lC(t){let e=L.useContext(Ki).outlet;return e&&L.createElement(aC.Provider,{value:t},e)}function h3(){let{matches:t}=L.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function mh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(Cs),{matches:i}=L.useContext(Ki),{pathname:a}=Pa(),l=JSON.stringify(hh(i,r.v7_relativeSplatPath));return L.useMemo(()=>ph(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function uC(t,e,n,r){Yl()||Ye(!1);let{navigator:i}=L.useContext(Cs),{matches:a}=L.useContext(Ki),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=Pa(),m;m=p;let y=m.pathname||"/",w=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=fa(t,{pathname:w});return pC(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},c,A.params),pathname:_s([f,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:_s([f,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,n,r)}function cC(){let t=vC(),e=fc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const dC=L.createElement(cC,null);class fC extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Ki.Provider,{value:this.props.routeContext},L.createElement(BT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hC(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(Pc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Ki.Provider,{value:e},r)}function pC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=(i=n)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);m>=0||Ye(!1),l=l.slice(0,Math.min(l.length,m+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:w,errors:T}=n,S=y.route.loader&&w[y.route.id]===void 0&&(!T||T[y.route.id]===void 0);if(y.route.lazy||S){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,w)=>{let T,S=!1,A=null,b=null;n&&(T=c&&y.route.id?c[y.route.id]:void 0,A=y.route.errorElement||dC,f&&(p<0&&w===0?(wC("route-fallback"),S=!0,b=null):p===w&&(S=!0,b=y.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,w+1)),x=()=>{let G;return T?G=A:S?G=b:y.route.Component?G=L.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=m,L.createElement(hC,{match:y,routeContext:{outlet:m,matches:M,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?L.createElement(fC,{location:n.location,revalidation:n.revalidation,component:A,error:T,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}var HT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HT||{}),WT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(WT||{});function mC(t){let e=L.useContext(Pc);return e||Ye(!1),e}function gC(t){let e=L.useContext(Gg);return e||Ye(!1),e}function yC(t){let e=L.useContext(Ki);return e||Ye(!1),e}function qT(t){let e=yC(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function vC(){var t;let e=L.useContext(BT),n=gC(),r=qT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _C(){let{router:t}=mC(HT.UseNavigateStable),e=qT(WT.UseNavigateStable),n=L.useRef(!1);return zT(()=>{n.current=!0}),L.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uf({fromRouteId:e},a)))},[t,e])}const Kw={};function wC(t,e,n){Kw[t]||(Kw[t]=!0)}function EC(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Qw(t){let{to:e,replace:n,state:r,relative:i}=t;Yl()||Ye(!1);let{future:a,static:l}=L.useContext(Cs),{matches:c}=L.useContext(Ki),{pathname:f}=Pa(),p=$T(),m=ph(e,hh(c,a.v7_relativeSplatPath),f,i==="path"),y=JSON.stringify(m);return L.useEffect(()=>p(JSON.parse(y),{replace:n,state:r,relative:i}),[p,y,i,n,r]),null}function GT(t){return lC(t.context)}function TC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=rn.Pop,navigator:a,static:l=!1,future:c}=t;Yl()&&Ye(!1);let f=e.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:f,navigator:a,static:l,future:Uf({v7_relativeSplatPath:!1},c)}),[f,c,a,l]);typeof r=="string"&&(r=Lo(r));let{pathname:m="/",search:y="",hash:w="",state:T=null,key:S="default"}=r,A=L.useMemo(()=>{let b=ws(m,f);return b==null?null:{location:{pathname:b,search:y,hash:w,state:T,key:S},navigationType:i}},[f,m,y,w,T,S,i]);return A==null?null:L.createElement(Cs.Provider,{value:p},L.createElement(Kg.Provider,{children:n,value:A}))}new Promise(()=>{});function IC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nl(){return Nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nl.apply(this,arguments)}function KT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RC(t,e){return t.button===0&&(!e||e==="_self")&&!SC(t)}const AC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],CC="6";try{window.__reactRouterVersion=CC}catch{}function bC(t,e){return UP({basename:void 0,future:Nl({},void 0,{v7_prependBasename:!0}),history:uP({window:void 0}),hydrationData:kC(),routes:t,mapRouteProperties:IC,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function kC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Nl({},e,{errors:OC(e.errors)})),e}function OC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ff(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}const QT=L.createContext({isTransitioning:!1}),xC=L.createContext(new Map),NC="startTransition",Yw=nP[NC],DC="flushSync",Jw=lP[DC];function LC(t){Yw?Yw(t):t()}function zu(t){Jw?Jw(t):t()}let MC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function VC(t){let{fallbackElement:e,router:n,future:r}=t,[i,a]=L.useState(n.state),[l,c]=L.useState(),[f,p]=L.useState({isTransitioning:!1}),[m,y]=L.useState(),[w,T]=L.useState(),[S,A]=L.useState(),b=L.useRef(new Map),{v7_startTransition:M}=r||{},x=L.useCallback(C=>{M?LC(C):C()},[M]),G=L.useCallback((C,k)=>{let{deletedFetchers:N,flushSync:U,viewTransitionOpts:B}=k;C.fetchers.forEach((it,Ct)=>{it.data!==void 0&&b.current.set(Ct,it.data)}),N.forEach(it=>b.current.delete(it));let D=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!B||D){U?zu(()=>a(C)):x(()=>a(C));return}if(U){zu(()=>{w&&(m&&m.resolve(),w.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let it=n.window.document.startViewTransition(()=>{zu(()=>a(C))});it.finished.finally(()=>{zu(()=>{y(void 0),T(void 0),c(void 0),p({isTransitioning:!1})})}),zu(()=>T(it));return}w?(m&&m.resolve(),w.skipTransition(),A({state:C,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(c(C),p({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,w,m,b,x]);L.useLayoutEffect(()=>n.subscribe(G),[n,G]),L.useEffect(()=>{f.isTransitioning&&!f.flushSync&&y(new MC)},[f]),L.useEffect(()=>{if(m&&l&&n.window){let C=l,k=m.promise,N=n.window.document.startViewTransition(async()=>{x(()=>a(C)),await k});N.finished.finally(()=>{y(void 0),T(void 0),c(void 0),p({isTransitioning:!1})}),T(N)}},[x,l,m,n.window]),L.useEffect(()=>{m&&l&&i.location.key===l.location.key&&m.resolve()},[m,w,i.location,l]),L.useEffect(()=>{!f.isTransitioning&&S&&(c(S.state),p({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),A(void 0))},[f.isTransitioning,S]),L.useEffect(()=>{},[]);let ee=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,k,N)=>n.navigate(C,{state:k,preventScrollReset:N?.preventScrollReset}),replace:(C,k,N)=>n.navigate(C,{replace:!0,state:k,preventScrollReset:N?.preventScrollReset})}),[n]),ue=n.basename||"/",fe=L.useMemo(()=>({router:n,navigator:ee,static:!1,basename:ue}),[n,ee,ue]),R=L.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return L.useEffect(()=>EC(r,n.future),[r,n.future]),L.createElement(L.Fragment,null,L.createElement(Pc.Provider,{value:fe},L.createElement(Gg.Provider,{value:i},L.createElement(xC.Provider,{value:b.current},L.createElement(QT.Provider,{value:f},L.createElement(TC,{basename:ue,location:i.location,navigationType:i.historyAction,navigator:ee,future:R},i.initialized||n.future.v7_partialHydration?L.createElement(FC,{routes:n.routes,future:n.future,state:i}):e))))),null)}const FC=L.memo(UC);function UC(t){let{routes:e,future:n,state:r}=t;return uC(e,void 0,r,n)}const jC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zC=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:m,viewTransition:y}=e,w=KT(e,AC),{basename:T}=L.useContext(Cs),S,A=!1;if(typeof p=="string"&&BC.test(p)&&(S=p,jC))try{let G=new URL(window.location.href),ee=p.startsWith("//")?new URL(G.protocol+p):new URL(p),ue=ws(ee.pathname,T);ee.origin===G.origin&&ue!=null?p=ue+ee.search+ee.hash:A=!0}catch{}let b=sC(p,{relative:i}),M=HC(p,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:y});function x(G){r&&r(G),G.defaultPrevented||M(G)}return L.createElement("a",Nl({},w,{href:S||b,onClick:A||a?r:x,ref:n,target:f}))}),m3=L.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:f,viewTransition:p,children:m}=e,y=KT(e,PC),w=mh(f,{relative:y.relative}),T=Pa(),S=L.useContext(Gg),{navigator:A,basename:b}=L.useContext(Cs),M=S!=null&&WC(w)&&p===!0,x=A.encodeLocation?A.encodeLocation(w).pathname:w.pathname,G=T.pathname,ee=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(G=G.toLowerCase(),ee=ee?ee.toLowerCase():null,x=x.toLowerCase()),ee&&b&&(ee=ws(ee,b)||ee);const ue=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let fe=G===x||!l&&G.startsWith(x)&&G.charAt(ue)==="/",R=ee!=null&&(ee===x||!l&&ee.startsWith(x)&&ee.charAt(x.length)==="/"),C={isActive:fe,isPending:R,isTransitioning:M},k=fe?r:void 0,N;typeof a=="function"?N=a(C):N=[a,fe?"active":null,R?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let U=typeof c=="function"?c(C):c;return L.createElement(zC,Nl({},y,{"aria-current":k,className:N,ref:n,style:U,to:f,viewTransition:p}),typeof m=="function"?m(C):m)});var ig;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ig||(ig={}));var Xw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xw||(Xw={}));function $C(t){let e=L.useContext(Pc);return e||Ye(!1),e}function HC(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,f=$T(),p=Pa(),m=mh(t,{relative:l});return L.useCallback(y=>{if(RC(y,n)){y.preventDefault();let w=r!==void 0?r:wa(p)===wa(m);f(t,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,m,r,i,n,t,a,l,c])}function WC(t,e){e===void 0&&(e={});let n=L.useContext(QT);n==null&&Ye(!1);let{basename:r}=$C(ig.useViewTransitionState),i=mh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vf(i.pathname,l)!=null||Vf(i.pathname,a)!=null}let qC={data:""},GC=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||qC,KC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,QC=/\/\*[^]*?\*\/|  +/g,Zw=/\n+/g,ao=(t,e)=>{let n="",r="",i="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?ao(l,a):a+"{"+ao(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=ao(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,c):c?c+" "+f:f)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ao.p?ao.p(a,l):a+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},hs={},YT=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+YT(t[n]);return e}return t},YC=(t,e,n,r,i)=>{let a=YT(t),l=hs[a]||(hs[a]=(f=>{let p=0,m=11;for(;p<f.length;)m=101*m+f.charCodeAt(p++)>>>0;return"go"+m})(a));if(!hs[l]){let f=a!==t?t:(p=>{let m,y,w=[{}];for(;m=KC.exec(p.replace(QC,""));)m[4]?w.shift():m[3]?(y=m[3].replace(Zw," ").trim(),w.unshift(w[0][y]=w[0][y]||{})):w[0][m[1]]=m[2].replace(Zw," ").trim();return w[0]})(t);hs[l]=ao(i?{["@keyframes "+l]:f}:f,n?"":"."+l)}let c=n&&hs.g?hs.g:null;return n&&(hs.g=hs[l]),((f,p,m,y)=>{y?p.data=p.data.replace(y,f):p.data.indexOf(f)===-1&&(p.data=m?f+p.data:p.data+f)})(hs[l],e,r,c),l},JC=(t,e,n)=>t.reduce((r,i,a)=>{let l=e[a];if(l&&l.call){let c=l(n),f=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=f?"."+f:c&&typeof c=="object"?c.props?"":ao(c,""):c===!1?"":c}return r+i+(l??"")},"");function gh(t){let e=this||{},n=t.call?t(e.p):t;return YC(n.unshift?n.raw?JC(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,GC(e.target),e.g,e.o,e.k)}let JT,sg,og;gh.bind({g:1});let Es=gh.bind({k:1});function XC(t,e,n,r){ao.p=e,JT=t,sg=n,og=r}function Mo(t,e){let n=this||{};return function(){let r=arguments;function i(a,l){let c=Object.assign({},a),f=c.className||i.className;n.p=Object.assign({theme:sg&&sg()},c),n.o=/ *go\d+/.test(f),c.className=gh.apply(n,r)+(f?" "+f:"");let p=t;return t[0]&&(p=c.as||t,delete c.as),og&&p[0]&&og(c),JT(p,c)}return i}}var ZC=t=>typeof t=="function",jf=(t,e)=>ZC(t)?t(e):t,eb=(()=>{let t=0;return()=>(++t).toString()})(),XT=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),tb=20,ZT=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,tb)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return ZT(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Tf=[],ma={toasts:[],pausedAt:void 0},Ca=t=>{ma=ZT(ma,t),Tf.forEach(e=>{e(ma)})},nb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},rb=(t={})=>{let[e,n]=L.useState(ma),r=L.useRef(ma);L.useEffect(()=>(r.current!==ma&&n(ma),Tf.push(n),()=>{let a=Tf.indexOf(n);a>-1&&Tf.splice(a,1)}),[]);let i=e.toasts.map(a=>{var l,c,f;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((l=t[a.type])==null?void 0:l.removeDelay)||t?.removeDelay,duration:a.duration||((c=t[a.type])==null?void 0:c.duration)||t?.duration||nb[a.type],style:{...t.style,...(f=t[a.type])==null?void 0:f.style,...a.style}}});return{...e,toasts:i}},ib=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||eb()}),Cc=t=>(e,n)=>{let r=ib(e,t,n);return Ca({type:2,toast:r}),r.id},Wn=(t,e)=>Cc("blank")(t,e);Wn.error=Cc("error");Wn.success=Cc("success");Wn.loading=Cc("loading");Wn.custom=Cc("custom");Wn.dismiss=t=>{Ca({type:3,toastId:t})};Wn.remove=t=>Ca({type:4,toastId:t});Wn.promise=(t,e,n)=>{let r=Wn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?jf(e.success,i):void 0;return a?Wn.success(a,{id:r,...n,...n?.success}):Wn.dismiss(r),i}).catch(i=>{let a=e.error?jf(e.error,i):void 0;a?Wn.error(a,{id:r,...n,...n?.error}):Wn.dismiss(r)}),t};var sb=(t,e)=>{Ca({type:1,toast:{id:t,height:e}})},ob=()=>{Ca({type:5,time:Date.now()})},nc=new Map,ab=1e3,lb=(t,e=ab)=>{if(nc.has(t))return;let n=setTimeout(()=>{nc.delete(t),Ca({type:4,toastId:t})},e);nc.set(t,n)},ub=t=>{let{toasts:e,pausedAt:n}=rb(t);L.useEffect(()=>{if(n)return;let a=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let f=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(f<0){c.visible&&Wn.dismiss(c.id);return}return setTimeout(()=>Wn.dismiss(c.id),f)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,n]);let r=L.useCallback(()=>{n&&Ca({type:6,time:Date.now()})},[n]),i=L.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:f=8,defaultPosition:p}=l||{},m=e.filter(T=>(T.position||p)===(a.position||p)&&T.height),y=m.findIndex(T=>T.id===a.id),w=m.filter((T,S)=>S<y&&T.visible).length;return m.filter(T=>T.visible).slice(...c?[w+1]:[0,w]).reduce((T,S)=>T+(S.height||0)+f,0)},[e]);return L.useEffect(()=>{e.forEach(a=>{if(a.dismissed)lb(a.id,a.removeDelay);else{let l=nc.get(a.id);l&&(clearTimeout(l),nc.delete(a.id))}})},[e]),{toasts:e,handlers:{updateHeight:sb,startPause:ob,endPause:r,calculateOffset:i}}},cb=Es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,db=Es`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fb=Es`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hb=Mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${db} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pb=Es`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mb=Mo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${pb} 1s linear infinite;
`,gb=Es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yb=Es`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vb=Mo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_b=Mo("div")`
  position: absolute;
`,wb=Mo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Eb=Es`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tb=Mo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Eb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ib=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?L.createElement(Tb,null,e):e:n==="blank"?null:L.createElement(wb,null,L.createElement(mb,{...r}),n!=="loading"&&L.createElement(_b,null,n==="error"?L.createElement(hb,{...r}):L.createElement(vb,{...r})))},Sb=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rb=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Ab="0%{opacity:0;} 100%{opacity:1;}",Pb="0%{opacity:1;} 100%{opacity:0;}",Cb=Mo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bb=Mo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kb=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=XT()?[Ab,Pb]:[Sb(n),Rb(n)];return{animation:e?`${Es(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Es(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ob=L.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?kb(t.position||e||"top-center",t.visible):{opacity:0},a=L.createElement(Ib,{toast:t}),l=L.createElement(bb,{...t.ariaProps},jf(t.message,t));return L.createElement(Cb,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):L.createElement(L.Fragment,null,a,l))});XC(L.createElement);var xb=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=L.useCallback(l=>{if(l){let c=()=>{let f=l.getBoundingClientRect().height;r(t,f)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return L.createElement("div",{ref:a,className:e,style:n},i)},Nb=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:XT()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Db=gh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,uf=16,Lb=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:f}=ub(n);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:uf,left:uf,right:uf,bottom:uf,pointerEvents:"none",...a},className:l,onMouseEnter:f.startPause,onMouseLeave:f.endPause},c.map(p=>{let m=p.position||e,y=f.calculateOffset(p,{reverseOrder:t,gutter:r,defaultPosition:e}),w=Nb(m,y);return L.createElement(xb,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?Db:"",style:w},p.type==="custom"?jf(p.message,p):i?i(p):L.createElement(Ob,{toast:p,position:m}))}))},g3=Wn,Pm,e0;function Mb(){if(e0)return Pm;e0=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,f,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(f=c;f--!==0;)if(!i(a[f],l[f]))return!1;return!0}var m;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(m=a.entries();!(f=m.next()).done;)if(!l.has(f.value[0]))return!1;for(m=a.entries();!(f=m.next()).done;)if(!i(f.value[1],l.get(f.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(m=a.entries();!(f=m.next()).done;)if(!l.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(f=c;f--!==0;)if(a[f]!==l[f])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(f=c;f--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[f]))return!1;if(t&&a instanceof Element)return!1;for(f=c;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!i(a[p[f]],l[p[f]]))return!1;return!0}return a!==a&&l!==l}return Pm=function(l,c){try{return i(l,c)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Pm}var Vb=Mb();const Fb=Gi(Vb);var Cm,t0;function Ub(){if(t0)return Cm;t0=1;var t=function(e,n,r,i,a,l,c,f){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,a,l,c,f],y=0;p=new Error(n.replace(/%s/g,function(){return m[y++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Cm=t,Cm}var jb=Ub();const n0=Gi(jb);var bm,r0;function Bb(){return r0||(r0=1,bm=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(n),p=0;p<l.length;p++){var m=l[p];if(!f(m))return!1;var y=e[m],w=n[m];if(a=r?r.call(i,y,w,m):void 0,a===!1||a===void 0&&y!==w)return!1}return!0}),bm}var zb=Bb();const $b=Gi(zb);var eI=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(eI||{}),km={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},i0=Object.values(eI),Qg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Hb=Object.entries(Qg).reduce((t,[e,n])=>(t[n]=e,t),{}),ci="data-rh",Rl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Al=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},Wb=t=>{let e=Al(t,"title");const n=Al(t,Rl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Al(t,Rl.DEFAULT_TITLE);return e||r||void 0},qb=t=>Al(t,Rl.ON_CHANGE_CLIENT_STATE)||(()=>{}),Om=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),Gb=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const c=i[a].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return n.concat(r)}}return n},[]),Kb=t=>console&&typeof console.warn=="function"&&console.warn(t),$u=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Kb(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const l={};a.filter(f=>{let p;const m=Object.keys(f);for(let w=0;w<m.length;w+=1){const T=m[w],S=T.toLowerCase();e.indexOf(S)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(p=S),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(p=T)}if(!p||!f[p])return!1;const y=f[p].toLowerCase();return r[p]||(r[p]={}),l[p]||(l[p]={}),r[p][y]?!1:(l[p][y]=!0,!0)}).reverse().forEach(f=>i.push(f));const c=Object.keys(l);for(let f=0;f<c.length;f+=1){const p=c[f],m={...r[p],...l[p]};r[p]=m}return i},[]).reverse()},Qb=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},Yb=t=>({baseTag:Gb(["href"],t),bodyAttributes:Om("bodyAttributes",t),defer:Al(t,Rl.DEFER),encode:Al(t,Rl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Om("htmlAttributes",t),linkTags:$u("link",["rel","href"],t),metaTags:$u("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:$u("noscript",["innerHTML"],t),onChangeClientState:qb(t),scriptTags:$u("script",["src","innerHTML"],t),styleTags:$u("style",["cssText"],t),title:Wb(t),titleAttributes:Om("titleAttributes",t),prioritizeSeoTags:Qb(t,Rl.PRIORITIZE_SEO_TAGS)}),tI=t=>Array.isArray(t)?t.join(""):t,Jb=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},xm=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(Jb(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},s0=(t,e)=>({...t,[e]:void 0}),Xb=["noscript","script","style"],ag=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),nI=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),Zb=(t,e,n,r)=>{const i=nI(n),a=tI(e);return i?`<${t} ${ci}="true" ${i}>${ag(a,r)}</${t}>`:`<${t} ${ci}="true">${ag(a,r)}</${t}>`},ek=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,l=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,m)=>{const y=typeof a[m]>"u"?m:`${m}="${ag(a[m],n)}"`;return p?`${p} ${y}`:y},""),c=a.innerHTML||a.cssText||"",f=Xb.indexOf(t)===-1;return`${r}<${t} ${ci}="true" ${l}${f?"/>":`>${c}</${t}>`}`},""),rI=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Qg[r];return n[i||r]=t[r],n},e),tk=(t,e,n)=>{const r={key:e,[ci]:!0},i=rI(n,r);return[me.createElement("title",i,e)]},If=(t,e)=>e.map((n,r)=>{const i={key:r,[ci]:!0};return Object.keys(n).forEach(a=>{const c=Qg[a]||a;if(c==="innerHTML"||c==="cssText"){const f=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:f}}else i[c]=n[a]}),me.createElement(t,i)}),Br=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>tk(t,e.title,e.titleAttributes),toString:()=>Zb(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>rI(e),toString:()=>nI(e)};default:return{toComponent:()=>If(t,e),toString:()=>ek(t,e,n)}}},nk=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=xm(t,km.meta),a=xm(e,km.link),l=xm(n,km.script);return{priorityMethods:{toComponent:()=>[...If("meta",i.priority),...If("link",a.priority),...If("script",l.priority)],toString:()=>`${Br("meta",i.priority,r)} ${Br("link",a.priority,r)} ${Br("script",l.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:l.default}},rk=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:l,title:c="",titleAttributes:f,prioritizeSeoTags:p}=t;let{linkTags:m,metaTags:y,scriptTags:w}=t,T={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:T,linkTags:m,metaTags:y,scriptTags:w}=nk(t)),{priority:T,base:Br("base",e,r),bodyAttributes:Br("bodyAttributes",n,r),htmlAttributes:Br("htmlAttributes",i,r),link:Br("link",m,r),meta:Br("meta",y,r),noscript:Br("noscript",a,r),script:Br("script",w,r),style:Br("style",l,r),title:Br("title",{title:c,titleAttributes:f},r)}},lg=rk,cf=[],iI=!!(typeof window<"u"&&window.document&&window.document.createElement),ug=class{instances=[];canUseDOM=iI;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?cf:this.instances,add:t=>{(this.canUseDOM?cf:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?cf:this.instances).indexOf(t);(this.canUseDOM?cf:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=lg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ik={},sI=me.createContext(ik),oI=class aI extends L.Component{static canUseDOM=iI;helmetData;constructor(e){super(e),this.helmetData=new ug(this.props.context||{},aI.canUseDOM)}render(){return me.createElement(sI.Provider,{value:this.helmetData.value},this.props.children)}},yl=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${ci}]`),i=[].slice.call(r),a=[];let l;return e&&e.length&&e.forEach(c=>{const f=document.createElement(t);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p))if(p==="innerHTML")f.innerHTML=c.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=c.cssText:f.appendChild(document.createTextNode(c.cssText));else{const m=p,y=typeof c[m]>"u"?"":c[m];f.setAttribute(p,y)}f.setAttribute(ci,"true"),i.some((p,m)=>(l=m,f.isEqualNode(p)))?i.splice(l,1):a.push(f)}),i.forEach(c=>c.parentNode?.removeChild(c)),a.forEach(c=>n.appendChild(c)),{oldTags:i,newTags:a}},cg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(ci),i=r?r.split(","):[],a=[...i],l=Object.keys(e);for(const c of l){const f=e[c]||"";n.getAttribute(c)!==f&&n.setAttribute(c,f),i.indexOf(c)===-1&&i.push(c);const p=a.indexOf(c);p!==-1&&a.splice(p,1)}for(let c=a.length-1;c>=0;c-=1)n.removeAttribute(a[c]);i.length===a.length?n.removeAttribute(ci):n.getAttribute(ci)!==l.join(",")&&n.setAttribute(ci,l.join(","))},sk=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=tI(t)),cg("title",e)},o0=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:l,noscriptTags:c,onChangeClientState:f,scriptTags:p,styleTags:m,title:y,titleAttributes:w}=t;cg("body",r),cg("html",i),sk(y,w);const T={baseTag:yl("base",n),linkTags:yl("link",a),metaTags:yl("meta",l),noscriptTags:yl("noscript",c),scriptTags:yl("script",p),styleTags:yl("style",m)},S={},A={};Object.keys(T).forEach(b=>{const{newTags:M,oldTags:x}=T[b];M.length&&(S[b]=M),x.length&&(A[b]=T[b].oldTags)}),e&&e(),f(t,S,A)},Hu=null,ok=t=>{Hu&&cancelAnimationFrame(Hu),t.defer?Hu=requestAnimationFrame(()=>{o0(t,()=>{Hu=null})}):(o0(t),Hu=null)},ak=ok,a0=class extends L.Component{rendered=!1;shouldComponentUpdate(t){return!$b(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const r=Yb(t.get().map(i=>{const a={...i.props};return delete a.context,a}));oI.canUseDOM?ak(r):lg&&(n=lg(r)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},y3=class extends L.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!Fb(s0(this.props,"helmetData"),s0(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return n0(i0.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${i0.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),n0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return me.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,l=Object.keys(a).reduce((f,p)=>(f[Hb[p]||p]=a[p],f),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,i),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,l,i);break;default:e=this.mapObjectTypeChildren(r,e,l,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof ug)){const i=r;r=new ug(i.context,!0),delete n.helmetData}return r?me.createElement(a0,{...n,context:r.value}):me.createElement(sI.Consumer,null,i=>me.createElement(a0,{...n,context:i}))}};const lk=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},uI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,T=p&63;f||(T=64,l||(w=64)),r.push(n[m],n[y],n[w],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||p==null||y==null)throw new ck;const w=a<<2|c>>4;if(r.push(w),p!==64){const T=c<<4&240|p>>2;if(r.push(T),y!==64){const S=p<<6&192|y;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dk=function(t){const e=lI(t);return uI.encodeByteArray(e,!0)},Bf=function(t){return dk(t).replace(/\./g,"")},cI=function(t){try{return uI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk=()=>fk().__FIREBASE_DEFAULTS__,pk=()=>{if(typeof process>"u"||typeof l0>"u")return;const t=l0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cI(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return lk()||hk()||pk()||mk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dI=t=>{var e,n;return(n=(e=yh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yg=t=>{const e=dI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fI=()=>{var t;return(t=yh())===null||t===void 0?void 0:t.config},hI=t=>{var e;return(e=yh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vh(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bf(JSON.stringify(n)),Bf(JSON.stringify(l)),""].join(".")}const rc={};function yk(){const t={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function vk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let u0=!1;function _h(t,e){if(typeof window>"u"||typeof document>"u"||!bs(window.location.host)||rc[t]===e||rc[t]||u0)return;rc[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=yk().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{u0=!0,l()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=vk(r),T=n("text"),S=document.getElementById(T)||document.createElement("span"),A=n("learnmore"),b=document.getElementById(A)||document.createElement("a"),M=n("preprendIcon"),x=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;c(G),m(b,A);const ee=p();f(x,M),G.append(x,S,b,ee),document.body.appendChild(G)}a?(S.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _k(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function wk(){var t;const e=(t=yh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ik(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sk(){const t=Fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rk(){return!wk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ak(){try{return typeof indexedDB=="object"}catch{return!1}}function Pk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ck,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?bk(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new mi(i,c,r)}}function bk(t,e){return t.replace(kk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kk=/\{\$([^}]+)}/g;function Ok(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(c0(a)&&c0(l)){if(!Ro(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xk(t,e){const n=new Nk(t,e);return n.subscribe.bind(n)}class Nk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Nm),i.error===void 0&&(i.error=Nm),i.complete===void 0&&(i.complete=Nm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vk(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mk(t){return t===da?void 0:t}function Vk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Lk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const Uk={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},jk=at.INFO,Bk={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},zk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Bk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=jk,this._logHandler=zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const $k=(t,e)=>e.some(n=>t instanceof n);let d0,f0;function Hk(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wk(){return f0||(f0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mI=new WeakMap,dg=new WeakMap,gI=new WeakMap,Dm=new WeakMap,Xg=new WeakMap;function qk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(_o(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&mI.set(n,t)}).catch(()=>{}),Xg.set(e,t),e}function Gk(t){if(dg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});dg.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kk(t){fg=t(fg)}function Qk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lm(this),e,...n);return gI.set(r,e.sort?e.sort():[e]),_o(r)}:Wk().includes(t)?function(...e){return t.apply(Lm(this),e),_o(mI.get(this))}:function(...e){return _o(t.apply(Lm(this),e))}}function Yk(t){return typeof t=="function"?Qk(t):(t instanceof IDBTransaction&&Gk(t),$k(t,Hk())?new Proxy(t,fg):t)}function _o(t){if(t instanceof IDBRequest)return qk(t);if(Dm.has(t))return Dm.get(t);const e=Yk(t);return e!==t&&(Dm.set(t,e),Xg.set(e,t)),e}const Lm=t=>Xg.get(t);function Jk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=_o(l);return r&&l.addEventListener("upgradeneeded",f=>{r(_o(l.result),f.oldVersion,f.newVersion,_o(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Xk=["get","getKey","getAll","getAllKeys","count"],Zk=["put","add","delete","clear"],Mm=new Map;function h0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xk.includes(n)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),i&&f.done]))[0]};return Mm.set(e,a),a}Kk(t=>({...t,get:(e,n,r)=>h0(e,n)||t.get(e,n,r),has:(e,n)=>!!h0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tO(t){const e=t.getComponent();return e?.type==="VERSION"}const hg="@firebase/app",p0="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Jg("@firebase/app"),nO="@firebase/app-compat",rO="@firebase/analytics-compat",iO="@firebase/analytics",sO="@firebase/app-check-compat",oO="@firebase/app-check",aO="@firebase/auth",lO="@firebase/auth-compat",uO="@firebase/database",cO="@firebase/data-connect",dO="@firebase/database-compat",fO="@firebase/functions",hO="@firebase/functions-compat",pO="@firebase/installations",mO="@firebase/installations-compat",gO="@firebase/messaging",yO="@firebase/messaging-compat",vO="@firebase/performance",_O="@firebase/performance-compat",wO="@firebase/remote-config",EO="@firebase/remote-config-compat",TO="@firebase/storage",IO="@firebase/storage-compat",SO="@firebase/firestore",RO="@firebase/ai",AO="@firebase/firestore-compat",PO="firebase",CO="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",bO={[hg]:"fire-core",[nO]:"fire-core-compat",[iO]:"fire-analytics",[rO]:"fire-analytics-compat",[oO]:"fire-app-check",[sO]:"fire-app-check-compat",[aO]:"fire-auth",[lO]:"fire-auth-compat",[uO]:"fire-rtdb",[cO]:"fire-data-connect",[dO]:"fire-rtdb-compat",[fO]:"fire-fn",[hO]:"fire-fn-compat",[pO]:"fire-iid",[mO]:"fire-iid-compat",[gO]:"fire-fcm",[yO]:"fire-fcm-compat",[vO]:"fire-perf",[_O]:"fire-perf-compat",[wO]:"fire-rc",[EO]:"fire-rc-compat",[TO]:"fire-gcs",[IO]:"fire-gcs-compat",[SO]:"fire-fst",[AO]:"fire-fst-compat",[RO]:"fire-vertex","fire-js":"fire-js",[PO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map,kO=new Map,mg=new Map;function m0(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ao(t){const e=t.name;if(mg.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;mg.set(e,t);for(const n of zf.values())m0(n,t);for(const n of kO.values())m0(n,t);return!0}function Oc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ir(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new bc("app","Firebase",OO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=CO;function yI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pg,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw wo.create("bad-app-name",{appName:String(i)});if(n||(n=fI()),!n)throw wo.create("no-options");const a=zf.get(i);if(a){if(Ro(n,a.options)&&Ro(r,a.config))return a;throw wo.create("duplicate-app",{appName:i})}const l=new Fk(i);for(const f of mg.values())l.addComponent(f);const c=new xO(n,r,l);return zf.set(i,c),c}function xc(t=pg){const e=zf.get(t);if(!e&&t===pg&&fI())return yI();if(!e)throw wo.create("no-app",{appName:t});return e}function Hr(t,e,n){var r;let i=(r=bO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}Ao(new Ts(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firebase-heartbeat-database",DO=1,hc="firebase-heartbeat-store";let Vm=null;function vI(){return Vm||(Vm=Jk(NO,DO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw wo.create("idb-open",{originalErrorMessage:t.message})})),Vm}async function LO(t){try{const n=(await vI()).transaction(hc),r=await n.objectStore(hc).get(_I(t));return await n.done,r}catch(e){if(e instanceof mi)Is.warn(e.message);else{const n=wo.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function g0(t,e){try{const r=(await vI()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,_I(t)),await r.done}catch(n){if(n instanceof mi)Is.warn(n.message);else{const r=wo.create("idb-set",{originalErrorMessage:n?.message});Is.warn(r.message)}}}function _I(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=1024,VO=30;class FO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VO){const l=BO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:r,unsentEntries:i}=UO(this._heartbeatsCache.heartbeats),a=Bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Is.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function UO(t,e=MO){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),v0(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),v0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ak()?Pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v0(t){return Bf(JSON.stringify({version:2,heartbeats:t})).length}function BO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){Ao(new Ts("platform-logger",e=>new eO(e),"PRIVATE")),Ao(new Ts("heartbeat",e=>new FO(e),"PRIVATE")),Hr(hg,p0,t),Hr(hg,p0,"esm2017"),Hr("fire-js","")}zO("");function Zg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=wI,EI=new bc("auth","Firebase",wI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Jg("@firebase/auth");function HO(t,...e){$f.logLevel<=at.WARN&&$f.warn(`Auth (${ba}): ${t}`,...e)}function Sf(t,...e){$f.logLevel<=at.ERROR&&$f.error(`Auth (${ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,...e){throw ey(t,...e)}function Bi(t,...e){return ey(t,...e)}function TI(t,e,n){const r=Object.assign(Object.assign({},$O()),{[e]:n});return new bc("auth","Firebase",r).create(e,{appName:t.name})}function Eo(t){return TI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ey(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EI.create(t,...e)}function He(t,e,...n){if(!t)throw ey(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sf(e),new Error(e)}function Rs(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function WO(){return _0()==="http:"||_0()==="https:"}function _0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WO()||Tk()||"connection"in navigator)?navigator.onLine:!0}function GO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=_k()||Ik()}get(){return qO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YO=new Nc(3e4,6e4);function wh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jl(t,e,n,r,i={}){return SI(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=kc(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},a);return Ek()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&bs(t.emulatorConfig.host)&&(p.credentials="include"),II.fetch()(await AI(t,t.config.apiHost,n,c),p)})}async function SI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KO),e);try{const i=new JO(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw df(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw df(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw df(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw TI(t,m,p);Ss(t,m)}}catch(i){if(i instanceof mi)throw i;Ss(t,"network-request-failed",{message:String(i)})}}async function RI(t,e,n,r,i={}){const a=await Jl(t,e,n,r,i);return"mfaPendingCredential"in a&&Ss(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function AI(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?ty(t.config,i):`${t.config.apiScheme}://${i}`;return QO.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class JO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),YO.get())})}}function df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){return Jl(t,"POST","/v1/accounts:delete",e)}async function Hf(t,e){return Jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZO(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=ny(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:ic(Fm(i.auth_time)),issuedAtTime:ic(Fm(i.iat)),expirationTime:ic(Fm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Fm(t){return Number(t)*1e3}function ny(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sf("JWT malformed, contained fewer than 3 sections"),null;try{const i=cI(n);return i?JSON.parse(i):(Sf("Failed to decode base64 JWT payload"),null)}catch(i){return Sf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function w0(t){const e=ny(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&ex(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ex({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pc(t,Hf(n,{idToken:r}));He(i?.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PI(a.providerUserInfo):[],c=rx(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!c?.length,m=f?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new yg(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function nx(t){const e=Et(t);await Wf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PI(t){return t.map(e=>{var{providerId:n}=e,r=Zg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e){const n=await SI(t,{},async()=>{const r=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await AI(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&bs(t.emulatorConfig.host)&&(f.credentials="include"),II.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sx(t,e){return Jl(t,"POST","/v2/accounts:revokeToken",wh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=w0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await ix(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Pl;return r&&(He(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Zg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await pc(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZO(this,e)}reload(){return nx(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(Eo(this.auth));const e=await this.getIdToken();return await pc(this,XO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,f,p,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,T=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,A=(c=n.tenantId)!==null&&c!==void 0?c:void 0,b=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,M=(p=n.createdAt)!==null&&p!==void 0?p:void 0,x=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:G,emailVerified:ee,isAnonymous:ue,providerData:fe,stsTokenManager:R}=n;He(G&&R,e,"internal-error");const C=Pl.fromJSON(this.name,R);He(typeof G=="string",e,"internal-error"),so(y,e.name),so(w,e.name),He(typeof ee=="boolean",e,"internal-error"),He(typeof ue=="boolean",e,"internal-error"),so(T,e.name),so(S,e.name),so(A,e.name),so(b,e.name),so(M,e.name),so(x,e.name);const k=new di({uid:G,auth:e,email:w,emailVerified:ee,displayName:y,isAnonymous:ue,photoURL:S,phoneNumber:T,tenantId:A,stsTokenManager:C,createdAt:M,lastLoginAt:x});return fe&&Array.isArray(fe)&&(k.providerData=fe.map(N=>Object.assign({},N))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pl;i.updateFromServerResponse(n);const a=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new Pl;c.updateFromIdToken(r);const f=new di({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new yg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function ys(t){Rs(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CI.type="NONE";const T0=CI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t,e,n){return`firebase:${t}:${e}:${n}`}class Cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Rf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Rf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hf(this.auth,{idToken:e}).catch(()=>{});return n?di._fromGetAccountInfoResponse(this.auth,n,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cl(ys(T0),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||ys(T0);const l=Rf(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const w=await Hf(e,{idToken:m}).catch(()=>{});if(!w)break;y=await di._fromGetAccountInfoResponse(e,w,m)}else y=di._fromJSON(e,m);p!==a&&(c=y),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Cl(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Cl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DI(e))return"Blackberry";if(LI(e))return"Webos";if(kI(e))return"Safari";if((e.includes("chrome/")||OI(e))&&!e.includes("edge/"))return"Chrome";if(NI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bI(t=Fn()){return/firefox\//i.test(t)}function kI(t=Fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OI(t=Fn()){return/crios\//i.test(t)}function xI(t=Fn()){return/iemobile/i.test(t)}function NI(t=Fn()){return/android/i.test(t)}function DI(t=Fn()){return/blackberry/i.test(t)}function LI(t=Fn()){return/webos/i.test(t)}function ry(t=Fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ox(t=Fn()){var e;return ry(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ax(){return Sk()&&document.documentMode===10}function MI(t=Fn()){return ry(t)||NI(t)||LI(t)||DI(t)||/windows phone/i.test(t)||xI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e=[]){let n;switch(t){case"Browser":n=I0(Fn());break;case"Worker":n=`${I0(Fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(t,e={}){return Jl(t,"GET","/v2/passwordPolicy",wh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=6;class dx{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:cx,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new lx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Cl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hf(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ir(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ir(this.app))return Promise.reject(Eo(this));const n=e?Et(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(Eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ir(this.app)?Promise.reject(Eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ux(this),n=new dx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await Cl.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&HO(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Eh(t){return Et(t)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=xk(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hx(t){iy=t}function px(t){return iy.loadJS(t)}function mx(){return iy.gapiScript}function gx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){const n=Oc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ro(a,e??{}))return i;Ss(i,"already-initialized")}return n.initialize({options:e})}function vx(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _x(t,e,n){const r=Eh(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=FI(e),{host:l,port:c}=wx(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Ro(p,r.config.emulator)&&Ro(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,bs(l)?(vh(`${a}//${l}${f}`),_h("Auth",!0)):Ex()}function FI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wx(t){const e=FI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:R0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:R0(l)}}}function R0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ex(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return RI(t,"POST","/v1/accounts:signInWithIdp",wh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="http://localhost";class Ea extends UI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Zg(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ea(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return bl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bl(e,n)}buildRequest(){const e={requestUri:Tx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends jI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Dc{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends Dc{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Dc{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await di._fromIdTokenResponse(e,r,i),l=A0(r);return new Ta({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=A0(r);return new Ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function A0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends mi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qf(e,n,r,i)}}function BI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(t,a,e,r):a})}async function Ix(t,e,n=!1){const r=await pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e,n=!1){const{auth:r}=t;if(Ir(r.app))return Promise.reject(Eo(r));const i="reauthenticate";try{const a=await pc(t,BI(r,i,e,t),n);He(a.idToken,r,"internal-error");const l=ny(a.idToken);He(l,r,"internal-error");const{sub:c}=l;return He(t.uid===c,r,"user-mismatch"),Ta._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ss(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t,e,n=!1){if(Ir(t.app))return Promise.reject(Eo(t));const r="signIn",i=await BI(t,r,e),a=await Ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,e){return RI(t,"POST","/v1/accounts:signInWithCustomToken",wh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(t,e){if(Ir(t.app))return Promise.reject(Eo(t));const n=Eh(t),r=await Ax(n,{token:e,returnSecureToken:!0}),i=await Ta._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function Px(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function Cx(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function bx(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function kx(t){return Et(t).signOut()}const Gf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gf,"1"),this.storage.removeItem(Gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=1e3,xx=10;class $I extends zI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);ax()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$I.type="LOCAL";const Nx=$I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI extends zI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HI.type="SESSION";const WI=HI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Th(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async p=>p(n.origin,a)),f=await Dx(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=sy("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(m),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function Mx(t){zi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function Vx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Fx(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ux(){return qI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebaseLocalStorageDb",jx=1,Kf="firebaseLocalStorage",KI="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(t,e){return t.transaction([Kf],e?"readwrite":"readonly").objectStore(Kf)}function Bx(){const t=indexedDB.deleteDatabase(GI);return new Lc(t).toPromise()}function vg(){const t=indexedDB.open(GI,jx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kf,{keyPath:KI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kf)?e(r):(r.close(),await Bx(),e(await vg()))})})}async function P0(t,e,n){const r=Ih(t,!0).put({[KI]:e,value:n});return new Lc(r).toPromise()}async function zx(t,e){const n=Ih(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function C0(t,e){const n=Ih(t,!0).delete(e);return new Lc(n).toPromise()}const $x=800,Hx=3;class QI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Hx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(Ux()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Vx(),!this.activeServiceWorker)return;this.sender=new Lx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Fx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vg();return await P0(e,Gf,"1"),await C0(e,Gf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ih(i,!1).getAll();return new Lc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QI.type="LOCAL";const Wx=QI;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t,e){return e?ys(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy extends UI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gx(t){return Rx(t.auth,new oy(t),t.bypassAuthState)}function Kx(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),Sx(n,new oy(t),t.bypassAuthState)}async function Qx(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),Ix(n,new oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gx;case"linkViaPopup":case"linkViaRedirect":return Qx;case"reauthViaPopup":case"reauthViaRedirect":return Kx;default:Ss(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Nc(2e3,1e4);class Tl extends YI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Tl.currentPopupAction&&Tl.currentPopupAction.cancel(),Tl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yx.get())};e()}}Tl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="pendingRedirect",Af=new Map;class Xx extends YI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const r=await Zx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zx(t,e){const n=nN(e),r=tN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eN(t,e){Af.set(t._key(),e)}function tN(t){return ys(t._redirectPersistence)}function nN(t){return Rf(Jx,t.config.apiKey,t.name)}async function rN(t,e,n=!1){if(Ir(t.app))return Promise.reject(Eo(t));const r=Eh(t),i=qx(r,e),l=await new Xx(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=600*1e3;class sN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iN&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(e))}saveEventToCache(e){this.cachedEventUids.add(b0(e)),this.lastProcessedEventTime=Date.now()}}function b0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e={}){return Jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uN=/^https?/;async function cN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aN(t);for(const n of e)try{if(dN(n))return}catch{}Ss(t,"unauthorized-domain")}function dN(t){const e=gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!uN.test(n))return!1;if(lN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Nc(3e4,6e4);function k0(){const t=zi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hN(t){return new Promise((e,n)=>{var r,i,a;function l(){k0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k0(),n(Bi(t,"network-request-failed"))},timeout:fN.get()})}if(!((i=(r=zi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=zi().gapi)===null||a===void 0)&&a.load)l();else{const c=gx("iframefcb");return zi()[c]=()=>{gapi.load?l():n(Bi(t,"network-request-failed"))},px(`${mx()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Pf=null,e})}let Pf=null;function pN(t){return Pf=Pf||hN(t),Pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Nc(5e3,15e3),gN="__/auth/iframe",yN="emulator/auth/iframe",vN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wN(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ty(e,yN):`https://${t.config.authDomain}/${gN}`,r={apiKey:e.apiKey,appName:t.name,v:ba},i=_N.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${kc(r).slice(1)}`}async function EN(t){const e=await pN(t),n=zi().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:wN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Bi(t,"network-request-failed"),c=zi().setTimeout(()=>{a(l)},mN.get());function f(){zi().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IN=500,SN=600,RN="_blank",AN="http://localhost";class O0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(t,e,n,r=IN,i=SN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},TN),{width:r.toString(),height:i.toString(),top:a,left:l}),p=Fn().toLowerCase();n&&(c=OI(p)?RN:n),bI(p)&&(e=e||AN,f.scrollbars="yes");const m=Object.entries(f).reduce((w,[T,S])=>`${w}${T}=${S},`,"");if(ox(p)&&c!=="_self")return CN(e||"",c),new O0(null);const y=window.open(e||"",c,m);He(y,t,"popup-blocked");try{y.focus()}catch{}return new O0(y)}function CN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__/auth/handler",kN="emulator/auth/handler",ON=encodeURIComponent("fac");async function x0(t,e,n,r,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ba,eventId:i};if(e instanceof jI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Ok(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Dc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const f=await t._getAppCheckToken(),p=f?`#${ON}=${encodeURIComponent(f)}`:"";return`${xN(t)}?${kc(c).slice(1)}${p}`}function xN({config:t}){return t.emulator?ty(t,kN):`https://${t.authDomain}/${bN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class NN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WI,this._completeRedirectFn=rN,this._overrideRedirectResult=eN}async _openPopup(e,n,r,i){var a;Rs((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await x0(e,n,r,gg(),i);return PN(e,l,sy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await x0(e,n,r,gg(),i);return Mx(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await EN(e),r=new sN(e);return n.register("authEvent",i=>(He(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},i=>{var a;const l=(a=i?.[0])===null||a===void 0?void 0:a[Um];l!==void 0&&n(!!l),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MI()||kI()||ry()}}const DN=NN;var N0="@firebase/auth",D0="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VN(t){Ao(new Ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(t)},p=new fx(r,i,a,f);return vx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ao(new Ts("auth-internal",e=>{const n=Eh(e.getProvider("auth").getImmediate());return(r=>new LN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(N0,D0,MN(t)),Hr(N0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=300,UN=hI("authIdTokenMaxAge")||FN;let L0=null;const jN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UN)return;const i=n?.token;L0!==i&&(L0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function BN(t=xc()){const e=Oc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yx(t,{popupRedirectResolver:DN,persistence:[Wx,Nx,WI]}),r=hI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=jN(a.toString());Cx(n,l,()=>l(n.currentUser)),Px(n,c=>l(c))}}const i=dI("auth");return i&&_x(n,`http://${i}`),n}function zN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}hx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Bi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",zN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VN("Browser");var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,XI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function k(){}k.prototype=C.prototype,R.D=C.prototype,R.prototype=new k,R.prototype.constructor=R,R.C=function(N,U,B){for(var D=Array(arguments.length-2),it=2;it<arguments.length;it++)D[it-2]=arguments[it];return C.prototype[U].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,C,k){k||(k=0);var N=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)N[U]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(U=0;16>U;++U)N[U]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=R.g[0],k=R.g[1],U=R.g[2];var B=R.g[3],D=C+(B^k&(U^B))+N[0]+3614090360&4294967295;C=k+(D<<7&4294967295|D>>>25),D=B+(U^C&(k^U))+N[1]+3905402710&4294967295,B=C+(D<<12&4294967295|D>>>20),D=U+(k^B&(C^k))+N[2]+606105819&4294967295,U=B+(D<<17&4294967295|D>>>15),D=k+(C^U&(B^C))+N[3]+3250441966&4294967295,k=U+(D<<22&4294967295|D>>>10),D=C+(B^k&(U^B))+N[4]+4118548399&4294967295,C=k+(D<<7&4294967295|D>>>25),D=B+(U^C&(k^U))+N[5]+1200080426&4294967295,B=C+(D<<12&4294967295|D>>>20),D=U+(k^B&(C^k))+N[6]+2821735955&4294967295,U=B+(D<<17&4294967295|D>>>15),D=k+(C^U&(B^C))+N[7]+4249261313&4294967295,k=U+(D<<22&4294967295|D>>>10),D=C+(B^k&(U^B))+N[8]+1770035416&4294967295,C=k+(D<<7&4294967295|D>>>25),D=B+(U^C&(k^U))+N[9]+2336552879&4294967295,B=C+(D<<12&4294967295|D>>>20),D=U+(k^B&(C^k))+N[10]+4294925233&4294967295,U=B+(D<<17&4294967295|D>>>15),D=k+(C^U&(B^C))+N[11]+2304563134&4294967295,k=U+(D<<22&4294967295|D>>>10),D=C+(B^k&(U^B))+N[12]+1804603682&4294967295,C=k+(D<<7&4294967295|D>>>25),D=B+(U^C&(k^U))+N[13]+4254626195&4294967295,B=C+(D<<12&4294967295|D>>>20),D=U+(k^B&(C^k))+N[14]+2792965006&4294967295,U=B+(D<<17&4294967295|D>>>15),D=k+(C^U&(B^C))+N[15]+1236535329&4294967295,k=U+(D<<22&4294967295|D>>>10),D=C+(U^B&(k^U))+N[1]+4129170786&4294967295,C=k+(D<<5&4294967295|D>>>27),D=B+(k^U&(C^k))+N[6]+3225465664&4294967295,B=C+(D<<9&4294967295|D>>>23),D=U+(C^k&(B^C))+N[11]+643717713&4294967295,U=B+(D<<14&4294967295|D>>>18),D=k+(B^C&(U^B))+N[0]+3921069994&4294967295,k=U+(D<<20&4294967295|D>>>12),D=C+(U^B&(k^U))+N[5]+3593408605&4294967295,C=k+(D<<5&4294967295|D>>>27),D=B+(k^U&(C^k))+N[10]+38016083&4294967295,B=C+(D<<9&4294967295|D>>>23),D=U+(C^k&(B^C))+N[15]+3634488961&4294967295,U=B+(D<<14&4294967295|D>>>18),D=k+(B^C&(U^B))+N[4]+3889429448&4294967295,k=U+(D<<20&4294967295|D>>>12),D=C+(U^B&(k^U))+N[9]+568446438&4294967295,C=k+(D<<5&4294967295|D>>>27),D=B+(k^U&(C^k))+N[14]+3275163606&4294967295,B=C+(D<<9&4294967295|D>>>23),D=U+(C^k&(B^C))+N[3]+4107603335&4294967295,U=B+(D<<14&4294967295|D>>>18),D=k+(B^C&(U^B))+N[8]+1163531501&4294967295,k=U+(D<<20&4294967295|D>>>12),D=C+(U^B&(k^U))+N[13]+2850285829&4294967295,C=k+(D<<5&4294967295|D>>>27),D=B+(k^U&(C^k))+N[2]+4243563512&4294967295,B=C+(D<<9&4294967295|D>>>23),D=U+(C^k&(B^C))+N[7]+1735328473&4294967295,U=B+(D<<14&4294967295|D>>>18),D=k+(B^C&(U^B))+N[12]+2368359562&4294967295,k=U+(D<<20&4294967295|D>>>12),D=C+(k^U^B)+N[5]+4294588738&4294967295,C=k+(D<<4&4294967295|D>>>28),D=B+(C^k^U)+N[8]+2272392833&4294967295,B=C+(D<<11&4294967295|D>>>21),D=U+(B^C^k)+N[11]+1839030562&4294967295,U=B+(D<<16&4294967295|D>>>16),D=k+(U^B^C)+N[14]+4259657740&4294967295,k=U+(D<<23&4294967295|D>>>9),D=C+(k^U^B)+N[1]+2763975236&4294967295,C=k+(D<<4&4294967295|D>>>28),D=B+(C^k^U)+N[4]+1272893353&4294967295,B=C+(D<<11&4294967295|D>>>21),D=U+(B^C^k)+N[7]+4139469664&4294967295,U=B+(D<<16&4294967295|D>>>16),D=k+(U^B^C)+N[10]+3200236656&4294967295,k=U+(D<<23&4294967295|D>>>9),D=C+(k^U^B)+N[13]+681279174&4294967295,C=k+(D<<4&4294967295|D>>>28),D=B+(C^k^U)+N[0]+3936430074&4294967295,B=C+(D<<11&4294967295|D>>>21),D=U+(B^C^k)+N[3]+3572445317&4294967295,U=B+(D<<16&4294967295|D>>>16),D=k+(U^B^C)+N[6]+76029189&4294967295,k=U+(D<<23&4294967295|D>>>9),D=C+(k^U^B)+N[9]+3654602809&4294967295,C=k+(D<<4&4294967295|D>>>28),D=B+(C^k^U)+N[12]+3873151461&4294967295,B=C+(D<<11&4294967295|D>>>21),D=U+(B^C^k)+N[15]+530742520&4294967295,U=B+(D<<16&4294967295|D>>>16),D=k+(U^B^C)+N[2]+3299628645&4294967295,k=U+(D<<23&4294967295|D>>>9),D=C+(U^(k|~B))+N[0]+4096336452&4294967295,C=k+(D<<6&4294967295|D>>>26),D=B+(k^(C|~U))+N[7]+1126891415&4294967295,B=C+(D<<10&4294967295|D>>>22),D=U+(C^(B|~k))+N[14]+2878612391&4294967295,U=B+(D<<15&4294967295|D>>>17),D=k+(B^(U|~C))+N[5]+4237533241&4294967295,k=U+(D<<21&4294967295|D>>>11),D=C+(U^(k|~B))+N[12]+1700485571&4294967295,C=k+(D<<6&4294967295|D>>>26),D=B+(k^(C|~U))+N[3]+2399980690&4294967295,B=C+(D<<10&4294967295|D>>>22),D=U+(C^(B|~k))+N[10]+4293915773&4294967295,U=B+(D<<15&4294967295|D>>>17),D=k+(B^(U|~C))+N[1]+2240044497&4294967295,k=U+(D<<21&4294967295|D>>>11),D=C+(U^(k|~B))+N[8]+1873313359&4294967295,C=k+(D<<6&4294967295|D>>>26),D=B+(k^(C|~U))+N[15]+4264355552&4294967295,B=C+(D<<10&4294967295|D>>>22),D=U+(C^(B|~k))+N[6]+2734768916&4294967295,U=B+(D<<15&4294967295|D>>>17),D=k+(B^(U|~C))+N[13]+1309151649&4294967295,k=U+(D<<21&4294967295|D>>>11),D=C+(U^(k|~B))+N[4]+4149444226&4294967295,C=k+(D<<6&4294967295|D>>>26),D=B+(k^(C|~U))+N[11]+3174756917&4294967295,B=C+(D<<10&4294967295|D>>>22),D=U+(C^(B|~k))+N[2]+718787259&4294967295,U=B+(D<<15&4294967295|D>>>17),D=k+(B^(U|~C))+N[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+U&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.u=function(R,C){C===void 0&&(C=R.length);for(var k=C-this.blockSize,N=this.B,U=this.h,B=0;B<C;){if(U==0)for(;B<=k;)i(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<C;)if(N[U++]=R.charCodeAt(B++),U==this.blockSize){i(this,N),U=0;break}}else for(;B<C;)if(N[U++]=R[B++],U==this.blockSize){i(this,N),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;var k=8*this.o;for(C=R.length-8;C<R.length;++C)R[C]=k&255,k/=256;for(this.u(R),R=Array(16),C=k=0;4>C;++C)for(var N=0;32>N;N+=8)R[k++]=this.g[C]>>>N&255;return R};function a(R,C){var k=c;return Object.prototype.hasOwnProperty.call(k,R)?k[R]:k[R]=C(R)}function l(R,C){this.h=C;for(var k=[],N=!0,U=R.length-1;0<=U;U--){var B=R[U]|0;N&&B==C||(k[U]=B,N=!1)}this.g=k}var c={};function f(R){return-128<=R&&128>R?a(R,function(C){return new l([C|0],0>C?-1:0)}):new l([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return y;if(0>R)return b(p(-R));for(var C=[],k=1,N=0;R>=k;N++)C[N]=R/k|0,k*=4294967296;return new l(C,0)}function m(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return b(m(R.substring(1),C));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(C,8)),N=y,U=0;U<R.length;U+=8){var B=Math.min(8,R.length-U),D=parseInt(R.substring(U,U+B),C);8>B?(B=p(Math.pow(C,B)),N=N.j(B).add(p(D))):(N=N.j(k),N=N.add(p(D)))}return N}var y=f(0),w=f(1),T=f(16777216);t=l.prototype,t.m=function(){if(A(this))return-b(this).m();for(var R=0,C=1,k=0;k<this.g.length;k++){var N=this.i(k);R+=(0<=N?N:4294967296+N)*C,C*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(A(this))return"-"+b(this).toString(R);for(var C=p(Math.pow(R,6)),k=this,N="";;){var U=ee(k,C).g;k=M(k,U.j(C));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(R);if(k=U,S(k))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function A(R){return R.h==-1}t.l=function(R){return R=M(this,R),A(R)?-1:S(R)?0:1};function b(R){for(var C=R.g.length,k=[],N=0;N<C;N++)k[N]=~R.g[N];return new l(k,~R.h).add(w)}t.abs=function(){return A(this)?b(this):this},t.add=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],N=0,U=0;U<=C;U++){var B=N+(this.i(U)&65535)+(R.i(U)&65535),D=(B>>>16)+(this.i(U)>>>16)+(R.i(U)>>>16);N=D>>>16,B&=65535,D&=65535,k[U]=D<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function M(R,C){return R.add(b(C))}t.j=function(R){if(S(this)||S(R))return y;if(A(this))return A(R)?b(this).j(b(R)):b(b(this).j(R));if(A(R))return b(this.j(b(R)));if(0>this.l(T)&&0>R.l(T))return p(this.m()*R.m());for(var C=this.g.length+R.g.length,k=[],N=0;N<2*C;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<R.g.length;U++){var B=this.i(N)>>>16,D=this.i(N)&65535,it=R.i(U)>>>16,Ct=R.i(U)&65535;k[2*N+2*U]+=D*Ct,x(k,2*N+2*U),k[2*N+2*U+1]+=B*Ct,x(k,2*N+2*U+1),k[2*N+2*U+1]+=D*it,x(k,2*N+2*U+1),k[2*N+2*U+2]+=B*it,x(k,2*N+2*U+2)}for(N=0;N<C;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=C;N<2*C;N++)k[N]=0;return new l(k,0)};function x(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function G(R,C){this.g=R,this.h=C}function ee(R,C){if(S(C))throw Error("division by zero");if(S(R))return new G(y,y);if(A(R))return C=ee(b(R),C),new G(b(C.g),b(C.h));if(A(C))return C=ee(R,b(C)),new G(b(C.g),C.h);if(30<R.g.length){if(A(R)||A(C))throw Error("slowDivide_ only works with positive integers.");for(var k=w,N=C;0>=N.l(R);)k=ue(k),N=ue(N);var U=fe(k,1),B=fe(N,1);for(N=fe(N,2),k=fe(k,2);!S(N);){var D=B.add(N);0>=D.l(R)&&(U=U.add(k),B=D),N=fe(N,1),k=fe(k,1)}return C=M(R,U.j(C)),new G(U,C)}for(U=y;0<=R.l(C);){for(k=Math.max(1,Math.floor(R.m()/C.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=p(k),D=B.j(C);A(D)||0<D.l(R);)k-=N,B=p(k),D=B.j(C);S(B)&&(B=w),U=U.add(B),R=M(R,D)}return new G(U,R)}t.A=function(R){return ee(this,R).h},t.and=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],N=0;N<C;N++)k[N]=this.i(N)&R.i(N);return new l(k,this.h&R.h)},t.or=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],N=0;N<C;N++)k[N]=this.i(N)|R.i(N);return new l(k,this.h|R.h)},t.xor=function(R){for(var C=Math.max(this.g.length,R.g.length),k=[],N=0;N<C;N++)k[N]=this.i(N)^R.i(N);return new l(k,this.h^R.h)};function ue(R){for(var C=R.g.length+1,k=[],N=0;N<C;N++)k[N]=R.i(N)<<1|R.i(N-1)>>>31;return new l(k,R.h)}function fe(R,C){var k=C>>5;C%=32;for(var N=R.g.length-k,U=[],B=0;B<N;B++)U[B]=0<C?R.i(B+k)>>>C|R.i(B+k+1)<<32-C:R.i(B+k);return new l(U,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,To=l}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZI,Xu,eS,Cf,_g,tS,nS,rS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var H=d[P];if(!(H in E))break e;E=E[H]}d=d[d.length-1],P=E[d],v=v(P),v!=P&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function a(d,v){d instanceof String&&(d+="");var E=0,P=!1,H={next:function(){if(!P&&E<d.length){var Y=E++;return{value:v(Y,d[Y]),done:!1}}return P=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(d){return d||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function y(d,v,E){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,P),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function T(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function S(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(P,H,Y){for(var he=Array(arguments.length-2),It=2;It<arguments.length;It++)he[It-2]=arguments[It];return v.prototype[H].apply(P,he)}}function A(d){const v=d.length;if(0<v){const E=Array(v);for(let P=0;P<v;P++)E[P]=d[P];return E}return[]}function b(d,v){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(f(P)){const H=d.length||0,Y=P.length||0;d.length=H+Y;for(let he=0;he<Y;he++)d[H+he]=P[he]}else d.push(P)}}class M{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function x(d){return/^[\s\xa0]*$/.test(d)}function G(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function ee(d){return ee[" "](d),d}ee[" "]=function(){};var ue=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function fe(d,v,E){for(const P in d)v.call(E,d[P],P,d)}function R(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function C(d){const v={};for(const E in d)v[E]=d[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,v){let E,P;for(let H=1;H<arguments.length;H++){P=arguments[H];for(E in P)d[E]=P[E];for(let Y=0;Y<k.length;Y++)E=k[Y],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function B(d){c.setTimeout(()=>{throw d},0)}function D(){var d=Ne;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class it{constructor(){this.h=this.g=null}add(v,E){const P=Ct.get();P.set(v,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Ct=new M(()=>new Qt,d=>d.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,se=!1,Ne=new it,ge=()=>{const d=c.Promise.resolve(void 0);mt=()=>{d.then($)}};var $=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){B(E)}var v=Ct;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}se=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var qe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,v),c.removeEventListener("test",E,v)}catch{}return d}();function Ue(d,v){if(Ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(ue){e:{try{ee(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ue.aa.h.call(this)}}S(Ue,Ce);var Ke={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),st=0;function At(d,v,E,P,H){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!P,this.ha=H,this.key=++st,this.da=this.fa=!1}function Xt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function qr(d){this.src=d,this.g={},this.h=0}qr.prototype.add=function(d,v,E,P,H){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var he=Un(d,v,P,H);return-1<he?(v=d[he],E||(v.fa=!1)):(v=new At(v,this.src,Y,!!P,H),v.fa=E,d.push(v)),v};function $t(d,v){var E=v.type;if(E in d.g){var P=d.g[E],H=Array.prototype.indexOf.call(P,v,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(P,H,1),Y&&(Xt(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function Un(d,v,E,P){for(var H=0;H<d.length;++H){var Y=d[H];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==P)return H}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),ks={};function fr(d,v,E,P,H){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)fr(d,v[Y],E,P,H);return null}return E=Qr(E),d&&d[Qe]?d.K(v,E,p(P)?!!P.capture:!1,H):Bo(d,v,E,!1,P,H)}function Bo(d,v,E,P,H,Y){if(!v)throw Error("Invalid event type");var he=p(H)?!!H.capture:!!H,It=Os(d);if(It||(d[_i]=It=new qr(d)),E=It.add(v,E,P,he,Y),E.proxy)return E;if(P=La(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)qe||(H=he),H===void 0&&(H=!1),d.addEventListener(v.toString(),P,H);else if(d.attachEvent)d.attachEvent(Kr(v.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function La(){function d(E){return v.call(d.src,d.listener,E)}const v=zo;return d}function Ji(d,v,E,P,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)Ji(d,v[Y],E,P,H);else P=p(P)?!!P.capture:!!P,E=Qr(E),d&&d[Qe]?(d=d.i,v=String(v).toString(),v in d.g&&(Y=d.g[v],E=Un(Y,E,P,H),-1<E&&(Xt(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[v],d.h--)))):d&&(d=Os(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Un(v,E,P,H)),(E=-1<d?v[d]:null)&&Gr(E))}function Gr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Qe])$t(v.i,d);else{var E=d.type,P=d.proxy;v.removeEventListener?v.removeEventListener(E,P,d.capture):v.detachEvent?v.detachEvent(Kr(E),P):v.addListener&&v.removeListener&&v.removeListener(P),(E=Os(v))?($t(E,d),E.h==0&&(E.src=null,v[_i]=null)):Xt(d)}}}function Kr(d){return d in ks?ks[d]:ks[d]="on"+d}function zo(d,v){if(d.da)d=!0;else{v=new Ue(v,this);var E=d.listener,P=d.ha||d.src;d.fa&&Gr(d),d=E.call(P,v)}return d}function Os(d){return d=d[_i],d instanceof qr?d:null}var Yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qr(d){return typeof d=="function"?d:(d[Yn]||(d[Yn]=function(v){return d.handleEvent(v)}),d[Yn])}function Ht(){Z.call(this),this.i=new qr(this),this.M=this,this.F=null}S(Ht,Z),Ht.prototype[Qe]=!0,Ht.prototype.removeEventListener=function(d,v,E,P){Ji(this,d,v,E,P)};function Ft(d,v){var E,P=d.F;if(P)for(E=[];P;P=P.F)E.push(P);if(d=d.M,P=v.type||v,typeof v=="string")v=new Ce(v,d);else if(v instanceof Ce)v.target=v.target||d;else{var H=v;v=new Ce(P,d),N(v,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var he=v.g=E[Y];H=hn(he,P,!0,v)&&H}if(he=v.g=d,H=hn(he,P,!0,v)&&H,H=hn(he,P,!1,v)&&H,E)for(Y=0;Y<E.length;Y++)he=v.g=E[Y],H=hn(he,P,!1,v)&&H}Ht.prototype.N=function(){if(Ht.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],P=0;P<E.length;P++)Xt(E[P]);delete d.g[v],d.h--}}this.F=null},Ht.prototype.K=function(d,v,E,P){return this.i.add(String(d),v,!1,E,P)},Ht.prototype.L=function(d,v,E,P){return this.i.add(String(d),v,!0,E,P)};function hn(d,v,E,P){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Y=0;Y<v.length;++Y){var he=v[Y];if(he&&!he.da&&he.capture==E){var It=he.listener,ln=he.ha||he.src;he.fa&&$t(d.i,he),H=It.call(ln,P)!==!1&&H}}return H&&!P.defaultPrevented}function jn(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:c.setTimeout(d,v||0)}function Yr(d){d.g=jn(()=>{d.g=null,d.i&&(d.i=!1,Yr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class kr extends Z{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Yr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(d){Z.call(this),this.h=d,this.g={}}S(Xi,Z);var Jn=[];function xs(d){fe(d.g,function(v,E){this.g.hasOwnProperty(E)&&Gr(v)},d),d.g={}}Xi.prototype.N=function(){Xi.aa.N.call(this),xs(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=c.JSON.stringify,Ds=c.JSON.parse,$o=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function wi(){}wi.prototype.h=null;function Jr(d){return d.h||(d.h=d.i())}function Zi(){}var bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){Ce.call(this,"d")}S(Xn,Ce);function Ls(){Ce.call(this,"c")}S(Ls,Ce);var hr={},Ho=null;function Ei(){return Ho=Ho||new Ht}hr.La="serverreachability";function Ti(d){Ce.call(this,hr.La,d)}S(Ti,Ce);function Zn(d){const v=Ei();Ft(v,new Ti(v))}hr.STAT_EVENT="statevent";function Wo(d,v){Ce.call(this,hr.STAT_EVENT,d),this.stat=v}S(Wo,Ce);function Ut(d){const v=Ei();Ft(v,new Wo(v,d))}hr.Ma="timingevent";function V(d,v){Ce.call(this,hr.Ma,d),this.size=v}S(V,Ce);function z(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},v)}function K(){this.g=!0}K.prototype.xa=function(){this.g=!1};function ne(d,v,E,P,H,Y){d.info(function(){if(d.g)if(Y)for(var he="",It=Y.split("&"),ln=0;ln<It.length;ln++){var ft=It[ln].split("=");if(1<ft.length){var pn=ft[0];ft=ft[1];var en=pn.split("_");he=2<=en.length&&en[1]=="type"?he+(pn+"="+ft+"&"):he+(pn+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+P+") [attempt "+H+"]: "+v+`
`+E+`
`+he})}function pe(d,v,E,P,H,Y,he){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+H+"]: "+v+`
`+E+`
`+Y+" "+he})}function Ie(d,v,E,P){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Se(d,E)+(P?" "+P:"")})}function Me(d,v){d.info(function(){return"TIMEOUT: "+v})}K.prototype.info=function(){};function Se(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var P=E[d];if(!(2>P.length)){var H=P[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<H.length;he++)H[he]=""}}}}return Ns(E)}catch{return v}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ve={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function je(){}S(je,wi),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},_e=new je;function We(d,v,E,P){this.j=d,this.i=v,this.l=E,this.R=P||1,this.U=new Xi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wt}function Wt(){this.i=null,this.g="",this.h=!1}var yt={},Ze={};function Tt(d,v,E){d.L=1,d.v=js(gr(v)),d.m=E,d.P=!0,Or(d,null)}function Or(d,v){d.F=Date.now(),nt(d),d.A=gr(d.v);var E=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),zs(E.i,"t",P),d.C=0,E=d.j.J,d.h=new Wt,d.g=dd(d.j,E?v:null,!d.m),0<d.O&&(d.M=new kr(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,P=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(Jn[0]=H.toString()),H=Jn);for(var Y=0;Y<H.length;Y++){var he=fr(E,H[Y],P||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Zn(),ne(d.i,d.u,d.A,d.l,d.R,d.m)}We.prototype.ca=function(d){d=d.target;const v=this.M;v&&tr(d)==3?v.j():this.Y(d)},We.prototype.Y=function(d){try{if(d==this.g)e:{const en=tr(this.g);var v=this.g.Ba();const Dr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||en!=4||v==7||(v==8||0>=Dr?Zn(3):Zn(2)),mr(this);var E=this.g.Z();this.X=E;t:if(Ii(this)){var P=fu(this.g);d="";var H=P.length,Y=tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),kn(this);var he="";break t}this.h.i=new c.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(P[v],{stream:!(Y&&v==H-1)});P.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=E==200,pe(this.i,this.u,this.A,this.l,this.R,en,E),this.o){if(this.T&&!this.K){t:{if(this.g){var It,ln=this.g;if((It=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(It)){var ft=It;break t}}ft=null}if(E=ft)Ie(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,E);else{this.o=!1,this.s=3,Ut(12),wn(this),kn(this);break e}}if(this.P){E=!0;let vr;for(;!this.J&&this.C<he.length;)if(vr=pr(this,he),vr==Ze){en==4&&(this.s=4,Ut(14),E=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}else if(vr==yt){this.s=4,Ut(15),Ie(this.i,this.l,he,"[Invalid Chunk]"),E=!1;break}else Ie(this.i,this.l,vr,null),Si(this,vr);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||he.length!=0||this.h.h||(this.s=1,Ut(16),E=!1),this.o=this.o&&E,!E)Ie(this.i,this.l,he,"[Invalid Chunked Response]"),wn(this),kn(this);else if(0<he.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),pu(pn),pn.M=!0,Ut(11))}}else Ie(this.i,this.l,he,null),Si(this,he);en==4&&wn(this),this.o&&!this.J&&(en==4?Ga(this.j,this):(this.o=!1,nt(this)))}else za(this.g),E==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),wn(this),kn(this)}}}catch{}finally{}};function Ii(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function pr(d,v){var E=d.C,P=v.indexOf(`
`,E);return P==-1?Ze:(E=Number(v.substring(E,P)),isNaN(E)?yt:(P+=1,P+E>v.length?Ze:(v=v.slice(P,P+E),d.C=P+E,v)))}We.prototype.cancel=function(){this.J=!0,wn(this)};function nt(d){d.S=Date.now()+d.I,Ms(d,d.I)}function Ms(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=z(w(d.ba,d),v)}function mr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}We.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Me(this.i,this.A),this.L!=2&&(Zn(),Ut(17)),wn(this),this.s=2,kn(this)):Ms(this,this.S-d)};function kn(d){d.j.G==0||d.J||Ga(d.j,d)}function wn(d){mr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,xs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Si(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||ot(E.h,d))){if(!d.K&&ot(E.h,d)&&E.G==3){try{var P=E.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&P.length==3){var H=P;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)qa(E),ni(E);else break e;Wa(E),Ut(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=z(w(E.Za,E),6e3));if(1>=Ri(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else is(E,11)}else if((d.K||E.g==d)&&qa(E),!x(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let ft=H[v];if(E.T=ft[0],ft=ft[1],E.G==2)if(ft[0]=="c"){E.K=ft[1],E.ia=ft[2];const pn=ft[3];pn!=null&&(E.la=pn,E.j.info("VER="+E.la));const en=ft[4];en!=null&&(E.Aa=en,E.j.info("SVER="+E.Aa));const Dr=ft[5];Dr!=null&&typeof Dr=="number"&&0<Dr&&(P=1.5*Dr,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const vr=d.g;if(vr){const Xo=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xo){var Y=P.h;Y.g||Xo.indexOf("spdy")==-1&&Xo.indexOf("quic")==-1&&Xo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xr(Y,Y.h),Y.h=null))}if(P.D){const Qa=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(P.ya=Qa,Pt(P.I,P.D,Qa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var he=d;if(P.qa=cd(P,P.J?P.ia:null,P.W),he.K){qo(P.h,he);var It=he,ln=P.L;ln&&(It.I=ln),It.B&&(mr(It),nt(It)),P.g=he}else Jo(P);0<E.i.length&&bi(E)}else ft[0]!="stop"&&ft[0]!="close"||is(E,7);else E.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?is(E,7):Tn(E):ft[0]!="noop"&&E.l&&E.l.ta(ft),E.v=0)}}Zn(4)}catch{}}var rt=class{constructor(d,v){this.g=d,this.map=v}};function wt(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ri(d){return d.h?1:d.g?d.g.size:0}function ot(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function xr(d,v){d.g?d.g.add(v):d.h=v}function qo(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}wt.prototype.cancel=function(){if(this.i=Ma(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ma(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return A(d.i)}function Va(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],E=d.length,P=0;P<E;P++)v.push(d[P]);return v}v=[],E=0;for(P in d)v[E++]=d[P];return v}function Fa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const P in d)v[E++]=P;return v}}}function Vs(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Fa(d),P=Va(d),H=P.length,Y=0;Y<H;Y++)v.call(void 0,P[Y],E&&E[Y],d)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qh(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var P=d[E].indexOf("="),H=null;if(0<=P){var Y=d[E].substring(0,P);H=d[E].substring(P+1)}else Y=d[E];v(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function es(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof es){this.h=d.h,Ko(this,d.j),this.o=d.o,this.g=d.g,Fs(this,d.s),this.l=d.l;var v=d.i,E=new Ai;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Us(this,E),this.m=d.m}else d&&(v=String(d).match(Go))?(this.h=!1,Ko(this,v[1]||"",!0),this.o=ct(v[2]||""),this.g=ct(v[3]||"",!0),Fs(this,v[4]),this.l=ct(v[5]||"",!0),Us(this,v[6]||"",!0),this.m=ct(v[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}es.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Bs(v,Ua,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Bs(v,Ua,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Bs(E,E.charAt(0)=="/"?nd:td,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Bs(E,uu)),d.join("")};function gr(d){return new es(d)}function Ko(d,v,E){d.j=E?ct(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Fs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Us(d,v,E){v instanceof Ai?(d.i=v,Pi(d.i,d.h)):(E||(v=Bs(v,rd)),d.i=new Ai(v,d.h))}function Pt(d,v,E){d.i.set(v,E)}function js(d){return Pt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ct(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Bs(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,ed),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ed(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ua=/[#\/\?@]/g,td=/[#\?:]/g,nd=/[#\?]/g,rd=/[#\?@]/g,uu=/#/g;function Ai(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function En(d){d.g||(d.g=new Map,d.h=0,d.i&&Qh(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Ai.prototype,t.add=function(d,v){En(this),this.i=null,d=Nr(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Xr(d,v){En(d),v=Nr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Zr(d,v){return En(d),v=Nr(d,v),d.g.has(v)}t.forEach=function(d,v){En(this),this.g.forEach(function(E,P){E.forEach(function(H){d.call(v,H,P,this)},this)},this)},t.na=function(){En(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let P=0;P<v.length;P++){const H=d[P];for(let Y=0;Y<H.length;Y++)E.push(v[P])}return E},t.V=function(d){En(this);let v=[];if(typeof d=="string")Zr(this,d)&&(v=v.concat(this.g.get(Nr(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return En(this),this.i=null,d=Nr(this,d),Zr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function zs(d,v,E){Xr(d,v),0<E.length&&(d.i=null,d.g.set(Nr(d,v),A(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var P=v[E];const Y=encodeURIComponent(String(P)),he=this.V(P);for(P=0;P<he.length;P++){var H=Y;he[P]!==""&&(H+="="+encodeURIComponent(String(he[P]))),d.push(H)}}return this.i=d.join("&")};function Nr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Pi(d,v){v&&!d.j&&(En(d),d.i=null,d.g.forEach(function(E,P){var H=P.toLowerCase();P!=H&&(Xr(this,P),zs(this,H,E))},d)),d.j=v}function Yh(d,v){const E=new K;if(c.Image){const P=new Image;P.onload=T(er,E,"TestLoadImage: loaded",!0,v,P),P.onerror=T(er,E,"TestLoadImage: error",!1,v,P),P.onabort=T(er,E,"TestLoadImage: abort",!1,v,P),P.ontimeout=T(er,E,"TestLoadImage: timeout",!1,v,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else v(!1)}function id(d,v){const E=new K,P=new AbortController,H=setTimeout(()=>{P.abort(),er(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:P.signal}).then(Y=>{clearTimeout(H),Y.ok?er(E,"TestPingServer: ok",!0,v):er(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),er(E,"TestPingServer: error",!1,v)})}function er(d,v,E,P,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),P(E)}catch{}}function Jh(){this.g=new $o}function sd(d,v,E){const P=E||"";try{Vs(d,function(H,Y){let he=H;p(H)&&(he=Ns(H)),v.push(P+Y+"="+encodeURIComponent(he))})}catch(H){throw v.push(P+"type="+encodeURIComponent("_badmap")),H}}function ts(d){this.l=d.Ub||null,this.j=d.eb||!1}S(ts,wi),ts.prototype.g=function(){return new Qo(this.l,this.j)},ts.prototype.i=function(d){return function(){return d}}({});function Qo(d,v){Ht.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Qo,Ht),t=Qo.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,ti(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||c).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;od(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function od(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ei(this):ti(this),this.readyState==3&&od(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,ei(this))},t.Qa=function(d){this.g&&(this.response=d,ei(this))},t.ga=function(){this.g&&ei(this)};function ei(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ti(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function ti(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ns(d){let v="";return fe(d,function(E,P){v+=P,v+=":",v+=E,v+=`\r
`}),v}function $s(d,v,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=ns(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Pt(d,v,E))}function Nt(d){Ht.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Nt,Ht);var Xh=/^https?$/i,cu=["POST","PUT"];t=Nt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?Jr(this.o):Jr(_e),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){Yo(this,Y);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var H in P)E.set(H,P[H]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Y of P.keys())E.set(Y,P.get(Y));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cu,v,void 0))||P||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of E)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Yo(this,Y)}};function Yo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,ja(d),yr(d)}function ja(d){d.A||(d.A=!0,Ft(d,"complete"),Ft(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ft(this,"complete"),Ft(this,"abort"),yr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},t.bb=function(){du(this)};function du(d){if(d.h&&typeof l<"u"&&(!d.v[1]||tr(d)!=4||d.Z()!=2)){if(d.u&&tr(d)==4)jn(d.Ea,0,d);else if(Ft(d,"readystatechange"),tr(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var P;if(P=he===0){var H=String(d.D).match(Go)[1]||null;!H&&c.self&&c.self.location&&(H=c.self.location.protocol.slice(0,-1)),P=!Xh.test(H?H.toLowerCase():"")}E=P}if(E)Ft(d,"complete"),Ft(d,"success");else{d.m=6;try{var Y=2<tr(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",ja(d)}}finally{yr(d)}}}}function yr(d,v){if(d.g){Ba(d);const E=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ft(d,"ready");try{E.onreadystatechange=P}catch{}}}function Ba(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function tr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ds(v)}};function fu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function za(d){const v={};d=(d.g&&2<=tr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(x(d[P]))continue;var E=U(d[P]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[H]||[];v[H]=Y,Y.push(E)}R(v,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function hu(d){this.Aa=0,this.i=[],this.j=new K,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,d),this.cb=Ci("retryDelaySeedMs",1e4,d),this.Wa=Ci("forwardChannelMaxRetries",2,d),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new wt(d&&d.concurrentRequestLimit),this.Da=new Jh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hu.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,P){Ut(0),this.W=d,this.H=v||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=cd(this,null,this.W),bi(this)};function Tn(d){if($a(d),d.G==3){var v=d.U++,E=gr(d.I);if(Pt(E,"SID",d.K),Pt(E,"RID",v),Pt(E,"TYPE","terminate"),rs(d,E),v=new We(d,d.j,v),v.L=2,v.v=js(gr(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=v.v,E=!0),E||(v.g=dd(v.j,null),v.g.ea(v.v)),v.F=Date.now(),nt(v)}ud(d)}function ni(d){d.g&&(pu(d),d.g.cancel(),d.g=null)}function $a(d){ni(d),d.u&&(c.clearTimeout(d.u),d.u=null),qa(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function bi(d){if(!Zt(d.h)&&!d.s){d.s=!0;var v=d.Ga;mt||ge(),se||(mt(),se=!0),Ne.add(v,d),d.B=0}}function Zh(d,v){return Ri(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=z(w(d.Ga,d,v),ld(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new We(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=C(Y),N(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(v+=P,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Hs(this,H,v),E=gr(this.I),Pt(E,"RID",d),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),rs(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(ns(Y)))+"&"+v:this.m&&$s(E,this.m,Y)),xr(this.h,H),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",v),Pt(E,"SID","null"),H.T=!0,Tt(H,E,null)):Tt(H,E,v),this.G=2}}else this.G==3&&(d?Ha(this,d):this.i.length==0||Zt(this.h)||Ha(this))};function Ha(d,v){var E;v?E=v.l:E=d.U++;const P=gr(d.I);Pt(P,"SID",d.K),Pt(P,"RID",E),Pt(P,"AID",d.T),rs(d,P),d.m&&d.o&&$s(P,d.m,d.o),E=new We(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Hs(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),xr(d.h,E),Tt(E,P,v)}function rs(d,v){d.H&&fe(d.H,function(E,P){Pt(v,P,E)}),d.l&&Vs({},function(E,P){Pt(v,P,E)})}function Hs(d,v,E){E=Math.min(d.i.length,E);var P=d.l?w(d.l.Na,d.l,d):null;e:{var H=d.i;let Y=-1;for(;;){const he=["count="+E];Y==-1?0<E?(Y=H[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let It=!0;for(let ln=0;ln<E;ln++){let ft=H[ln].g;const pn=H[ln].map;if(ft-=Y,0>ft)Y=Math.max(0,H[ln].g-100),It=!1;else try{sd(pn,he,"req"+ft+"_")}catch{P&&P(pn)}}if(It){P=he.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,P}function Jo(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;mt||ge(),se||(mt(),se=!0),Ne.add(v,d),d.v=0}}function Wa(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=z(w(d.Fa,d),ld(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ad(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=z(w(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),ni(this),ad(this))};function pu(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function ad(d){d.g=new We(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=gr(d.qa);Pt(v,"RID","rpc"),Pt(v,"SID",d.K),Pt(v,"AID",d.T),Pt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Pt(v,"TO",d.ja),Pt(v,"TYPE","xmlhttp"),rs(d,v),d.m&&d.o&&$s(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=js(gr(v)),E.m=null,E.P=!0,Or(E,d)}t.Za=function(){this.C!=null&&(this.C=null,ni(this),Wa(this),Ut(19))};function qa(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Ga(d,v){var E=null;if(d.g==v){qa(d),pu(d),d.g=null;var P=2}else if(ot(d.h,v))E=v.D,qo(d.h,v),P=1;else return;if(d.G!=0){if(v.o)if(P==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;P=Ei(),Ft(P,new V(P,E)),bi(d)}else Jo(d);else if(H=v.s,H==3||H==0&&0<v.X||!(P==1&&Zh(d,v)||P==2&&Wa(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),H){case 1:is(d,5);break;case 4:is(d,10);break;case 3:is(d,6);break;default:is(d,2)}}}function ld(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function is(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),P=d.Xa;const H=!P;P=new es(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ko(P,"https"),js(P),H?Yh(P.toString(),E):id(P.toString(),E)}else Ut(2);d.G=0,d.l&&d.l.sa(v),ud(d),$a(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function ud(d){if(d.G=0,d.ka=[],d.l){const v=Ma(d.h);(v.length!=0||d.i.length!=0)&&(b(d.ka,v),b(d.ka,d.i),d.h.i.length=0,A(d.i),d.i.length=0),d.l.ra()}}function cd(d,v,E){var P=E instanceof es?gr(E):new es(E);if(P.g!="")v&&(P.g=v+"."+P.g),Fs(P,P.s);else{var H=c.location;P=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Y=new es(null);P&&Ko(Y,P),v&&(Y.g=v),H&&Fs(Y,H),E&&(Y.l=E),P=Y}return E=d.D,v=d.ya,E&&v&&Pt(P,E,v),Pt(P,"VER",d.la),rs(d,P),P}function dd(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Nt(new ts({eb:E})):new Nt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}t=mu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ka(){}Ka.prototype.g=function(d,v){return new Bn(d,v)};function Bn(d,v){Ht.call(this),this.g=new hu(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!x(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!x(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ki(this)}S(Bn,Ht),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){Tn(this.g)},Bn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Ns(d),d=E);v.i.push(new rt(v.Ya++,d)),v.G==3&&bi(v)},Bn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,Bn.aa.N.call(this)};function fd(d){Xn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(fd,Xn);function hd(){Ls.call(this),this.status=1}S(hd,Ls);function ki(d){this.g=d}S(ki,mu),ki.prototype.ua=function(){Ft(this.g,"a")},ki.prototype.ta=function(d){Ft(this.g,new fd(d))},ki.prototype.sa=function(d){Ft(this.g,new hd)},ki.prototype.ra=function(){Ft(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,rS=function(){return new Ka},nS=function(){return Ei()},tS=hr,_g={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Cf=Te,ve.COMPLETE="complete",eS=ve,Zi.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",Ht.prototype.listen=Ht.prototype.K,Xu=Zi,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,ZI=Nt}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore",F0="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Jg("@firebase/firestore");function _l(){return Ia.logLevel}function we(t,...e){if(Ia.logLevel<=at.DEBUG){const n=e.map(ay);Ia.debug(`Firestore (${Xl}): ${t}`,...n)}}function As(t,...e){if(Ia.logLevel<=at.ERROR){const n=e.map(ay);Ia.error(`Firestore (${Xl}): ${t}`,...n)}}function Po(t,...e){if(Ia.logLevel<=at.WARN){const n=e.map(ay);Ia.warn(`Firestore (${Xl}): ${t}`,...n)}}function ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iS(t,r,n)}function iS(t,e,n){let r=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw As(r),new Error(r)}function dt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||iS(e,i,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class HN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new sS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class qN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=QN(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function wg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Je(r,i);{const a=oS(),l=YN(a.encode(j0(t,n)),a.encode(j0(e,n)));return l!==0?l:Je(r,i)}}n+=r>65535?2:1}return Je(t.length,e.length)}function j0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function YN(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Je(t[n],e[n]);return Je(t.length,e.length)}function Dl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Li.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Je(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),i=Li.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Li.extractNumericId(e).compare(Li.extractNumericId(n)):wg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class Rt extends Li{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Rt(n)}static emptyPath(){return new Rt([])}}const JN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Li{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return JN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new Pn([B0])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(Rt.fromString(e))}static fromName(e){return new De(Rt.fromString(e).popFirst(5))}static empty(){return new De(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XN(t,e,n,r){if(e===!0&&r===!0)throw new le(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z0(t){if(!De.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $0(t){if(De.isDocumentKey(t))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(t);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ZN(t,e){if(e<=0)throw new le(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t,e){const n={typeString:t};return e&&(n.value=e),n}function Mc(t,e){if(!lS(t))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-62135596800,W0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W0);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:an("string",Xe._jsonSchemaVersion),seconds:an("number"),nanoseconds:an("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Xe(0,0))}static max(){return new Be(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=-1;function eD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Be.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Co(i,De.empty(),e)}function tD(t){return new Co(t.readTime,t.key,mc)}class Co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Co(Be.min(),De.empty(),mc)}static max(){return new Co(Be.max(),De.empty(),mc)}}function nD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==rD)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&n()},f=>r(f))}),l=!0,a===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(m=>{l[p]=m,++c,c===a&&r(l)},m=>i(m))}})}static doWhile(e,n){return new te((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function sD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Rh.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy=-1;function Vc(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function oD(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="";function aD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q0(e)),e=lD(t.get(n),e);return q0(e)}function lD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case uS:n+="";break;default:n+=a}}return n}function q0(t){return t+uS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uD(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function cS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=a??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new An(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K0(this.data.getIterator())}getIteratorFrom(e){return new K0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new fn(this.comparator);return n.data=e,n}}class K0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new fn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new dS("Invalid base64 string: "+a):a}}(e);return new Cn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=cD.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?Cn.fromBase64String(t):Cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="server_timestamp",hS="__type__",pS="__previous_value__",mS="__local_write_time__";function Ah(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[hS])===null||n===void 0?void 0:n.stringValue)===fS}function Ph(t){const e=t.mapValue.fields[pS];return Ah(e)?Ph(e):e}function gc(t){const e=bo(t.mapValue.fields[mS].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,r,i,a,l,c,f,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=m}}const Yf="(default)";class yc{constructor(e,n){this.projectId=e,this.database=n||Yf}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__type__",fD="__max__",pf={mapValue:{}},yS="__vector__",Jf="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ah(t)?4:pD(t)?9007199254740991:hD(t)?10:11:Le(28295,{value:t})}function qi(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bo(i.timestampValue),c=bo(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ko(i.bytesValue).isEqual(ko(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Jt(i.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Jt(i.integerValue)===Jt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Jt(i.doubleValue),c=Jt(a.doubleValue);return l===c?Qf(l)===Qf(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Dl(t.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(G0(l)!==G0(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!qi(l[f],c[f])))return!1;return!0}(t,e);default:return Le(52216,{left:t})}}function vc(t,e){return(t.values||[]).find(n=>qi(n,e))!==void 0}function Ll(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Jt(a.integerValue||a.doubleValue),f=Jt(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return Q0(t.timestampValue,e.timestampValue);case 4:return Q0(gc(t),gc(e));case 5:return wg(t.stringValue,e.stringValue);case 6:return function(a,l){const c=ko(a),f=ko(l);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const m=Je(c[p],f[p]);if(m!==0)return m}return Je(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Je(Jt(a.latitude),Jt(l.latitude));return c!==0?c:Je(Jt(a.longitude),Jt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y0(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,p,m;const y=a.fields||{},w=l.fields||{},T=(c=y[Jf])===null||c===void 0?void 0:c.arrayValue,S=(f=w[Jf])===null||f===void 0?void 0:f.arrayValue,A=Je(((p=T?.values)===null||p===void 0?void 0:p.length)||0,((m=S?.values)===null||m===void 0?void 0:m.length)||0);return A!==0?A:Y0(T,S)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===pf.mapValue&&l===pf.mapValue)return 0;if(a===pf.mapValue)return 1;if(l===pf.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},m=Object.keys(p);f.sort(),m.sort();for(let y=0;y<f.length&&y<m.length;++y){const w=wg(f[y],m[y]);if(w!==0)return w;const T=Ll(c[f[y]],p[m[y]]);if(T!==0)return T}return Je(f.length,m.length)}(t.mapValue,e.mapValue);default:throw Le(23264,{le:n})}}function Q0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=bo(t),r=bo(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function Y0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ll(n[i],r[i]);if(a)return a}return Je(n.length,r.length)}function Ml(t){return Eg(t)}function Eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ko(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return De.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Eg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Eg(n.fields[l])}`;return i+"}"}(t.mapValue):Le(61005,{value:t})}function bf(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(t);return e?16+bf(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+bf(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Vo(r.fields,(a,l)=>{i+=a.length+bf(l)}),i}(t.mapValue);default:throw Le(13486,{value:t})}}function Xf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tg(t){return!!t&&"integerValue"in t}function cy(t){return!!t&&"arrayValue"in t}function J0(t){return!!t&&"nullValue"in t}function X0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kf(t){return!!t&&"mapValue"in t}function hD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gS])===null||n===void 0?void 0:n.stringValue)===yS}function sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)}setAll(e){let n=Pn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=sc(l):i.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new qn(sc(this.value))}}function vS(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new Pn([n]);if(kf(r)){const a=vS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new _n(e,0,Be.min(),Be.min(),Be.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new _n(e,1,n,Be.min(),r,i,0)}static newNoDocument(e,n){return new _n(e,2,n,Be.min(),Be.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Be.min(),Be.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.position=e,this.inclusive=n}}function Z0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=De.comparator(De.fromName(l.referenceValue),n.key):r=Ll(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function eE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function mD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class sn extends _S{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new ED(e,r):n==="not-in"?new TD(e,r):n==="array-contains-any"?new ID(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vD(e,r):new _D(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ll(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new pi(e,n)}matches(e){return wS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function wS(t){return t.op==="and"}function ES(t){return gD(t)&&wS(t)}function gD(t){for(const e of t.filters)if(e instanceof pi)return!1;return!0}function Ig(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Ml(t.value);if(ES(t))return t.filters.map(e=>Ig(e)).join(",");{const e=t.filters.map(n=>Ig(n)).join(",");return`${t.op}(${e})`}}function TS(t,e){return t instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.field.isEqual(i.field)&&qi(r.value,i.value)}(t,e):t instanceof pi?function(r,i){return i instanceof pi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&TS(l,i.filters[c]),!0):!1}(t,e):void Le(19439)}function IS(t){return t instanceof sn?function(n){return`${n.field.canonicalString()} ${n.op} ${Ml(n.value)}`}(t):t instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(IS).join(" ,")+"}"}(t):"Filter"}class yD extends sn{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class vD extends sn{constructor(e,n){super(e,"in",n),this.keys=SS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _D extends sn{constructor(e,n){super(e,"not-in",n),this.keys=SS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class wD extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cy(n)&&vc(n.arrayValue,this.value)}}class ED extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class TD extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class ID extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Pe=null}}function tE(t,e=null,n=[],r=[],i=null,a=null,l=null){return new SD(t,e,n,r,i,a,l)}function dy(t){const e=ze(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Vc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ml(r)).join(",")),e.Pe=n}return e.Pe}function fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eE(t.startAt,e.startAt)&&eE(t.endAt,e.endAt)}function Sg(t){return De.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function RD(t,e,n,r,i,a,l,c){return new ka(t,e,n,r,i,a,l,c)}function Ch(t){return new ka(t)}function nE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hy(t){return t.collectionGroup!==null}function kl(t){const e=ze(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new fn(Pn.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new _c(a,r))}),n.has(Pn.keyField().canonicalString())||e.Te.push(new _c(Pn.keyField(),r))}return e.Te}function $i(t){const e=ze(t);return e.Ie||(e.Ie=RS(e,kl(t))),e.Ie}function AD(t){const e=ze(t);return e.de||(e.de=RS(e,t.explicitOrderBy)),e.de}function RS(t,e){if(t.limitType==="F")return tE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new _c(i.field,a)});const n=t.endAt?new Vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vl(t.startAt.position,t.startAt.inclusive):null;return tE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rg(t,e){const n=t.filters.concat([e]);return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,n){return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bh(t,e){return fy($i(t),$i(e))&&t.limitType===e.limitType}function AS(t){return`${dy($i(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IS(i)).join(", ")}]`),Vc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ml(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ml(i)).join(",")),`Target(${r})`}($i(t))}; limitType=${t.limitType})`}function kh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):De.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of kl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const p=Z0(l,c,f);return l.inclusive?p<=0:p<0}(r.startAt,kl(r),i)||r.endAt&&!function(l,c,f){const p=Z0(l,c,f);return l.inclusive?p>=0:p>0}(r.endAt,kl(r),i))}(t,e)}function PD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PS(t){return(e,n)=>{let r=!1;for(const i of kl(t)){const a=CD(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function CD(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?Ll(f,p):Le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new zt(De.comparator);function Ps(){return bD}const CS=new zt(De.comparator);function Zu(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function bS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ga(){return oc()}function kS(){return oc()}function oc(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const kD=new zt(De.comparator),OD=new fn(De.comparator);function lt(...t){let e=OD;for(const n of t)e=e.add(n);return e}const xD=new fn(Je);function ND(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function OS(t){return{integerValue:""+t}}function xS(t,e){return oD(e)?OS(e):py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function DD(t,e,n){return t instanceof wc?function(i,a){const l={fields:{[hS]:{stringValue:fS},[mS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ah(a)&&(a=Ph(a)),a&&(l.fields[pS]=a),{mapValue:l}}(n,e):t instanceof Fl?DS(t,e):t instanceof Ec?LS(t,e):function(i,a){const l=NS(i,a),c=rE(l)+rE(i.Ee);return Tg(l)&&Tg(i.Ee)?OS(c):py(i.serializer,c)}(t,e)}function LD(t,e,n){return t instanceof Fl?DS(t,e):t instanceof Ec?LS(t,e):n}function NS(t,e){return t instanceof Tc?function(r){return Tg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class wc extends Oh{}class Fl extends Oh{constructor(e){super(),this.elements=e}}function DS(t,e){const n=MS(e);for(const r of t.elements)n.some(i=>qi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ec extends Oh{constructor(e){super(),this.elements=e}}function LS(t,e){let n=MS(e);for(const r of t.elements)n=n.filter(i=>!qi(i,r));return{arrayValue:{values:n}}}class Tc extends Oh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function rE(t){return Jt(t.integerValue||t.doubleValue)}function MS(t){return cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.field=e,this.transform=n}}function MD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fl&&i instanceof Fl||r instanceof Ec&&i instanceof Ec?Dl(r.elements,i.elements,qi):r instanceof Tc&&i instanceof Tc?qi(r.Ee,i.Ee):r instanceof wc&&i instanceof wc}(t.transform,e.transform)}class VD{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xh{}function VS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uc(t.key,on.none()):new Fc(t.key,t.data,on.none());{const n=t.data,r=qn.empty();let i=new fn(Pn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Fo(t.key,r,new Rr(i.toArray()),on.none())}}function FD(t,e,n){t instanceof Fc?function(i,a,l){const c=i.value.clone(),f=sE(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,a,l){if(!Of(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=sE(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(FS(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function ac(t,e,n,r){return t instanceof Fc?function(a,l,c,f){if(!Of(a.precondition,l))return c;const p=a.value.clone(),m=oE(a.fieldTransforms,f,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(a,l,c,f){if(!Of(a.precondition,l))return c;const p=oE(a.fieldTransforms,f,l),m=l.data;return m.setAll(FS(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,c){return Of(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function UD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=NS(r.transform,i||null);a!=null&&(n===null&&(n=qn.empty()),n.set(r.field,a))}return n||null}function iE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dl(r,i,(a,l)=>MD(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fc extends xh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends xh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sE(t,e,n){const r=new Map;dt(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,LD(l,c,n[i]))}return r}function oE(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,DD(a,l,e))}return r}class Uc extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class US extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&FD(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kS();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const f=VS(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Be.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lt())}isEqual(e){return this.batchId===e.batchId&&Dl(this.mutations,e.mutations,(n,r)=>iE(n,r))&&Dl(this.baseMutations,e.baseMutations,(n,r)=>iE(n,r))}}class gy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return kD}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new gy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,ht;function jS(t){switch(t){case J.OK:return Le(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function BS(t){if(t===void 0)return As("GRPC error has no .code"),J.UNKNOWN;switch(t){case nn.OK:return J.OK;case nn.CANCELLED:return J.CANCELLED;case nn.UNKNOWN:return J.UNKNOWN;case nn.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case nn.INTERNAL:return J.INTERNAL;case nn.UNAVAILABLE:return J.UNAVAILABLE;case nn.UNAUTHENTICATED:return J.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case nn.NOT_FOUND:return J.NOT_FOUND;case nn.ALREADY_EXISTS:return J.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return J.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case nn.ABORTED:return J.ABORTED;case nn.OUT_OF_RANGE:return J.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return J.UNIMPLEMENTED;case nn.DATA_LOSS:return J.DATA_LOSS;default:return Le(39323,{code:t})}}(ht=nn||(nn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new To([4294967295,4294967295],0);function aE(t){const e=oS().encode(t),n=new XI;return n.update(e),new Uint8Array(n.digest())}function lE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new To([n,r],0),new To([i,a],0)]}class yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=To.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(HD)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=aE(e),[r,i]=lE(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new yy(a,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=aE(e),[r,i]=lE(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,i,a);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nh(Be.min(),i,new zt(Je),Ps(),lt())}}class jc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jc(r,n,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class zS{constructor(e,n){this.targetId=e,this.De=n}}class $S{constructor(e,n,r=Cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uE{constructor(){this.ve=0,this.Ce=cE(),this.Fe=Cn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=lt(),n=lt(),r=lt();return this.Ce.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:a})}}),new jc(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=cE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class WD{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ps(),this.je=mf(),this.Je=mf(),this.He=new zt(Je)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const a=i.target;if(Sg(a))if(r===0){const l=new De(a.path);this.Xe(n,l,_n.newNoDocument(l,Be.min()))}else dt(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),f=c?this.ut(c,e,l):1;if(f!==0){this.rt(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=ko(r).toUint8Array()}catch(f){if(f instanceof dS)return Po("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new yy(l,i,a)}catch(f){return Po(f instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,a,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((a,l)=>{const c=this.st(l);if(c){if(a.current&&Sg(c.target)){const f=new De(c.target.path);this.Tt(f).has(l)||this.It(l,f)||this.Xe(l,f,_n.newNoDocument(f,e))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let r=lt();this.Je.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const p=this.st(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(e));const i=new Nh(e,n,this.He,this.ze,r);return this.ze=Ps(),this.je=mf(),this.Je=mf(),this.He=new zt(Je),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new uE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new fn(Je),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new fn(Je),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new uE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function mf(){return new zt(De.comparator)}function cE(){return new zt(De.comparator)}const qD={asc:"ASCENDING",desc:"DESCENDING"},GD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KD={and:"AND",or:"OR"};class QD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ag(t,e){return t.useProto3Json||Vc(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YD(t,e){return eh(t,e.toTimestamp())}function Cr(t){return dt(!!t,49232),Be.fromTimestamp(function(n){const r=bo(n);return new Xe(r.seconds,r.nanos)}(t))}function vy(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=function(i){return new Rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WS(t){const e=Rt.fromString(t);return dt(XS(e),10190,{key:e.toString()}),e}function th(t,e){return vy(t.databaseId,e.path)}function lc(t,e){const n=WS(e);if(n.get(1)!==t.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(GS(n))}function qS(t,e){return vy(t.databaseId,e)}function JD(t){const e=WS(t);return e.length===4?Rt.emptyPath():GS(e)}function Cg(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GS(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dE(t,e,n){return{name:th(t,e),fields:n.value.mapValue.fields}}function XD(t,e){return"found"in e?function(r,i){dt(!!i.found,43571),i.found.name,i.found.updateTime;const a=lc(r,i.found.name),l=Cr(i.found.updateTime),c=i.found.createTime?Cr(i.found.createTime):Be.min(),f=new qn({mapValue:{fields:i.found.fields}});return _n.newFoundDocument(a,l,c,f)}(t,e):"missing"in e?function(r,i){dt(!!i.missing,3894),dt(!!i.readTime,22933);const a=lc(r,i.missing),l=Cr(i.readTime);return _n.newNoDocument(a,l)}(t,e):Le(7234,{result:e})}function ZD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Le(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(dt(m===void 0||typeof m=="string",58123),Cn.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Cn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?J.UNKNOWN:BS(p.code);return new le(m,p.message||"")}(l);n=new $S(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lc(t,r.document.name),a=Cr(r.document.updateTime),l=r.document.createTime?Cr(r.document.createTime):Be.min(),c=new qn({mapValue:{fields:r.document.fields}}),f=_n.newFoundDocument(i,a,l,c),p=r.targetIds||[],m=r.removedTargetIds||[];n=new xf(p,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lc(t,r.document),a=r.readTime?Cr(r.readTime):Be.min(),l=_n.newNoDocument(i,a),c=r.removedTargetIds||[];n=new xf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lc(t,r.document),a=r.removedTargetIds||[];n=new xf([],a,i,null)}else{if(!("filter"in e))return Le(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new $D(i,a),c=r.targetId;n=new zS(c,l)}}return n}function KS(t,e){let n;if(e instanceof Fc)n={update:dE(t,e.key,e.value)};else if(e instanceof Uc)n={delete:th(t,e.key)};else if(e instanceof Fo)n={update:dE(t,e.key,e.data),updateMask:lL(e.fieldMask)};else{if(!(e instanceof US))return Le(16599,{Rt:e.type});n={verify:th(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof wc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ec)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Tc)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Le(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:YD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Le(27497)}(t,e.precondition)),n}function eL(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map(n=>function(i,a){let l=i.updateTime?Cr(i.updateTime):Cr(a);return l.isEqual(Be.min())&&(l=Cr(a)),new VD(l,i.transformResults||[])}(n,e))):[]}function tL(t,e){return{documents:[qS(t,e.path)]}}function QS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qS(t,i);const a=function(p){if(p.length!==0)return JS(pi.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:ho(w.field),direction:sL(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Ag(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:n,parent:i}}function nL(t,e,n,r){const{Vt:i,parent:a}=QS(t,e),l={},c=[];let f=0;return n.forEach(p=>{const m="aggregate_"+f++;l[m]=p.alias,p.aggregateType==="count"?c.push({alias:m,count:{}}):p.aggregateType==="avg"?c.push({alias:m,avg:{field:ho(p.fieldPath)}}):p.aggregateType==="sum"&&c.push({alias:m,sum:{field:ho(p.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},ft:l,parent:a}}function rL(t){let e=JD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const w=YS(y);return w instanceof pi&&ES(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(S){return new _c(El(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,Vc(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(y){const w=!!y.before,T=y.values||[];return new Vl(T,w)}(n.startAt));let p=null;return n.endAt&&(p=function(y){const w=!y.before,T=y.values||[];return new Vl(T,w)}(n.endAt)),RD(e,i,l,a,c,"F",f,p)}function iL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=El(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=El(n.unaryFilter.field);return sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=El(n.unaryFilter.field);return sn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=El(n.unaryFilter.field);return sn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}}(t):t.fieldFilter!==void 0?function(n){return sn.create(El(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(r=>YS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}}(n.compositeFilter.op))}(t):Le(30097,{filter:t})}function sL(t){return qD[t]}function oL(t){return GD[t]}function aL(t){return KD[t]}function ho(t){return{fieldPath:t.canonicalString()}}function El(t){return Pn.fromServerFormat(t.fieldPath)}function JS(t){return t instanceof sn?function(n){if(n.op==="=="){if(X0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:oL(n.op),value:n.value}}}(t):t instanceof pi?function(n){const r=n.getFilters().map(i=>JS(i));return r.length===1?r[0]:{compositeFilter:{op:aL(n.op),filters:r}}}(t):Le(54877,{filter:t})}function lL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r,i,a=Be.min(),l=Be.min(),c=Cn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.gt=e}}function cL(t){const e=rL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.Dn=new fL}addToCollectionParentIndex(e,n){return this.Dn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Co.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class fL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new fn(Rt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZS=41943040;class ur{static withCacheSize(e){return new ur(e,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(ZS,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ul(0)}static ur(){return new Ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LruGarbageCollector",hL=1048576;function pE([t,e],[n,r]){const i=Je(t,n);return i===0?Je(e,r):i}class pL{constructor(e){this.Tr=e,this.buffer=new fn(pE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){we(hE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eu(n)?we(hE,"Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.Rr(3e5)})}}class gL{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Rh.ue);const r=new pL(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(fE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,a,l,c,f,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(p=Date.now(),_l()<=at.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${y} documents in `+(p-f)+`ms
Total Duration: ${p-m}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:y})))}}function yL(t,e){return new gL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ac(r.mutation,i,Rr.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=lt()){const i=ga();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Zu();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ga();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let a=Ps();const l=oc(),c=function(){return oc()}();return n.forEach((f,p)=>{const m=r.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Fo)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),ac(m.mutation,p,m.mutation.getFieldMask(),Xe.now())):l.set(p.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,m)=>l.set(p,m)),n.forEach((p,m)=>{var y;return c.set(p,new _L(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=oc();let i=new zt((l,c)=>l-c),a=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let m=r.get(f)||Rr.empty();m=c.applyToLocalView(p,m),r.set(f,m);const y=(i.get(c.batchId)||lt()).add(f);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,m=f.value,y=kS();m.forEach(w=>{if(!a.has(w)){const T=VS(n.get(w),r.get(w));T!==null&&y.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return te.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return De.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):te.resolve(ga());let c=mc,f=a;return l.next(p=>te.forEach(p,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?te.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{f=f.insert(m,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,lt())).next(m=>({batchId:c,changes:bS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let i=Zu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Zu();return this.indexManager.getCollectionParents(e,a).next(c=>te.forEach(c,f=>{const p=function(y,w){return new ka(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(l=>{a.forEach((f,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,_n.newInvalidDocument(m)))});let c=Zu();return l.forEach((f,p)=>{const m=a.get(f);m!==void 0&&ac(m.mutation,p,Rr.empty(),Xe.now()),kh(n,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return te.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:cL(i.bundledQuery),readTime:Cr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.overlays=new zt(De.comparator),this.kr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ga();return te.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.wt(e,n,a)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=ga(),a=n.length+1,l=new De(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new zt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let m=a.get(p.largestBatchId);m===null&&(m=ga(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=ga(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=i)););return te.resolve(c)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new BD(n,r));let a=this.kr.get(n);a===void 0&&(a=lt(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.qr=new fn(vn.Qr),this.$r=new fn(vn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new vn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new De(new Rt([])),r=new vn(n,e),i=new vn(n,e+1),a=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new De(new Rt([])),r=new vn(n,e),i=new vn(n,e+1);let a=lt();return this.$r.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new vn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return De.comparator(e.key,n.key)||Je(e.Hr,n.Hr)}static Ur(e,n){return Je(e.Hr,n.Hr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new fn(vn.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new jD(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new vn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return te.resolve(l)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?uy:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);a.push(c)}),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new fn(Je);return n.forEach(i=>{const a=new vn(i,0),l=new vn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],c=>{r=r.add(c.Hr)})}),te.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;De.isDocumentKey(a)||(a=a.child(""));const l=new vn(new De(a),0);let c=new fn(Je);return this.Yr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(c=c.add(f.Hr)),!0)},l),te.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return te.forEach(n.mutations,i=>{const a=new vn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new vn(n,0),i=this.Yr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.ni=e,this.docs=function(){return new zt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Ps();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_n.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ps();const l=n.path,c=new De(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:m}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||nD(tD(m),r)<=0||(i.has(m.key)||kh(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ri(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AL(this)}getSize(e){return te.resolve(this.size)}}class AL extends vL{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.persistence=e,this.ii=new Oa(n=>dy(n),fy),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.si=0,this.oi=new _y,this.targetCount=0,this._i=Ul.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),te.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.hr(n),te.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),te.waitFor(a).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n){this.ai={},this.overlays={},this.ui=new Rh(0),this.ci=!1,this.ci=!0,this.li=new IL,this.referenceDelegate=e(this),this.hi=new PL(this),this.indexManager=new dL,this.remoteDocumentCache=function(i){return new RL(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new uL(n),this.Ti=new EL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new SL(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new CL(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ei(e,n){return te.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class CL extends iD{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.Ai=new _y,this.Ri=null}static Vi(e){return new wy(e)}get mi(){if(this.Ri)return this.Ri;throw Le(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,r=>{const i=De.fromPath(r);return this.fi(e,i).next(a=>{a||n.removeEntry(i,Be.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return te.or([()=>te.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class nh{constructor(e,n){this.persistence=e,this.gi=new Oa(r=>aD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=yL(this,n)}static Vi(e,n){return new nh(e,n)}Ii(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return te.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(a=>a?te.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Be.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bf(e.data.value)),n}Sr(e,n,r){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=lt(),i=lt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ey(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Rk()?8:sD(Fn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ps(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(e,n,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new bL;return this.ws(e,n,l).next(c=>{if(a.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>a.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(_l()<=at.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(_l()<=at.DEBUG&&we("QueryEngine","Query:",wl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(_l()<=at.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(n))):te.resolve())}ps(e,n){if(nE(n))return te.resolve(null);let r=$i(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zf(n,null,"F"),r=$i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=lt(...a);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.bs(n,c);return this.Ds(n,p,l,f.readTime)?this.ps(e,Zf(n,null,"F")):this.vs(e,p,n,f)}))})))}ys(e,n,r,i){return nE(n)||i.isEqual(Be.min())?te.resolve(null):this.gs.getDocuments(e,r).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,r,i)?te.resolve(null):(_l()<=at.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wl(n)),this.vs(e,l,n,eD(i,mc)).next(c=>c))})}bs(e,n){let r=new fn(PS(e));return n.forEach((i,a)=>{kh(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,n,r){return _l()<=at.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",wl(n)),this.gs.getDocumentsMatchingQuery(e,n,Co.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LocalStore",OL=3e8;class xL{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new zt(Je),this.Ms=new Oa(a=>dy(a),fy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wL(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function NL(t,e,n,r){return new xL(t,e,n,r)}async function t1(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=lt();for(const p of i){l.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Bs:p,removedBatchIds:l,addedBatchIds:c}))})})}function DL(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,f,p,m){const y=p.batch,w=y.keys();let T=te.resolve();return w.forEach(S=>{T=T.next(()=>m.getEntry(f,S)).next(A=>{const b=p.docVersions.get(S);dt(b!==null,48541),A.version.compareTo(b)<0&&(y.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),m.addEntry(A)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(f,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=lt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function n1(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function LL(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const c=[];e.targetChanges.forEach((m,y)=>{const w=i.get(y);if(!w)return;c.push(n.hi.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.hi.addMatchingKeys(a,m.addedDocuments,y)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Cn.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(y,T),function(A,b,M){return A.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=OL?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(w,T,m)&&c.push(n.hi.updateTargetData(a,T))});let f=Ps(),p=lt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(ML(a,l,e.documentUpdates).next(m=>{f=m.Ls,p=m.ks})),!r.isEqual(Be.min())){const m=n.hi.getLastRemoteSnapshotVersion(a).next(y=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return te.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Fs=i,a))}function ML(t,e,n){let r=lt(),i=lt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ps();return n.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(Be.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):we(Ty,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{Ls:l,ks:i}})}function VL(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=uy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FL(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(a=>a?(i=a,te.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new yo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function bg(t,e,n){const r=ze(t),i=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!eu(l))throw l;we(Ty,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function mE(t,e,n){const r=ze(t);let i=Be.min(),a=lt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,m){const y=ze(f),w=y.Ms.get(m);return w!==void 0?te.resolve(y.Fs.get(w)):y.hi.getTargetData(p,m)}(r,l,$i(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:Be.min(),n?a:lt())).next(c=>(UL(r,PD(e),c),{documents:c,qs:a})))}function UL(t,e,n){let r=t.xs.get(e)||Be.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class gE{constructor(){this.activeTargetIds=ND()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jL{constructor(){this.Fo=new gE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){we(yE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){we(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf=null;function kg(){return gf===null?gf=function(){return 268435456+Math.round(2147483648*Math.random())}():gf++,"0x"+gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",zL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $L{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,a){const l=kg(),c=this.Go(e,n.toUriEncodedString());we(jm,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(f,i,a);const{host:p}=new URL(c),m=bs(p);return this.jo(e,c,f,r,m).then(y=>(we(jm,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Po(jm,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Jo(e,n,r,i,a,l){return this.Wo(e,n,r,i,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Go(e,n){const r=zL[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class WL extends $L{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,a){const l=kg();return new Promise((c,f)=>{const p=new ZI;p.setWithCredentials(!0),p.listenOnce(eS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Cf.NO_ERROR:const y=p.getResponseJson();we(Ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Cf.TIMEOUT:we(Ln,`RPC '${e}' ${l} timed out`),f(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const w=p.getStatus();if(we(Ln,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const A=function(M){const x=M.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(S.status);f(new le(A,S.message))}else f(new le(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new le(J.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{c_:e,streamId:l,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{we(Ln,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);we(Ln,`RPC '${e}' ${l} sending request:`,i),p.send(n,"POST",m,r,15)})}P_(e,n,r){const i=kg(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=rS(),c=nS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.zo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const m=a.join("");we(Ln,`Creating RPC '${e}' stream ${i}: ${m}`,f);const y=l.createWebChannel(m,f);this.T_(y);let w=!1,T=!1;const S=new HL({Ho:b=>{T?we(Ln,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(w||(we(Ln,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),we(Ln,`RPC '${e}' stream ${i} sending:`,b),y.send(b))},Yo:()=>y.close()}),A=(b,M,x)=>{b.listen(M,G=>{try{x(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return A(y,Xu.EventType.OPEN,()=>{T||(we(Ln,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),A(y,Xu.EventType.CLOSE,()=>{T||(T=!0,we(Ln,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(y))}),A(y,Xu.EventType.ERROR,b=>{T||(T=!0,Po(Ln,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),S.__(new le(J.UNAVAILABLE,"The operation could not be completed")))}),A(y,Xu.EventType.MESSAGE,b=>{var M;if(!T){const x=b.data[0];dt(!!x,16349);const G=x,ee=G?.error||((M=G[0])===null||M===void 0?void 0:M.error);if(ee){we(Ln,`RPC '${e}' stream ${i} received error:`,ee);const ue=ee.status;let fe=function(k){const N=nn[k];if(N!==void 0)return BS(N)}(ue),R=ee.message;fe===void 0&&(fe=J.INTERNAL,R="Unknown error status: "+ue+" with message "+ee.message),T=!0,S.__(new le(fe,R)),y.close()}else we(Ln,`RPC '${e}' stream ${i} received:`,x),S.a_(x)}}),A(c,tS.STAT_EVENT,b=>{b.stat===_g.PROXY?we(Ln,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===_g.NOPROXY&&we(Ln,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t){return new QD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class r1{constructor(e,n,r,i,a,l,c,f){this.Fi=e,this.w_=r,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Iy(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new le(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return we(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(we(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qL extends r1{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=ZD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Be.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Be.min():l.readTime?Cr(l.readTime):Be.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Cg(this.serializer),n.addTarget=function(a,l){let c;const f=l.target;if(c=Sg(f)?{documents:tL(a,f)}:{query:QS(a,f).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=HS(a,l.resumeToken);const p=Ag(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Be.min())>0){c.readTime=eh(a,l.snapshotVersion.toTimestamp());const p=Ag(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=iL(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.k_(n)}}class GL extends r1{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=eL(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Cg(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KS(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{}class QL extends KL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,Pg(n,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(J.UNKNOWN,a.toString())})}Jo(e,n,r,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,Pg(n,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new le(J.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class YL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(As(n),this._a=!1):we("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class JL{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{xa(this)&&(we(Sa,"Restarting streams for network reachability change."),await async function(f){const p=ze(f);p.Ia.add(4),await Bc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Lh(p)}(this))})}),this.Aa=new YL(r,i)}}async function Lh(t){if(xa(t))for(const e of t.da)await e(!0)}async function Bc(t){for(const e of t.da)await e(!1)}function i1(t,e){const n=ze(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Py(n)?Ay(n):tu(n).x_()&&Ry(n,e))}function Sy(t,e){const n=ze(t),r=tu(n);n.Ta.delete(e),r.x_()&&s1(n,e),n.Ta.size===0&&(r.x_()?r.B_():xa(n)&&n.Aa.set("Unknown"))}function Ry(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).H_(e)}function s1(t,e){t.Ra.$e(e),tu(t).Y_(e)}function Ay(t){t.Ra=new WD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.Aa.aa()}function Py(t){return xa(t)&&!tu(t).M_()&&t.Ta.size>0}function xa(t){return ze(t).Ia.size===0}function o1(t){t.Ra=void 0}async function XL(t){t.Aa.set("Online")}async function ZL(t){t.Ta.forEach((e,n)=>{Ry(t,e)})}async function e2(t,e){o1(t),Py(t)?(t.Aa.la(e),Ay(t)):t.Aa.set("Unknown")}async function t2(t,e,n){if(t.Aa.set("Online"),e instanceof $S&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){we(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(t,r)}else if(e instanceof xf?t.Ra.Ye(e):e instanceof zS?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Be.min()))try{const r=await n1(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.Ra.Pt(l);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ta.get(p);m&&a.Ta.set(p,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,p)=>{const m=a.Ta.get(f);if(!m)return;a.Ta.set(f,m.withResumeToken(Cn.EMPTY_BYTE_STRING,m.snapshotVersion)),s1(a,f);const y=new yo(m.target,f,p,m.sequenceNumber);Ry(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){we(Sa,"Failed to raise snapshot:",r),await rh(t,r)}}async function rh(t,e,n){if(!eu(e))throw e;t.Ia.add(1),await Bc(t),t.Aa.set("Offline"),n||(n=()=>n1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(Sa,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Lh(t)})}function a1(t,e){return e().catch(n=>rh(t,n,e))}async function Mh(t){const e=ze(t),n=xo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:uy;for(;n2(e);)try{const i=await VL(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,r2(e,i)}catch(i){await rh(e,i)}l1(e)&&u1(e)}function n2(t){return xa(t)&&t.Pa.length<10}function r2(t,e){t.Pa.push(e);const n=xo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function l1(t){return xa(t)&&!xo(t).M_()&&t.Pa.length>0}function u1(t){xo(t).start()}async function i2(t){xo(t).na()}async function s2(t){const e=xo(t);for(const n of t.Pa)e.X_(n.mutations)}async function o2(t,e,n){const r=t.Pa.shift(),i=gy.from(r,e,n);await a1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Mh(t)}async function a2(t,e){e&&xo(t).Z_&&await async function(r,i){if(function(l){return jS(l)&&l!==J.ABORTED}(i.code)){const a=r.Pa.shift();xo(r).N_(),await a1(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Mh(r)}}(t,e),l1(t)&&u1(t)}async function wE(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),we(Sa,"RemoteStore received new credentials");const r=xa(n);n.Ia.add(3),await Bc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Lh(n)}async function l2(t,e){const n=ze(t);e?(n.Ia.delete(2),await Lh(n)):e||(n.Ia.add(2),await Bc(n),n.Aa.set("Unknown"))}function tu(t){return t.Va||(t.Va=function(n,r,i){const a=ze(n);return a.ia(),new qL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:XL.bind(null,t),e_:ZL.bind(null,t),n_:e2.bind(null,t),J_:t2.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Py(t)?Ay(t):t.Aa.set("Unknown")):(await t.Va.stop(),o1(t))})),t.Va}function xo(t){return t.ma||(t.ma=function(n,r,i){const a=ze(n);return a.ia(),new GL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:i2.bind(null,t),n_:a2.bind(null,t),ea:s2.bind(null,t),ta:o2.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Mh(t)):(await t.ma.stop(),t.Pa.length>0&&(we(Sa,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new Cy(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(t,e){if(As("AsyncQueue",`${e}: ${t}`),eu(t))return new le(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=Zu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.fa=new zt(De.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Le(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class jl{constructor(e,n,r,i,a,l,c,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new jl(e,n,Ol.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class c2{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ze(n),a=i.queries;i.queries=TE(),a.forEach((l,c)=>{for(const f of c.wa)f.onError(r)})})(this,new le(J.ABORTED,"Firestore shutting down"))}}function TE(){return new Oa(t=>AS(t),bh)}async function ky(t,e){const n=ze(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Sa()&&e.ba()&&(r=2):(a=new u2,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(i,!0);break;case 1:a.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=by(l,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&xy(n)}async function Oy(t,e){const n=ze(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d2(t,e){const n=ze(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&xy(n)}function f2(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const a of i.wa)a.onError(n);r.queries.delete(e)}function xy(t){t.Da.forEach(e=>{e.next()})}var Og,IE;(IE=Og||(Og={})).Fa="default",IE.Cache="cache";class Ny{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.key=e}}class d1{constructor(e){this.key=e}}class h2{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=lt(),this.mutatedKeys=lt(),this.Xa=PS(e),this.eu=new Ol(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new EE,i=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const w=i.get(m),T=kh(this.query,y)?y:null,S=!!w&&this.mutatedKeys.has(w.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?S!==A&&(r.track({type:3,doc:T}),b=!0):this.iu(w,T)||(r.track({type:2,doc:T}),b=!0,(f&&this.Xa(T,f)>0||p&&this.Xa(T,p)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),b=!0):w&&!T&&(r.track({type:1,doc:w}),b=!0,(f||p)&&(c=!0)),b&&(T?(l=l.add(T),a=A?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:c,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,y)=>function(T,S){const A=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{At:b})}};return A(T)-A(S)}(m.type,y.type)||this.Xa(m.doc,y.doc)),this.su(r),i=i!=null&&i;const c=n&&!i?this.ou():[],f=this.Za.size===0&&this.current&&!i?1:0,p=f!==this.Ya;return this.Ya=f,l.length!==0||p?{snapshot:new jl(this.query,e.eu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new EE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=lt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new d1(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new c1(r))}),n}uu(e){this.Ha=e.qs,this.Za=lt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return jl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dy="SyncEngine";class p2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class m2{constructor(e){this.key=e,this.lu=!1}}class g2{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Oa(c=>AS(c),bh),this.Tu=new Map,this.Iu=new Set,this.du=new zt(De.comparator),this.Eu=new Map,this.Au=new _y,this.Ru={},this.Vu=new Map,this.mu=Ul.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function y2(t,e,n=!0){const r=y1(t);let i;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await f1(r,e,n,!0),i}async function v2(t,e){const n=y1(t);await f1(n,e,!0,!1)}async function f1(t,e,n,r){const i=await FL(t.localStore,$i(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await _2(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&i1(t.remoteStore,i),c}async function _2(t,e,n,r,i){t.gu=(y,w,T)=>async function(A,b,M,x){let G=b.view.nu(M);G.Ds&&(G=await mE(A.localStore,b.query,!1).then(({documents:R})=>b.view.nu(R,G)));const ee=x&&x.targetChanges.get(b.targetId),ue=x&&x.targetMismatches.get(b.targetId)!=null,fe=b.view.applyChanges(G,A.isPrimaryClient,ee,ue);return RE(A,b.targetId,fe._u),fe.snapshot}(t,y,w,T);const a=await mE(t.localStore,e,!0),l=new h2(e,a.qs),c=l.nu(a.documents),f=jc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(c,t.isPrimaryClient,f);RE(t,n,p._u);const m=new p2(e,n,l);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),p.snapshot}async function w2(t,e,n){const r=ze(t),i=r.Pu.get(e),a=r.Tu.get(i.targetId);if(a.length>1)return r.Tu.set(i.targetId,a.filter(l=>!bh(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sy(r.remoteStore,i.targetId),xg(r,i.targetId)}).catch(Zl)):(xg(r,i.targetId),await bg(r.localStore,i.targetId,!0))}async function E2(t,e){const n=ze(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function T2(t,e,n){const r=b2(t);try{const i=await function(l,c){const f=ze(l),p=Xe.now(),m=c.reduce((T,S)=>T.add(S.key),lt());let y,w;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Ps(),A=lt();return f.Os.getEntries(T,m).next(b=>{S=b,S.forEach((M,x)=>{x.isValidDocument()||(A=A.add(M))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,S)).next(b=>{y=b;const M=[];for(const x of c){const G=UD(x,y.get(x.key).overlayedDocument);G!=null&&M.push(new Fo(x.key,G,vS(G.value.mapValue),on.exists(!0)))}return f.mutationQueue.addMutationBatch(T,p,M,c)}).next(b=>{w=b;const M=b.applyToLocalDocumentSet(y,A);return f.documentOverlayCache.saveOverlays(T,b.batchId,M)})}).then(()=>({batchId:w.batchId,changes:bS(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let p=l.Ru[l.currentUser.toKey()];p||(p=new zt(Je)),p=p.insert(c,f),l.Ru[l.currentUser.toKey()]=p}(r,i.batchId,n),await zc(r,i.changes),await Mh(r.remoteStore)}catch(i){const a=by(i,"Failed to persist write");n.reject(a)}}async function h1(t,e){const n=ze(t);try{const r=await LL(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.Eu.get(a);l&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?dt(l.lu,14607):i.removedDocuments.size>0&&(dt(l.lu,42227),l.lu=!1))}),await zc(n,r,e)}catch(r){await Zl(r)}}function SE(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=ze(l);f.onlineState=c;let p=!1;f.queries.forEach((m,y)=>{for(const w of y.wa)w.va(c)&&(p=!0)}),p&&xy(f)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I2(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new zt(De.comparator);l=l.insert(a,_n.newNoDocument(a,Be.min()));const c=lt().add(a),f=new Nh(Be.min(),new Map,new zt(Je),l,c);await h1(r,f),r.du=r.du.remove(a),r.Eu.delete(e),Ly(r)}else await bg(r.localStore,e,!1).then(()=>xg(r,e,n)).catch(Zl)}async function S2(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await DL(n.localStore,e);m1(n,r,null),p1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,i)}catch(i){await Zl(i)}}async function R2(t,e,n){const r=ze(t);try{const i=await function(l,c){const f=ze(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return f.mutationQueue.lookupMutationBatch(p,c).next(y=>(dt(y!==null,37113),m=y.keys(),f.mutationQueue.removeMutationBatch(p,y))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>f.localDocuments.getDocuments(p,m))})}(r.localStore,e);m1(r,e,n),p1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,i)}catch(i){await Zl(i)}}function p1(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function m1(t,e,n){const r=ze(t);let i=r.Ru[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function xg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||g1(t,r)})}function g1(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Sy(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Ly(t))}function RE(t,e,n){for(const r of n)r instanceof c1?(t.Au.addReference(r.key,e),A2(t,r)):r instanceof d1?(we(Dy,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||g1(t,r.key)):Le(19791,{yu:r})}function A2(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(we(Dy,"New document in limbo: "+n),t.Iu.add(r),Ly(t))}function Ly(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new De(Rt.fromString(e)),r=t.mu.next();t.Eu.set(r,new m2(n)),t.du=t.du.insert(n,r),i1(t.remoteStore,new yo($i(Ch(n.path)),r,"TargetPurposeLimboResolution",Rh.ue))}}async function zc(t,e,n){const r=ze(t),i=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,f)=>{l.push(r.gu(f,e,n).then(p=>{var m;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(m=n?.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(p){i.push(p);const y=Ey.Es(f.targetId,p);a.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(f,p){const m=ze(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>te.forEach(p,w=>te.forEach(w.Is,T=>m.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>te.forEach(w.ds,T=>m.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!eu(y))throw y;we(Ty,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const T=m.Fs.get(w),S=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(S);m.Fs=m.Fs.insert(w,A)}}}(r.localStore,a))}async function P2(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){we(Dy,"User change. New user:",e.toKey());const r=await t1(n.localStore,e);n.currentUser=e,function(a,l){a.Vu.forEach(c=>{c.forEach(f=>{f.reject(new le(J.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.Bs)}}function C2(t,e){const n=ze(t),r=n.Eu.get(e);if(r&&r.lu)return lt().add(r.key);{let i=lt();const a=n.Tu.get(e);if(!a)return i;for(const l of a){const c=n.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function y1(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I2.bind(null,e),e.hu.J_=d2.bind(null,e.eventManager),e.hu.pu=f2.bind(null,e.eventManager),e}function b2(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R2.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return NL(this.persistence,new kL,e.initialUser,this.serializer)}Du(e){return new e1(wy.Vi,this.serializer)}bu(e){return new jL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class k2 extends ih{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){dt(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mL(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ur.withCacheSize(this.cacheSizeBytes):ur.DEFAULT;return new e1(r=>nh.Vi(r,n),this.serializer)}}class Ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P2.bind(null,this.syncEngine),await l2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new c2}()}createDatastore(e){const n=Dh(e.databaseInfo.databaseId),r=function(a){return new WL(a)}(e.databaseInfo);return function(a,l,c,f){return new QL(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,l,c){return new JL(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>SE(this.syncEngine,n,0),function(){return vE.C()?new vE:new BL}())}createSyncEngine(e,n){return function(i,a,l,c,f,p,m){const y=new g2(i,a,l,c,f,p);return m&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ze(i);we(Sa,"RemoteStore shutting down."),a.Ia.add(5),await Bc(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ng.provider={build:()=>new Ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new le(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,a){const l=ze(i),c={documents:a.map(y=>th(l.serializer,y))},f=await l.Jo("BatchGetDocuments",l.serializer.databaseId,Rt.emptyPath(),c,a.length),p=new Map;f.forEach(y=>{const w=XD(l.serializer,y);p.set(w.key.toString(),w)});const m=[];return a.forEach(y=>{const w=p.get(y.toString());dt(!!w,55234,{key:y}),m.push(w)}),m}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=De.fromPath(r);this.mutations.push(new US(i,this.precondition(i)))}),await async function(r,i){const a=ze(r),l={writes:i.map(c=>KS(a.serializer,c))};await a.Wo("Commit",a.serializer.databaseId,Rt.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Le(50498,{Wu:e.constructor.name});n=Be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new le(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Be.min())?on.exists(!1):on.updateTime(n):on.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Be.min()))throw new le(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return on.updateTime(n)}return on.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Gu=r.maxAttempts,this.F_=new Iy(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new O2(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Vc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!jS(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="FirestoreClient";class N2{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{we(No,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we(No,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zm(t,e){t.asyncQueue.verifyOperationInProgress(),we(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await t1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Po("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{we("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Po("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function AE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await D2(t);we(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wE(e.remoteStore,i)),t._onlineComponents=e}async function D2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(No,"Using user provided OfflineComponentProvider");try{await zm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await zm(t,new ih)}}else we(No,"Using default OfflineComponentProvider"),await zm(t,new k2(void 0));return t._offlineComponents}async function Vy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(No,"Using user provided OnlineComponentProvider"),await AE(t,t._uninitializedComponentsProvider._online)):(we(No,"Using default OnlineComponentProvider"),await AE(t,new Ng))),t._onlineComponents}function L2(t){return Vy(t).then(e=>e.syncEngine)}function v1(t){return Vy(t).then(e=>e.datastore)}async function sh(t){const e=await Vy(t),n=e.eventManager;return n.onListen=y2.bind(null,e.syncEngine),n.onUnlisten=w2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=v2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E2.bind(null,e.syncEngine),n}function _1(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const m=new My({next:w=>{m.Ou(),l.enqueueAndForget(()=>Oy(a,y));const T=w.docs.has(c);!T&&w.fromCache?p.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&f&&f.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Ny(Ch(c.path),m,{includeMetadataChanges:!0,ka:!0});return ky(a,y)}(await sh(t),t.asyncQueue,e,n,r)),r.promise}function M2(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,p){const m=new My({next:w=>{m.Ou(),l.enqueueAndForget(()=>Oy(a,y)),w.fromCache&&f.source==="server"?p.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new Ny(c,m,{includeMetadataChanges:!0,ka:!0});return ky(a,y)}(await sh(t),t.asyncQueue,e,n,r)),r.promise}function V2(t,e,n){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await v1(t);r.resolve(async function(l,c,f){var p;const m=ze(l),{request:y,ft:w,parent:T}=nL(m.serializer,AD(c),f);m.connection.Qo||delete y.parent;const S=(await m.Jo("RunAggregationQuery",m.serializer.databaseId,T,y,1)).filter(b=>!!b.result);dt(S.length===1,64727);const A=(p=S[0].result)===null||p===void 0?void 0:p.aggregateFields;return Object.keys(A).reduce((b,M)=>(b[w[M]]=A[M],b),{})}(i,e,n))}catch(i){r.reject(i)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",CE=!0;class bE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=CE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:CE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hL)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $N;switch(r.type){case"firstParty":return new GN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PE.get(n);r&&(we("ComponentProvider","Removing Datastore"),PE.delete(n),r.terminate())}(this),Promise.resolve()}}function F2(t,e,n,r={}){var i;t=dn(t,Vh);const a=bs(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;a&&(vh(`https://${f}`),_h("Firestore",!0)),l.host!==E1&&l.host!==f&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!Ro(p,c)&&(t._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Mn.MOCK_USER;else{m=pI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Mn(w)}t._authCredentials=new HN(new sS(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mc(n,Vt._jsonSchema))return new Vt(e,r||null,new De(Rt.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:an("string",Vt._jsonSchemaVersion),referencePath:an("string")};class Io extends Qi{constructor(e,n,r){super(e,n,Ch(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new De(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function Qn(t,e,...n){if(t=Et(t),aS("collection","path",e),t instanceof Vh){const r=Rt.fromString(e,...n);return $0(r),new Io(t,null,r)}{if(!(t instanceof Vt||t instanceof Io))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return $0(r),new Io(t.firestore,null,r)}}function ut(t,e,...n){if(t=Et(t),arguments.length===1&&(e=ly.newId()),aS("doc","path",e),t instanceof Vh){const r=Rt.fromString(e,...n);return z0(r),new Vt(t,null,new De(r))}{if(!(t instanceof Vt||t instanceof Io))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return z0(r),new Vt(t.firestore,t instanceof Io?t.converter:null,new De(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Iy(this,"async_queue_retry"),this.oc=()=>{const r=Bm();r&&we(kE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new hi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!eu(e))throw e;we(kE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,As("INTERNAL UNHANDLED ERROR: ",xE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Cy.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Le(47125,{hc:xE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function xE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class br extends Vh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new OE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function U2(t,e){const n=typeof t=="object"?t:xc(),r=typeof t=="string"?t:Yf,i=Oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Yg("firestore");a&&F2(i,...a)}return i}function Uo(t){if(t._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j2(t),t._firestoreClient}function j2(t){var e,n,r;const i=t._freezeSettings(),a=function(c,f,p,m){return new dD(c,f,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,w1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new N2(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const f=c?._online.build();return{_offline:c?._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class z2{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sr(Cn.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sr(Cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,Sr._jsonSchema))return Sr.fromBase64String(e.bytes)}}Sr._jsonSchemaVersion="firestore/bytes/1.0",Sr._jsonSchema={type:an("string",Sr._jsonSchemaVersion),bytes:an("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:an("string",Hi._jsonSchemaVersion),latitude:an("number"),longitude:an("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Wi(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:an("string",Wi._jsonSchemaVersion),vectorValues:an("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^__.*__$/;class H2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fc(e,this.data,n,this.fieldTransforms)}}class T1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{Ec:t})}}class Fh{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Fh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return oh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(I1(this.Ec)&&$2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class W2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Dc(e,n,r,i=!1){return new Fh({Ec:e,methodName:n,bc:r,path:Pn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Na(t){const e=t._freezeSettings(),n=Dh(t._databaseId);return new W2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Uh(t,e,n,r,i,a={}){const l=t.Dc(a.merge||a.mergeFields?2:0,e,n,i);$y("Data must be an object, but it was:",l,r);const c=R1(r,l);let f,p;if(a.merge)f=new Rr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const w=Dg(e,y,n);if(!l.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);P1(m,w)||m.push(w)}f=new Rr(m),p=l.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,p=l.fieldTransforms;return new H2(new qn(c),f,p)}class $c extends ru{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $c}}function q2(t,e,n){return new Fh({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fy extends ru{_toFieldTransform(e){return new my(e.path,new wc)}isEqual(e){return e instanceof Fy}}class Uy extends ru{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=q2(this,e,!0),r=this.vc.map(a=>iu(a,n)),i=new Fl(r);return new my(e.path,i)}isEqual(e){return e instanceof Uy&&Ro(this.vc,e.vc)}}class jy extends ru{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Tc(e.serializer,xS(e.serializer,this.Cc));return new my(e.path,n)}isEqual(e){return e instanceof jy&&this.Cc===e.Cc}}function By(t,e,n,r){const i=t.Dc(1,e,n);$y("Data must be an object, but it was:",i,r);const a=[],l=qn.empty();Vo(r,(f,p)=>{const m=Hy(e,f,n);p=Et(p);const y=i.gc(m);if(p instanceof $c)a.push(m);else{const w=iu(p,y);w!=null&&(a.push(m),l.set(m,w))}});const c=new Rr(a);return new T1(l,c,i.fieldTransforms)}function zy(t,e,n,r,i,a){const l=t.Dc(1,e,n),c=[Dg(e,r,n)],f=[i];if(a.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(Dg(e,a[w])),f.push(a[w+1]);const p=[],m=qn.empty();for(let w=c.length-1;w>=0;--w)if(!P1(p,c[w])){const T=c[w];let S=f[w];S=Et(S);const A=l.gc(T);if(S instanceof $c)p.push(T);else{const b=iu(S,A);b!=null&&(p.push(T),m.set(T,b))}}const y=new Rr(p);return new T1(m,y,l.fieldTransforms)}function S1(t,e,n,r=!1){return iu(n,t.Dc(r?4:3,e))}function iu(t,e){if(A1(t=Et(t)))return $y("Unsupported field value:",e,t),R1(t,e);if(t instanceof ru)return function(r,i){if(!I1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=iu(c,i.yc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:eh(i.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eh(i.serializer,a)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sr)return{bytesValue:HS(i.serializer,r._byteString)};if(r instanceof Vt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wi)return function(l,c){return{mapValue:{fields:{[gS]:{stringValue:yS},[Jf]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.wc("VectorValues must only contain numeric values.");return py(c.serializer,p)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Sh(r)}`)}(t,e)}function R1(t,e){const n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const a=iu(i,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function A1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Hi||t instanceof Sr||t instanceof Vt||t instanceof ru||t instanceof Wi)}function $y(t,e,n){if(!A1(n)||!lS(n)){const r=Sh(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Dg(t,e,n){if((e=Et(e))instanceof nu)return e._internalPath;if(typeof e=="string")return Hy(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const G2=new RegExp("[~\\*/\\[\\]]");function Hy(t,e,n){if(e.search(G2)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nu(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new le(J.INVALID_ARGUMENT,c+t+f)}function P1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K2 extends Ic{data(){return super.data()}}function jh(t,e){return typeof e=="string"?Hy(t,e):e instanceof nu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class Bh extends Wy{}function Gn(t,e,...n){let r=[];e instanceof Wy&&r.push(e),r=r.concat(n),function(a){const l=a.filter(f=>f instanceof qy).length,c=a.filter(f=>f instanceof zh).length;if(l>1||l>0&&c>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zh extends Bh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zh(e,n,r)}_apply(e){const n=this._parse(e);return k1(e._query,n),new Qi(e.firestore,e.converter,Rg(e._query,n))}_parse(e){const n=Na(e.firestore);return function(a,l,c,f,p,m,y){let w;if(p.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){LE(y,m);const S=[];for(const A of y)S.push(DE(f,a,A));w={arrayValue:{values:S}}}else w=DE(f,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||LE(y,m),w=S1(c,l,y,m==="in"||m==="not-in");return sn.create(p,m,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ar(t,e,n){const r=e,i=jh("where",t);return zh._create(i,r,n)}class qy extends Wy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)k1(l,f),l=Rg(l,f)}(e._query,n),new Qi(e.firestore,e.converter,Rg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gy extends Bh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Gy(e,n)}_apply(e){const n=function(i,a,l){if(i.startAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new le(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(a,l)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new ka(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Bl(t,e="asc"){const n=e,r=jh("orderBy",t);return Gy._create(r,n)}class Ky extends Bh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ky(e,n,r)}_apply(e){return new Qi(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function zl(t){return ZN("limit",t),Ky._create("limit",t,"F")}class Qy extends Bh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Qy(e,n,r)}_apply(e){const n=Q2(e,this.type,this._docOrFields,this._inclusive);return new Qi(e.firestore,e.converter,function(i,a){return new ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)}(e._query,n))}}function b1(...t){return Qy._create("startAfter",t,!1)}function Q2(t,e,n,r){if(n[0]=Et(n[0]),n[0]instanceof Ic)return function(a,l,c,f,p){if(!f)throw new le(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const y of kl(a))if(y.field.isKeyField())m.push(Xf(l,f.key));else{const w=f.data.field(y.field);if(Ah(w))throw new le(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const T=y.field.canonicalString();throw new le(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(w)}return new Vl(m,p)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Na(t.firestore);return function(l,c,f,p,m,y){const w=l.explicitOrderBy;if(m.length>w.length)throw new le(J.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let S=0;S<m.length;S++){const A=m[S];if(w[S].field.isKeyField()){if(typeof A!="string")throw new le(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof A}`);if(!hy(l)&&A.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${A}' contains a slash.`);const b=l.path.child(Rt.fromString(A));if(!De.isDocumentKey(b))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const M=new De(b);T.push(Xf(c,M))}else{const b=S1(f,p,A);T.push(b)}}return new Vl(T,y)}(t._query,t.firestore._databaseId,i,e,n,r)}}function DE(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hy(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Rt.fromString(n));if(!De.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xf(t,new De(r))}if(n instanceof Vt)return Xf(t,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function LE(t,e){if(!Array.isArray(t)||t.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k1(t,e){const n=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O1{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Jf].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Jt(l.doubleValue));return new Wi(a)}convertGeoPoint(e){return new Hi(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=bo(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);dt(XS(r),9688,{name:e});const i=new yc(r.get(1),r.get(3)),a=new De(r.popFirst(5));return i.isEqual(n)||As(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Y2 extends O1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function J2(){return new B2("count")}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends Ic{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:an("string",So._jsonSchemaVersion),bundleSource:an("string","DocumentSnapshot"),bundleName:an("string"),bundle:an("string")};class Nf extends So{data(e={}){return super.data(e)}}class va{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nf(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new Nf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Il(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Nf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Il(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:X2(c.type),doc:f,oldIndex:p,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function X2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){t=dn(t,Vt);const e=dn(t.firestore,br);return _1(Uo(e),t._key).then(n=>Jy(e,t,n))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:an("string",va._jsonSchemaVersion),bundleSource:an("string","QuerySnapshot"),bundleName:an("string"),bundle:an("string")};class Hc extends O1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function Z2(t){t=dn(t,Vt);const e=dn(t.firestore,br);return _1(Uo(e),t._key,{source:"server"}).then(n=>Jy(e,t,n))}function gi(t){t=dn(t,Qi);const e=dn(t.firestore,br),n=Uo(e),r=new Hc(e);return C1(t._query),M2(n,t._query).then(i=>new va(e,r,t,i))}function eM(t,e,n){t=dn(t,Vt);const r=dn(t.firestore,br),i=$h(t.converter,e,n);return Wc(r,[Uh(Na(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,on.none())])}function Wr(t,e,n,...r){t=dn(t,Vt);const i=dn(t.firestore,br),a=Na(i);let l;return l=typeof(e=Et(e))=="string"||e instanceof nu?zy(a,"updateDoc",t._key,e,n,r):By(a,"updateDoc",t._key,e),Wc(i,[l.toMutation(t._key,on.exists(!0))])}function x1(t){return Wc(dn(t.firestore,br),[new Uc(t._key,on.none())])}function Yy(t,e){const n=dn(t.firestore,br),r=ut(t),i=$h(t.converter,e);return Wc(n,[Uh(Na(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then(()=>r)}function N1(t,...e){var n,r,i;t=Et(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||NE(e[l])||(a=e[l++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(NE(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let f,p,m;if(t instanceof Vt)p=dn(t.firestore,br),m=Ch(t._key.path),f={next:y=>{e[l]&&e[l](Jy(p,t,y))},error:e[l+1],complete:e[l+2]};else{const y=dn(t,Qi);p=dn(y.firestore,br),m=y._query;const w=new Hc(p);f={next:T=>{e[l]&&e[l](new va(p,w,y,T))},error:e[l+1],complete:e[l+2]},C1(t._query)}return function(w,T,S,A){const b=new My(A),M=new Ny(T,b,S);return w.asyncQueue.enqueueAndForget(async()=>ky(await sh(w),M)),()=>{b.Ou(),w.asyncQueue.enqueueAndForget(async()=>Oy(await sh(w),M))}}(Uo(p),m,c,f)}function Wc(t,e){return function(r,i){const a=new hi;return r.asyncQueue.enqueueAndForget(async()=>T2(await L2(r),i,a)),a.promise}(Uo(t),e)}function Jy(t,e,n){const r=n.docs.get(e._key),i=new Hc(t);return new So(t,i,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}function tM(t){return nM(t,{count:J2()})}function nM(t,e){const n=dn(t.firestore,br),r=Uo(n),i=uD(e,(a,l)=>new zD(l,a.aggregateType,a._internalFieldPath));return V2(r,t._query,i).then(a=>function(c,f,p){const m=new Hc(c);return new z2(f,m,p)}(n,t,a))}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Na(e)}set(e,n,r){this._verifyNotCommitted();const i=vo(e,this._firestore),a=$h(i.converter,n,r),l=Uh(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,on.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=vo(e,this._firestore);let l;return l=typeof(n=Et(n))=="string"||n instanceof nu?zy(this._dataReader,"WriteBatch.update",a._key,n,r,i):By(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,on.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vo(e,this._firestore);return this._mutations=this._mutations.concat(new Uc(n._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vo(t,e){if((t=Et(t)).firestore!==e)throw new le(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Na(e)}get(e){const n=vo(e,this._firestore),r=new Y2(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Le(24041);const a=i[0];if(a.isFoundDocument())return new Ic(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Ic(this._firestore,r,n._key,null,n.converter);throw Le(18433,{doc:a})})}set(e,n,r){const i=vo(e,this._firestore),a=$h(i.converter,n,r),l=Uh(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,n,r,...i){const a=vo(e,this._firestore);let l;return l=typeof(n=Et(n))=="string"||n instanceof nu?zy(this._dataReader,"Transaction.update",a._key,n,r,i):By(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,l),this}delete(e){const n=vo(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends sM{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=vo(e,this._firestore),r=new Hc(this._firestore);return super.get(e).then(i=>new So(this._firestore,r,n._key,i._document,new Il(!1,!1),n.converter))}}function qc(t,e,n){t=dn(t,br);const r=Object.assign(Object.assign({},rM),n);return function(a){if(a.maxAttempts<1)throw new le(J.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,l,c){const f=new hi;return a.asyncQueue.enqueueAndForget(async()=>{const p=await v1(a);new x2(a.asyncQueue,p,c,l,f).zu()}),f.promise}(Uo(t),i=>e(new oM(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){return new $c("deleteField")}function D1(){return new Fy("serverTimestamp")}function Sc(...t){return new Uy("arrayUnion",t)}function aM(t){return new jy("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return Uo(t=dn(t,br)),new iM(t,e=>Wc(t,e))}(function(e,n=!0){(function(i){Xl=i})(ba),Ao(new Ts("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new br(new WN(r.getProvider("auth-internal")),new KN(l,r.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(p.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Hr(V0,F0,e),Hr(V0,F0,"esm2017")})();var lM="firebase",uM="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(lM,uM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebasestorage.googleapis.com",M1="storageBucket",cM=120*1e3,dM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends mi{constructor(e,n,r=0){super($m(e),`Firebase Storage: ${n} (${$m(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function $m(t){return"storage/"+t}function Xy(){const t="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,t)}function fM(t){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function hM(t){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,t)}function mM(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gM(t){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function yM(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vM(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function _M(t){return new Kt(Gt.INVALID_URL,"Invalid URL '"+t+"'.")}function wM(t){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EM(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+M1+"' property when initializing the app?")}function TM(){return new Kt(Gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IM(){return new Kt(Gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SM(t){return new Kt(Gt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lg(t){return new Kt(Gt.INVALID_ARGUMENT,t)}function V1(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function RM(t){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uc(t,e){return new Kt(Gt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wu(t){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Pr.makeFromUrl(e,n)}catch{return new Pr(e,"")}if(r.path==="")return r;throw wM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function p(ee){ee.path_=decodeURIComponent(ee.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${m}/b/${i}/o${w}`,"i"),S={bucket:1,path:3},A=n===L1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",M=new RegExp(`^https?://${A}/${i}/${b}`,"i"),G=[{regex:c,indices:f,postModify:a},{regex:T,indices:S,postModify:p},{regex:M,indices:{bucket:1,path:2},postModify:p}];for(let ee=0;ee<G.length;ee++){const ue=G[ee],fe=ue.regex.exec(e);if(fe){const R=fe[ue.indices.bucket];let C=fe[ue.indices.path];C||(C=""),r=new Pr(R,C),ue.postModify(r);break}}if(r==null)throw _M(e);return r}}class AM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let r=1,i=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function m(...b){p||(p=!0,e.apply(null,b))}function y(b){i=setTimeout(()=>{i=null,t(T,f())},b)}function w(){a&&clearTimeout(a)}function T(b,...M){if(p){w();return}if(b){w(),m.call(null,b,...M);return}if(f()||l){w(),m.call(null,b,...M);return}r<64&&(r*=2);let G;c===1?(c=2,G=0):G=(r+Math.random())*1e3,y(G)}let S=!1;function A(b){S||(S=!0,w(),!p&&(i!==null?(b||(c=2),clearTimeout(i),y(0)):b||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,A(!0)},n),A}function CM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){return t!==void 0}function kM(t){return typeof t=="object"&&!Array.isArray(t)}function Zy(t){return typeof t=="string"||t instanceof String}function ME(t){return ev()&&t instanceof Blob}function ev(){return typeof Blob<"u"}function VE(t,e,n,r){if(r<e)throw Lg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function F1(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var _a;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_a||(_a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,i,a,l,c,f,p,m,y,w=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=m,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===_a.NO_ERROR,f=a.getStatus();if(!c||OM(f,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===_a.ABORT;r(!1,new yf(!1,null,m));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new yf(p,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());bM(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=Xy();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(i.canceled){const f=this.appDelete_?V1():vM();l(f)}else{const f=yM();l(f)}};this.canceled_?n(!1,new yf(!1,null,!0)):this.backoffId_=PM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function NM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function VM(t,e,n,r,i,a,l=!0,c=!1){const f=F1(t.urlParams),p=t.url+f,m=Object.assign({},t.headers);return LM(m,e),NM(m,n),DM(m,a),MM(m,r),new xM(p,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UM(...t){const e=FM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ev())return new Blob(t);throw new Kt(Gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){if(typeof atob>"u")throw SM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Hm{constructor(e,n){this.data=e,this.contentType=n||null}}function zM(t,e){switch(t){case Fi.RAW:return new Hm(U1(e));case Fi.BASE64:case Fi.BASE64URL:return new Hm(j1(t,e));case Fi.DATA_URL:return new Hm(HM(e),WM(e))}throw Xy()}function U1(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function $M(t){let e;try{e=decodeURIComponent(t)}catch{throw uc(Fi.DATA_URL,"Malformed data URL.")}return U1(e)}function j1(t,e){switch(t){case Fi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw uc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw uc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BM(e)}catch(i){throw i.message.includes("polyfill")?i:uc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class B1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw uc(Fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function HM(t){const e=new B1(t);return e.base64?j1(Fi.BASE64,e.rest):$M(e.rest)}function WM(t){return new B1(t).contentType}function qM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){let r=0,i="";ME(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(ME(this.data_)){const r=this.data_,i=jM(r,e,n);return i===null?null:new po(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new po(r,!0)}}static getBlob(...e){if(ev()){const n=e.map(r=>r instanceof po?r.data_:r);return new po(UM.apply(null,n))}else{const n=e.map(l=>Zy(l)?zM(Fi.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new po(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){let e;try{e=JSON.parse(t)}catch{return null}return kM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $1(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t,e){return e}class Hn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||QM}}let vf=null;function YM(t){return!Zy(t)||t.length<2?t:$1(t)}function H1(){if(vf)return vf;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));function e(a,l){return YM(l)}const n=new Hn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new Hn("size");return i.xform=r,t.push(i),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),vf=t,vf}function JM(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Pr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function XM(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return JM(r,t),r}function W1(t,e,n){const r=z1(e);return r===null?null:XM(t,r,n)}function ZM(t,e,n,r){const i=z1(e);if(i===null||!Zy(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const m=t.bucket,y=t.fullPath,w="/b/"+l(m)+"/o/"+l(y),T=Hh(w,n,r),S=F1({alt:"media",token:p});return T+S})[0]}function eV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class tv{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t){if(!t)throw Xy()}function tV(t,e){function n(r,i){const a=W1(t,i,e);return q1(a!==null),a}return n}function nV(t,e){function n(r,i){const a=W1(t,i,e);return q1(a!==null),ZM(a,i,t.host,t._protocol)}return n}function G1(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=mM():i=pM():n.getStatus()===402?i=hM(t.bucket):n.getStatus()===403?i=gM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function K1(t){const e=G1(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=fM(t.path)),a.serverResponse=i.serverResponse,a}return n}function rV(t,e,n){const r=e.fullServerUrl(),i=Hh(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new tv(i,a,nV(t,n),l);return c.errorHandler=K1(e),c}function iV(t,e){const n=e.fullServerUrl(),r=Hh(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function l(f,p){}const c=new tv(r,i,l,a);return c.successCodes=[200,204],c.errorHandler=K1(e),c}function sV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sV(null,e)),r}function aV(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let G="";for(let ee=0;ee<2;ee++)G=G+Math.random().toString().slice(2);return G}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const p=oV(e,r,i),m=eV(p,n),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,w=`\r
--`+f+"--",T=po.getBlob(y,r,w);if(T===null)throw TM();const S={name:p.fullPath},A=Hh(a,t.host,t._protocol),b="POST",M=t.maxUploadRetryTime,x=new tv(A,b,tV(t,n),M);return x.urlParams=S,x.headers=l,x.body=T.uploadData(),x.errorHandler=G1(e),x}class lV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw Wu("cannot .send() more than once");if(bs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uV extends lV{initXhr(){this.xhr_.responseType="text"}}function nv(){return new uV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this._service=e,n instanceof Pr?this._location=n:this._location=Pr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ra(e,n)}get root(){const e=new Pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $1(this._location.path)}get storage(){return this._service}get parent(){const e=GM(this._location.path);if(e===null)return null;const n=new Pr(this._location.bucket,e);return new Ra(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RM(e)}}function cV(t,e,n){t._throwIfRoot("uploadBytes");const r=aV(t.storage,t._location,H1(),new po(e,!0),n);return t.storage.makeRequestWithTokens(r,nv).then(i=>({metadata:i,ref:t}))}function dV(t){t._throwIfRoot("getDownloadURL");const e=rV(t.storage,t._location,H1());return t.storage.makeRequestWithTokens(e,nv).then(n=>{if(n===null)throw IM();return n})}function fV(t){t._throwIfRoot("deleteObject");const e=iV(t.storage,t._location);return t.storage.makeRequestWithTokens(e,nv)}function hV(t,e){const n=KM(t._location.path,e),r=new Pr(t._location.bucket,n);return new Ra(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){return/^[A-Za-z]+:\/\//.test(t)}function mV(t,e){return new Ra(t,e)}function Q1(t,e){if(t instanceof rv){const n=t;if(n._bucket==null)throw EM();const r=new Ra(n,n._bucket);return e!=null?Q1(r,e):r}else return e!==void 0?hV(t,e):t}function gV(t,e){if(e&&pV(e)){if(t instanceof rv)return mV(t,e);throw Lg("To use ref(service, url), the first argument must be a Storage instance.")}else return Q1(t,e)}function FE(t,e){const n=e?.[M1];return n==null?null:Pr.makeFromBucketSpec(n,t)}function yV(t,e,n,r={}){t.host=`${e}:${n}`;const i=bs(e);i&&(vh(`https://${t.host}/b`),_h("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:pI(a,t.app.options.projectId))}class rv{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=L1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cM,this._maxUploadRetryTime=dM,this._requests=new Set,i!=null?this._bucket=Pr.makeFromBucketSpec(i,this._host):this._bucket=FE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pr.makeFromBucketSpec(this._url,e):this._bucket=FE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ra(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new AM(V1());{const l=VM(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const UE="@firebase/storage",jE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="storage";function iv(t,e,n){return t=Et(t),cV(t,e,n)}function sv(t){return t=Et(t),dV(t)}function ov(t){return t=Et(t),fV(t)}function $l(t,e){return t=Et(t),gV(t,e)}function vV(t=xc(),e){t=Et(t);const r=Oc(t,Y1).getImmediate({identifier:e}),i=Yg("storage");return i&&_V(r,...i),r}function _V(t,e,n,r={}){yV(t,e,n,r)}function wV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rv(n,r,i,e,ba)}function EV(){Ao(new Ts(Y1,wV,"PUBLIC").setMultipleInstances(!0)),Hr(UE,jE,""),Hr(UE,jE,"esm2017")}EV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV="type.googleapis.com/google.protobuf.Int64Value",IV="type.googleapis.com/google.protobuf.UInt64Value";function J1(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function ah(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>ah(e));if(typeof t=="function"||typeof t=="object")return J1(t,e=>ah(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Hl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case TV:case IV:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Hl(e)):typeof t=="function"||typeof t=="object"?J1(t,e=>Hl(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cr extends mi{constructor(e,n,r){super(`${av}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,cr.prototype)}}function SV(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function lh(t,e){let n=SV(t),r=n,i;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!BE[l])return new cr("internal","internal");n=BE[l],r=l}const c=a.message;typeof c=="string"&&(r=c),i=a.details,i!==void 0&&(i=Hl(i))}}catch{}return n==="ok"?null:new cr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ir(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="us-central1",AV=/^data: (.*?)(?:\n|$)/;function PV(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new cr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class CV{constructor(e,n,r,i,a=Mg,l=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new RV(e,n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Mg}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function bV(t,e,n){const r=bs(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(vh(t.emulatorOrigin),_h("Functions",!0))}function kV(t,e,n){const r=i=>xV(t,e,i,{});return r.stream=(i,a)=>DV(t,e,i,a),r}async function OV(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}async function X1(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function xV(t,e,n,r){const i=t._url(e);return NV(t,i,n,r)}async function NV(t,e,n,r){n=ah(n);const i={data:n},a=await X1(t,r),l=r.timeout||7e4,c=PV(l),f=await Promise.race([OV(e,i,a,t.fetchImpl),c.promise,t.cancelAllRequests]);if(c.cancel(),!f)throw new cr("cancelled","Firebase Functions instance was deleted.");const p=lh(f.status,f.json);if(p)throw p;if(!f.json)throw new cr("internal","Response is not valid JSON object.");let m=f.json.data;if(typeof m>"u"&&(m=f.json.result),typeof m>"u")throw new cr("internal","Response is missing data field.");return{data:Hl(m)}}function DV(t,e,n,r){const i=t._url(e);return LV(t,i,n,r||{})}async function LV(t,e,n,r){var i;n=ah(n);const a={data:n},l=await X1(t,r);l["Content-Type"]="application/json",l.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:r?.signal})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const A=new cr("cancelled","Request was cancelled.");return{data:Promise.reject(A),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(A)}}}}}}const S=lh(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let f,p;const m=new Promise((T,S)=>{f=T,p=S});(i=r?.signal)===null||i===void 0||i.addEventListener("abort",()=>{const T=new cr("cancelled","Request was cancelled.");p(T)});const y=c.body.getReader(),w=MV(y,f,p,r?.signal);return{stream:{[Symbol.asyncIterator](){const T=w.getReader();return{async next(){const{value:S,done:A}=await T.read();return{value:S,done:A}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:m}}function MV(t,e,n,r){const i=(l,c)=>{const f=l.match(AV);if(!f)return;const p=f[1];try{const m=JSON.parse(p);if("result"in m){e(Hl(m.result));return}if("message"in m){c.enqueue(Hl(m.message));return}if("error"in m){const y=lh(0,m);c.error(y),n(y);return}}catch(m){if(m instanceof cr){c.error(m),n(m);return}}},a=new TextDecoder;return new ReadableStream({start(l){let c="";return f();async function f(){if(r?.aborted){const p=new cr("cancelled","Request was cancelled");return l.error(p),n(p),Promise.resolve()}try{const{value:p,done:m}=await t.read();if(m){c.trim()&&i(c.trim(),l),l.close();return}if(r?.aborted){const w=new cr("cancelled","Request was cancelled");l.error(w),n(w),await t.cancel();return}c+=a.decode(p,{stream:!0});const y=c.split(`
`);c=y.pop()||"";for(const w of y)w.trim()&&i(w.trim(),l);return f()}catch(p){const m=p instanceof cr?p:lh(0,null);l.error(m),n(m)}}},cancel(){return t.cancel()}})}const zE="@firebase/functions",$E="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="auth-internal",FV="app-check-internal",UV="messaging-internal";function jV(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(VV),l=n.getProvider(UV),c=n.getProvider(FV);return new CV(i,a,l,c,r)};Ao(new Ts(av,e,"PUBLIC").setMultipleInstances(!0)),Hr(zE,$E,t),Hr(zE,$E,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t=xc(),e=Mg){const r=Oc(Et(t),av).getImmediate({identifier:e}),i=Yg("functions");return i&&BV(r,...i),r}function BV(t,e,n){bV(Et(t),e,n)}function eR(t,e,n){return kV(Et(t),e)}jV();const zV={apiKey:"AIzaSyBLN5zX4RT8AHIuNQjvPCdz2qXRJpjzWCs",authDomain:"sso-do.firebaseapp.com",projectId:"sso-do",storageBucket:"sso-do.appspot.com",messagingSenderId:"891505365318",appId:"1:891505365318:web:32a1ba57ca360f288c9547"},Wh=yI(zV),_f=BN(Wh),ke=U2(Wh),Wl=vV(Wh),$V=Z1(Wh,"asia-northeast3"),tR=(t,e)=>{const n=t+e;if(e>=3)return"참여 제한";if(n===0)return"공구새싹";const r=t/n*100;return r>=98&&t>=250?"공구의 신":r>=95&&t>=100?"공구왕":r>=90&&t>=30?"공구요정":r<70?"주의 요망":"공구새싹"},HV={7:{points:10,reason:"7일 연속 출석 달성!"},15:{points:25,reason:"15일 연속 출석 달성!"},30:{points:70,reason:"30일 연속 출석! (한달)"},60:{points:150,reason:"60일 연속 출석! (두달)"},100:{points:300,reason:"100일 연속 출석! 💯"},150:{points:500,reason:"150일 연속 출석! 대단해요!"}},cc={LATE_PICKED_UP:{points:-40,reason:"지각 픽업 완료"},NO_SHOW:{points:-100,reason:"노쇼 (미픽업)"},CANCEL_PENALTY:{basePoints:-20,rate:.003,maxRatePenalty:-100,reason:"예약 취소 (마감 후)"},DAILY_LOGIN:{points:1,reason:"일일 첫 로그인"},REVIEW_CREATED:{points:5,reason:"리뷰 작성"},FRIEND_INVITED:{points:100,reason:"친구 초대 성공"},COMMUNITY_PROMOTION:{points:200,reason:"커뮤니티 홍보 인증"},NEW_USER_BASE:{points:20,reason:"신규 회원 가입"},REFERRAL_BONUS_NEW_USER:{points:30,reason:"추천인 코드 입력"}},E3={"no-show-free":{points:50,reason:"미션 완료: 노쇼 없이 한 달"},"monthly-pickup":{points:30,reason:"미션 완료: 이 달의 픽업 5회"},"signup-bonus":{points:100,reason:"소도몰에 오신 것을 환영합니다!"},"first-nickname-set":{points:20,reason:"첫 닉네임 설정 완료"},"consecutive-login-3":{points:10,reason:"미션 완료: 3일 연속 출석"},"referral-count-1":{points:100,reason:"미션 완료: 첫 친구 초대"}},T3=async(t,e)=>{const n=Z1(xc(),"asia-northeast3"),r=eR(n,"claimMissionReward");try{return(await r({missionId:t,uniquePeriodId:e})).data}catch(i){if(console.error("미션 보상 요청 함수 호출 실패:",i),i.code&&i.message){const a=i.details?.message||i.message;throw new Error(a)}throw new Error("미션 보상을 요청하는 중 알 수 없는 오류가 발생했습니다.")}},I3=async(t,e,n)=>{if(!t||!n)throw new Error("사용자 ID와 조정 사유는 필수입니다.");if(e===0)throw new Error("포인트 조정 값은 0이 될 수 없습니다.");const r=ut(ke,"users",t);await qc(ke,async i=>{const a=await i.get(r);if(!a.exists())throw new Error("사용자를 찾을 수 없습니다.");const c=(a.data().points||0)+e,f=new Date,p=new Date(f.setFullYear(f.getFullYear()+1)),m={amount:e,reason:`(수동) ${n}`,createdAt:Xe.now(),expiresAt:e>0?Xe.fromDate(p):null};i.update(r,{points:c,pointHistory:Sc(m)})})},S3=async(t,e)=>{if(!t)return console.error("User ID is required to get point history."),[];const n=ut(ke,"users",t),r=await Yi(n);if(!r.exists())return console.error("User document not found for ID:",t),[];const l=(r.data().pointHistory||[]).sort((c,f)=>{const p=c.createdAt instanceof Xe?c.createdAt.toMillis():0;return(f.createdAt instanceof Xe?f.createdAt.toMillis():0)-p});return e?l.slice(0,e):l},WV=async t=>{const e=new Date().toISOString().split("T")[0],n=ut(ke,"users",t);try{await qc(ke,async r=>{const i=await r.get(n);if(!i.exists())return;const a=i.data();if(a.lastLoginDate===e)return;let l=0;const c=[];let f=a.consecutiveLoginDays||0;l+=cc.DAILY_LOGIN.points;const p=new Date;p.setFullYear(p.getFullYear()+1),c.push({amount:cc.DAILY_LOGIN.points,reason:cc.DAILY_LOGIN.reason,createdAt:Xe.now(),expiresAt:Xe.fromDate(p)});const m=new Date;m.setDate(m.getDate()-1);const y=m.toISOString().split("T")[0];a.lastLoginDate===y?f+=1:f=1;const w=HV[f];if(w){l+=w.points;const A=new Date;A.setFullYear(A.getFullYear()+1),c.push({amount:w.points,reason:w.reason,createdAt:Xe.now(),expiresAt:Xe.fromDate(A)})}const S={points:(a.points||0)+l,lastLoginDate:e,consecutiveLoginDays:f,pointHistory:Sc(...c)};r.update(n,S)})}catch(r){console.error("일일 방문 기록 오류:",r)}},R3=async t=>{const e=ut(ke,"users",t);await x1(e)},nR=L.createContext({user:null,userDocument:null,isAdmin:!1,isMaster:!1,isSuspendedUser:!1,loading:!0,logout:async()=>{},refreshUserDocument:async()=>{}}),su=()=>L.useContext(nR),qV=({children:t})=>{const[e,n]=L.useState(null),[r,i]=L.useState(null),[a,l]=L.useState(!0),c=L.useCallback(async()=>{if(_f.currentUser){const m=ut(ke,"users",_f.currentUser.uid),y=await Yi(m);y.exists()&&i(y.data())}},[]);L.useEffect(()=>{let m=null;const y=bx(_f,w=>{if(m&&m(),n(w),w){l(!0);const T=ut(ke,"users",w.uid);m=N1(T,S=>{if(S.exists()){const A={uid:S.id,...S.data()};i(A),WV(w.uid)}else i(null);l(!1)},S=>{console.error("사용자 문서 스냅샷 오류:",S),i(null),l(!1)})}else i(null),l(!1)});return()=>{y(),m&&m()}},[]);const f=L.useCallback(async()=>{try{await kx(_f)}catch(m){console.error("로그아웃 실패:",m)}},[]),p=L.useMemo(()=>{const m=r?.role==="admin"||r?.role==="master",y=r?.role==="master",w=r?.loyaltyTier==="참여 제한";return{user:e,userDocument:r,isAdmin:m,isMaster:y,isSuspendedUser:w,loading:a,logout:f,refreshUserDocument:c}},[e,r,a,f,c]);return ce.jsx(nR.Provider,{value:p,children:!a&&t})},rR=L.createContext(void 0),iR=({children:t})=>{const[e,n]=L.useState(()=>{try{const A=localStorage.getItem("cartItems");return A?JSON.parse(A).map(M=>({...M,pickupDate:M.pickupDate&&M.pickupDate.seconds!==void 0?new Xe(M.pickupDate.seconds,M.pickupDate.nanoseconds):M.pickupDate,deadlineDate:M.deadlineDate&&M.deadlineDate.seconds!==void 0?new Xe(M.deadlineDate.seconds,M.deadlineDate.nanoseconds):M.deadlineDate})):[]}catch(A){return console.error("Failed to parse cart items from localStorage",A),[]}});L.useEffect(()=>{try{localStorage.setItem("cartItems",JSON.stringify(e))}catch(A){console.error("장바구니 저장 실패:",A)}},[e]);const r=L.useMemo(()=>e.filter(A=>A.status==="RESERVATION"),[e]),i=L.useMemo(()=>e.filter(A=>A.status==="WAITLIST"),[e]),a=L.useMemo(()=>r.reduce((A,b)=>A+b.unitPrice*b.quantity,0),[r]),l=L.useMemo(()=>r.reduce((A,b)=>A+b.quantity,0),[r]),c=L.useMemo(()=>i.reduce((A,b)=>A+b.quantity,0),[i]),f=L.useMemo(()=>e.length,[e]),p=L.useCallback(A=>{n(b=>{if(A.status==="WAITLIST")return b.some(x=>x.id===A.id&&x.status==="WAITLIST")?b:[...b,A];const M=b.findIndex(x=>x.status==="RESERVATION"&&x.productId===A.productId&&x.itemId===A.itemId);if(M>-1){const x=[...b],G=x[M];return x[M]={...G,quantity:G.quantity+A.quantity},x}else return[...b,A]})},[]),m=L.useCallback((A,b)=>{n(M=>M.map(x=>x.id===A?{...x,quantity:Math.max(1,b)}:x))},[]),y=L.useCallback(A=>{const b=new Set(A);n(M=>M.filter(x=>!b.has(x.id)))},[]),w=L.useCallback(()=>{n(A=>A.filter(b=>b.status!=="RESERVATION"))},[]),T=L.useCallback(()=>{n([])},[]),S=L.useMemo(()=>({allItems:e,reservationItems:r,waitlistItems:i,addToCart:p,updateCartItemQuantity:m,removeItems:y,removeReservedItems:w,clearCart:T,reservationTotal:a,reservationItemCount:l,waitlistItemCount:c,totalItemCount:f}),[e,r,i,p,m,y,w,T,a,l,c,f]);return ce.jsx(rR.Provider,{value:S,children:t})},A3=()=>{const t=L.useContext(rR);if(t===void 0)throw new Error("useCart must be used within a CartProvider");return t},HE=(t,e,n)=>`${t}-${e}-${n}`,GV=L.createContext(void 0),KV=({children:t})=>{const[e,n]=L.useState(new Map),r=L.useCallback((c,f,p,m)=>{const y=HE(c,f,p);n(w=>{const T=new Map(w);return m>0?T.set(y,m):T.delete(y),T})},[]),i=L.useCallback((c,f,p)=>{const m=HE(c,f,p);return e.get(m)||0},[e]),a=L.useCallback(()=>{n(new Map)},[]),l=L.useMemo(()=>({selections:e,updateSelectionQuantity:r,getSelectionQuantity:i,clearSelections:a}),[e,r,i,a]);return ce.jsx(GV.Provider,{value:l,children:t})},Rn=[];for(let t=0;t<256;++t)Rn.push((t+256).toString(16).slice(1));function QV(t,e=0){return(Rn[t[e+0]]+Rn[t[e+1]]+Rn[t[e+2]]+Rn[t[e+3]]+"-"+Rn[t[e+4]]+Rn[t[e+5]]+"-"+Rn[t[e+6]]+Rn[t[e+7]]+"-"+Rn[t[e+8]]+Rn[t[e+9]]+"-"+Rn[t[e+10]]+Rn[t[e+11]]+Rn[t[e+12]]+Rn[t[e+13]]+Rn[t[e+14]]+Rn[t[e+15]]).toLowerCase()}let Wm;const YV=new Uint8Array(16);function JV(){if(!Wm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Wm=crypto.getRandomValues.bind(crypto)}return Wm(YV)}const XV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),WE={randomUUID:XV};function ZV(t,e,n){if(WE.randomUUID&&!t)return WE.randomUUID();t=t||{};const r=t.random??t.rng?.()??JV();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,QV(r)}const sR=async(t,e)=>{const n=t.map(r=>{const i=$l(Wl,`${e}/${ZV()}-${r.name}`);return iv(i,r).then(a=>sv(a.ref))});return Promise.all(n)},P3=async()=>{const t=Gn(Qn(ke,"categories"));return(await gi(t)).docs.map(r=>({id:r.id,...r.data()})).sort((r,i)=>{const a=r.order??1/0,l=i.order??1/0;return a!==l?a-l:r.name.localeCompare(i.name)})},C3=async t=>{await Yy(Qn(ke,"categories"),t)},b3=async(t,e)=>{const n=ut(ke,"categories",t);await Wr(n,e)},k3=async t=>{const e=jo(ke);t.forEach((n,r)=>{const i=ut(ke,"categories",n.id);e.update(i,{order:r})}),await e.commit()},O3=async(t,e)=>{const n=jo(ke),r=ut(ke,"categories",t);n.delete(r);const i=Gn(Qn(ke,"products"),Ar("category","==",e));(await gi(i)).forEach(l=>{const c=ut(ke,"products",l.id);n.update(c,{category:""})}),await n.commit()},x3=async()=>{const t=Gn(Qn(ke,"products"),Ar("isArchived","==",!1)),e=await gi(t),n={};return e.docs.forEach(r=>{const a=r.data().category||"__UNASSIGNED__";n[a]=(n[a]||0)+1}),n},N3=async()=>{const t=Gn(Qn(ke,"banners"),Ar("isActive","==",!0),Bl("order","asc"));return(await gi(t)).docs.map(n=>({id:n.id,...n.data()}))},oR="main",D3=async()=>{const t=ut(ke,"storeInfo",oR),e=await Z2(t);return e.exists()?e.data():null},L3=async t=>{const e=ut(ke,"storeInfo",oR);await eM(e,t,{merge:!0})},e4=(t=6)=>{const e="ABCDEFGHIJKLMNPQRSTUVWXYZ123456789";let n="";for(let r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return`SODO${n}`},M3=async(t,e)=>{const n=ut(ke,"users",t.uid),r=e?.kakao_account,i=r?.phone_number?.replace(/-/g,"")||null,a=i?i.slice(-4):void 0;await qc(ke,async l=>{const c=await l.get(n);if(c.exists()){const f=c.data(),p={lastLoginDate:new Date().toISOString().split("T")[0],photoURL:t.photoURL||f.photoURL,displayName:t.displayName||f.displayName,email:t.email||f.email};f.referredBy===void 0&&(p.referredBy=null),i&&f.phone!==i?(p.phone=i,p.phoneLast4=a):!f.phoneLast4&&a&&(p.phoneLast4=a),l.update(n,p)}else{const f=cc.NEW_USER_BASE.points,p=cc.NEW_USER_BASE.reason,m=new Date,y=new Date(m.setFullYear(m.getFullYear()+1)),w={amount:f,reason:p,createdAt:Xe.now(),expiresAt:Xe.fromDate(y)},T={uid:t.uid,email:t.email,displayName:t.displayName,phone:i,phoneLast4:a,photoURL:t.photoURL,role:"customer",createdAt:D1(),points:f,loyaltyTier:"공구새싹",pickupCount:0,noShowCount:0,lastLoginDate:new Date().toISOString().split("T")[0],isSuspended:!1,gender:r?.gender||null,ageRange:r?.age_range||null,pointHistory:[w],referralCode:e4(),referredBy:null,nickname:"",nicknameChanged:!1,hasCompletedTutorial:!1};l.set(n,T)}})},V3=async t=>{if(!t)throw new Error("초대 코드를 입력해주세요.");const e=eR($V,"processReferralCode");try{return(await e({code:t})).data.message}catch(n){throw console.error("Cloud Function 호출 오류:",n),new Error(n.message||"초대 코드 적용에 실패했습니다.")}},t4=async t=>{const e=await Yi(ut(ke,"users",t));return e.exists()?e.data():null},F3=async(t,e)=>{if(!t||!e)throw new Error("사용자 ID와 새로운 역할은 필수입니다.");const n=ut(ke,"users",t);await Wr(n,{role:e})},U3=async(t,e,n)=>{if(e<0||n<0)throw new Error("횟수는 0 이상이어야 합니다.");const r=ut(ke,"users",t),i=tR(e,n);await Wr(r,{pickupCount:e,noShowCount:n,loyaltyTier:i,manualTier:null})},j3=async(t,e)=>{const n=ut(ke,"users",t);if(e)await Wr(n,{manualTier:e,loyaltyTier:e});else{const r=await Yi(n);if(r.exists()){const i=r.data(),a=tR(i.pickupCount||0,i.noShowCount||0);await Wr(n,{manualTier:null,loyaltyTier:a})}}},B3=async()=>{try{const t=Qn(ke,"users");return(await gi(Gn(t))).docs.map(r=>({uid:r.id,...r.data()}))}catch(t){throw console.error("Error fetching all users:",t),new Error("전체 사용자 목록을 가져오는데 실패했습니다.")}},z3=async t=>{if(!t)return[];const e=Qn(ke,"products"),n=Gn(e,Ar("groupName",">=",t),Ar("groupName","<=",t+""),zl(10));return(await gi(n)).docs.map(i=>({id:i.id,...i.data()}))},$3=async(t,e,n,r)=>{const i=await sR(n,"products"),a=Xe.fromDate(r),l={...t,imageUrls:i,isArchived:!1,createdAt:a,salesHistory:[{...e,roundId:`round-${Date.now()}`,createdAt:a,waitlist:[],waitlistCount:0}]};return(await Yy(Qn(ke,"products"),l)).id},H3=async(t,e)=>{const n=ut(ke,"products",t),r={...e,roundId:`round-${Date.now()}`,createdAt:Xe.now(),waitlist:[],waitlistCount:0,allowedTiers:e.allowedTiers||[]};await Wr(n,{salesHistory:Sc(r)})},W3=async(t,e,n)=>{const r=ut(ke,"products",t);await qc(ke,async i=>{const a=await i.get(r);if(!a.exists())throw new Error("상품을 찾을 수 없습니다.");const c=a.data().salesHistory.map(f=>{if(f.roundId===e){const p={...f,...n};return"allowedTiers"in n&&(p.allowedTiers=n.allowedTiers||[]),p}return f});i.update(r,{salesHistory:c})})},q3=async(t,e,n,r,i)=>{const a=ut(ke,"products",t);let l=r;if(n.length>0){const p=await sR(n,"products");l=[...l,...p]}const f=i.filter(p=>!r.includes(p)).map(p=>{try{const m=$l(Wl,p);return Promise.resolve(ov(m))}catch(m){return console.warn(`이미지 삭제 실패 (URL: ${p}):`,m),Promise.resolve()}});await Promise.all(f),await Wr(a,{...e,imageUrls:l})},n4=async(t,e)=>{const n=ut(ke,"products",t),r=ut(ke,"users",e),i=jo(ke);i.update(n,{encoreCount:aM(1),encoreRequesterIds:Sc(e)}),i.update(r,{encoreRequestedProductIds:Sc(t)}),await i.commit()},r4=async t=>{const e=ut(ke,"products",t),n=await Yi(e);return n.exists()?{id:n.id,...n.data()}:null},G3=async(t=!1,e=10,n=null)=>{let r=Gn(Qn(ke,"products"),Ar("isArchived","==",t),Bl("createdAt","desc"),zl(e));n&&(r=Gn(Qn(ke,"products"),Ar("isArchived","==",t),Bl("createdAt","desc"),b1(n),zl(e)));const i=await gi(r),a=i.docs.map(c=>({id:c.id,...c.data()})),l=i.docs[i.docs.length-1]||null;return{products:a,lastVisible:l}},K3=async t=>{const e=jo(ke),n=new Map;for(const r of t)if(!n.has(r.productId)){const i=ut(ke,"products",r.productId),a=await Yi(i);a.exists()&&n.set(r.productId,{productRef:i,productData:a.data()})}for(const r of t){const i=n.get(r.productId);if(!i)continue;const{productData:a}=i,l=a.salesHistory.map(c=>{if(c.roundId===r.roundId){const f=c.variantGroups.map(p=>p.id===r.variantGroupId?{...p,totalPhysicalStock:r.newStock}:p);return{...c,variantGroups:f}}return c});a.salesHistory=l}for(const{productRef:r,productData:i}of n.values())e.update(r,{salesHistory:i.salesHistory});await e.commit()},Q3=async(t,e,n=null)=>{const r=Qn(ke,"products");let i;t===null?i=Gn(r,Ar("category","in",["",null]),Ar("isArchived","==",!1)):i=Gn(r,Ar("category","==",t),Ar("isArchived","==",!1));const l=(await tM(i)).data().count;let c=Gn(i,Bl("groupName"),zl(e));n&&(c=Gn(i,Bl("groupName"),b1(n),zl(e)));const f=await gi(c),p=f.docs.map(y=>({id:y.id,...y.data()})),m=f.docs[f.docs.length-1]||null;return{products:p,lastDoc:m,totalCount:l}},Y3=async(t,e)=>{const n=jo(ke),r=e===null?"":e;t.forEach(i=>{const a=ut(ke,"products",i);n.update(a,{category:r})}),await n.commit()},J3=async t=>{const e=jo(ke),n=new Map;for(const r of t)if(!n.has(r.productId)){const i=ut(ke,"products",r.productId),a=await Yi(i);a.exists()&&n.set(r.productId,{productRef:i,productData:a.data()})}for(const r of t){const i=n.get(r.productId);if(!i)continue;const{productData:a}=i,l=a.salesHistory.map(c=>c.roundId===r.roundId?{...c,status:r.newStatus}:c);a.salesHistory=l}for(const{productRef:r,productData:i}of n.values())e.update(r,{salesHistory:i.salesHistory});await e.commit()},X3=async t=>{const e=jo(ke),n=new Map;for(const{productId:r,roundId:i}of t)n.has(r)||n.set(r,{roundsToDelete:new Set}),n.get(r).roundsToDelete.add(i);for(const[r,{roundsToDelete:i}]of n.entries()){const a=ut(ke,"products",r);try{const l=await Yi(a);if(l.exists()){const f=l.data().salesHistory.filter(p=>!i.has(p.roundId));e.update(a,{salesHistory:f})}}catch(l){console.error(`판매 회차 삭제를 위해 상품(${r}) 처리 중 오류:`,l)}}await e.commit()},Z3=async t=>{if(!t)return[];const e=await gi(Gn(Qn(ke,"products"),Ar("isArchived","==",!1))),n=[];return e.docs.forEach(r=>{const i={id:r.id,...r.data()};(i.salesHistory||[]).forEach(a=>{a.waitlist&&a.waitlist.length>0&&[...a.waitlist].sort((c,f)=>{if(c.isPrioritized&&!f.isPrioritized)return-1;if(!c.isPrioritized&&f.isPrioritized)return 1;if(c.isPrioritized&&f.isPrioritized){const p=c.prioritizedAt?.toMillis()||0,m=f.prioritizedAt?.toMillis()||0;return p-m}return c.timestamp.toMillis()-f.timestamp.toMillis()}).forEach((c,f)=>{if(c.userId===t){const p=a.variantGroups.find(y=>y.id===c.variantGroupId),m=p?.items.find(y=>y.id===c.itemId);n.push({productId:i.id,productName:i.groupName,roundId:a.roundId,roundName:a.roundName,variantGroupId:c.variantGroupId,itemId:c.itemId,itemName:`${p?.groupName||""} - ${m?.name||""}`.replace(/^ - | - $/g,"")||"옵션 정보 없음",imageUrl:i.imageUrls[0]||"",quantity:c.quantity,timestamp:c.timestamp,isPrioritized:c.isPrioritized||!1,waitlistOrder:f+1,prioritizedAt:c.prioritizedAt||null})}})})}),n.sort((r,i)=>i.timestamp.toMillis()-r.timestamp.toMillis())},e6=async(t,e,n,r)=>{const i=ut(ke,"products",t);await qc(ke,async a=>{const l=await a.get(i);if(!l.exists())throw new Error("상품을 찾을 수 없습니다.");const f=[...l.data().salesHistory],p=f.findIndex(w=>w.roundId===e);if(p===-1)throw new Error("판매 회차를 찾을 수 없습니다.");const m=f[p];if(!m.waitlist)return;const y=m.waitlist.find(w=>w.userId===n&&w.itemId===r);y&&(m.waitlist=m.waitlist.filter(w=>!(w.userId===n&&w.itemId===r)),m.waitlistCount=(m.waitlistCount||0)-y.quantity,f[p]=m,a.update(i,{salesHistory:f}))})},t6=async(t,e)=>{const n=await r4(t);if(!n)throw new Error("상품 정보를 찾을 수 없습니다.");const r=n.salesHistory.find(l=>l.roundId===e);if(!r||!r.waitlist)return[];const i=[...r.waitlist].sort((l,c)=>l.isPrioritized&&!c.isPrioritized?-1:!l.isPrioritized&&c.isPrioritized?1:l.timestamp.toMillis()-c.timestamp.toMillis());return await Promise.all(i.map(async l=>{const c=await t4(l.userId),f=r.variantGroups.find(m=>m.id===l.variantGroupId),p=f?.items.find(m=>m.id===l.itemId);return{productId:n.id,productName:n.groupName,roundId:r.roundId,roundName:r.roundName,itemName:`${f?.groupName||""} - ${p?.name||""}`.replace(/^ - | - $/g,"")||"옵션 정보 없음",imageUrl:n.imageUrls[0]||"",userName:c?.displayName||"알 수 없음",...l}}))},n6=async t=>{if(t.length===0)return[];const e=[];for(let a=0;a<t.length;a+=30)e.push(t.slice(a,a+30));const n=e.map(a=>{const l=Gn(Qn(ke,"products"),Ar("__name__","in",a));return gi(l)}),r=await Promise.all(n),i=[];return r.forEach(a=>{a.forEach(l=>{i.push({id:l.id,...l.data()})})}),i},qE=Qn(ke,"banners"),r6=async(t,e)=>{const n=$l(Wl,`banners/${Date.now()}_${e.name}`);await iv(n,e);const r=await sv(n),a=(await gi(qE)).size;await Yy(qE,{...t,imageUrl:r,order:a,createdAt:D1()})},i6=async(t,e,n)=>{const r=ut(ke,"banners",t),i=await Yi(r);if(!i.exists())throw new Error("수정할 배너를 찾을 수 없습니다.");let a=i.data().imageUrl;if(n){const c=$l(Wl,`banners/${Date.now()}_${n.name}`);await iv(c,n),a=await sv(c);const f=i.data().imageUrl;if(f)try{const p=$l(Wl,f);await ov(p)}catch(p){p.code!=="storage/object-not-found"&&console.error("기존 이미지 삭제 실패:",p)}}const l={...e,imageUrl:a};delete l.createdAt,await Wr(r,l)},s6=async t=>{const e=ut(ke,"banners",t),i=(await Yi(e)).data()?.imageUrl;if(await x1(e),i){const a=$l(Wl,i);try{await ov(a)}catch(l){if(l.code==="storage/object-not-found")console.warn("삭제할 이미지가 Storage에 없습니다:",i);else throw console.error("Storage 이미지 삭제 오류:",l),new Error("Firestore 데이터는 삭제되었으나, 이미지 파일 삭제에 실패했습니다.")}}},o6=async(t,e)=>{const n=ut(ke,"banners",t);await Wr(n,{isActive:e})},aR=L.createContext(void 0),i4=({children:t})=>{const{user:e,userDocument:n,refreshUserDocument:r}=su(),[i,a]=L.useState(!1),l=L.useCallback(p=>n?.encoreRequestedProductIds?.includes(p)||!1,[n]),c=L.useCallback(async p=>{if(!e||!n)throw new Error("앵콜 요청을 하려면 로그인이 필요합니다.");if(!l(p)){a(!0);try{await n4(p,e.uid),await r()}catch(m){throw console.error("앵콜 요청 실패:",m),new Error("앵콜 요청에 실패했습니다. 다시 시도해 주세요.")}finally{a(!1)}}},[e,n,l,r]),f=L.useMemo(()=>({hasRequestedEncore:l,requestEncore:c,loading:i}),[l,c,i]);return ce.jsx(aR.Provider,{value:f,children:t})},a6=()=>{const t=L.useContext(aR);if(t===void 0)throw new Error("useEncoreRequest must be used within a EncoreRequestProvider");return t},lR=L.createContext(void 0),s4=({children:t})=>{const{user:e}=su(),[n,r]=L.useState([]),[i,a]=L.useState(0),[l,c]=L.useState(!0),f=L.useRef(null);L.useEffect(()=>{if(e?.uid){f.current&&f.current(),c(!0);const w=Qn(ke,"users",e.uid,"notifications"),T=Gn(w,Bl("timestamp","desc"),zl(50)),S=N1(T,A=>{const b=[];let M=0;A.forEach(x=>{const G=x.data();b.push({id:x.id,...G}),G.read||M++}),r(b),a(M),c(!1)},A=>{console.error("알림 실시간 감지 중 오류:",A),c(!1)});f.current=S}else f.current&&(f.current(),f.current=null),r([]),a(0),c(!1);return()=>{f.current&&(f.current(),f.current=null)}},[e]);const p=L.useCallback(async w=>{if(!e)return;const T=ut(ke,"users",e.uid,"notifications",w);try{await Wr(T,{read:!0})}catch(S){console.error("알림을 읽음 처리하는 중 오류 발생:",S)}},[e]),m=L.useCallback(async()=>{if(!e||i===0)return;const w=jo(ke);n.forEach(T=>{if(!T.read){const S=ut(ke,"users",e.uid,"notifications",T.id);w.update(S,{read:!0})}});try{await w.commit()}catch(T){console.error("알림 읽음 처리 중 오류 발생:",T)}},[e,i,n]),y={notifications:n,unreadCount:i,loading:l,markAllAsRead:m,markOneAsRead:p};return ce.jsx(lR.Provider,{value:y,children:t})},l6=()=>{const t=L.useContext(lR);if(t===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return t},uR=L.createContext(void 0),o4=()=>{const t=L.useContext(uR);if(!t)throw new Error("useTutorial must be used within a TutorialProvider");return t},cR=({children:t})=>{const{user:e,userDocument:n}=su(),[r,i]=L.useState([]),[a,l]=L.useState("initial"),[c,f]=L.useState(!1),p=L.useCallback((T,S="default")=>{window.scrollTo(0,0),l(`${S}-${Date.now()}`),i(T),f(!0)},[]),m=L.useCallback(()=>{i([]),f(!1)},[]),y=L.useCallback(async(T,S)=>{const A=n?.tutorialProgress||{};if(e?.uid&&!A[T]){setTimeout(()=>{p(S,T)},300);const b={...A,[T]:!0};try{const M=ut(ke,"users",e.uid);await Wr(M,{tutorialProgress:b})}catch(M){console.error("페이지 튜토리얼 진행 상태 업데이트 실패:",M)}}},[e,n,p]),w={isTourRunning:c,startTour:p,stopTour:m,runPageTourIfFirstTime:y};return ce.jsx(uR.Provider,{value:w,children:t(r,a)})},a4={isPreLaunch:!1,launchDate:"2025-08-11"},dR=L.createContext(void 0),fR=({children:t})=>ce.jsx(dR.Provider,{value:a4,children:t}),u6=()=>{const t=L.useContext(dR);if(t===void 0)throw new Error("useLaunch must be used within a LaunchProvider");return t};function hR(t){return e=>typeof e===t}var l4=hR("function"),u4=t=>t===null,GE=t=>Object.prototype.toString.call(t).slice(8,-1)==="RegExp",KE=t=>!c4(t)&&!u4(t)&&(l4(t)||typeof t=="object"),c4=hR("undefined");function d4(t,e){const{length:n}=t;if(n!==e.length)return!1;for(let r=n;r--!==0;)if(!Kn(t[r],e[r]))return!1;return!0}function f4(t,e){if(t.byteLength!==e.byteLength)return!1;const n=new DataView(t.buffer),r=new DataView(e.buffer);let i=t.byteLength;for(;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function h4(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;for(const n of t.entries())if(!Kn(n[1],e.get(n[0])))return!1;return!0}function p4(t,e){if(t.size!==e.size)return!1;for(const n of t.entries())if(!e.has(n[0]))return!1;return!0}function Kn(t,e){if(t===e)return!0;if(t&&KE(t)&&e&&KE(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return d4(t,e);if(t instanceof Map&&e instanceof Map)return h4(t,e);if(t instanceof Set&&e instanceof Set)return p4(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return f4(t,e);if(GE(t)&&GE(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(let i=n.length;i--!==0;){const a=n[i];if(!(a==="_owner"&&t.$$typeof)&&!Kn(t[a],e[a]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}var m4=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],g4=["bigint","boolean","null","number","string","symbol","undefined"];function qh(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(y4(e))return e}function yi(t){return e=>qh(e)===t}function y4(t){return m4.includes(t)}function ou(t){return e=>typeof e===t}function v4(t){return g4.includes(t)}var _4=["innerHTML","ownerDocument","style","attributes","nodeValue"];function Ee(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(Ee.array(t))return"Array";if(Ee.plainFunction(t))return"Function";const e=qh(t);return e||"Object"}Ee.array=Array.isArray;Ee.arrayOf=(t,e)=>!Ee.array(t)&&!Ee.function(e)?!1:t.every(n=>e(n));Ee.asyncGeneratorFunction=t=>qh(t)==="AsyncGeneratorFunction";Ee.asyncFunction=yi("AsyncFunction");Ee.bigint=ou("bigint");Ee.boolean=t=>t===!0||t===!1;Ee.date=yi("Date");Ee.defined=t=>!Ee.undefined(t);Ee.domElement=t=>Ee.object(t)&&!Ee.plainObject(t)&&t.nodeType===1&&Ee.string(t.nodeName)&&_4.every(e=>e in t);Ee.empty=t=>Ee.string(t)&&t.length===0||Ee.array(t)&&t.length===0||Ee.object(t)&&!Ee.map(t)&&!Ee.set(t)&&Object.keys(t).length===0||Ee.set(t)&&t.size===0||Ee.map(t)&&t.size===0;Ee.error=yi("Error");Ee.function=ou("function");Ee.generator=t=>Ee.iterable(t)&&Ee.function(t.next)&&Ee.function(t.throw);Ee.generatorFunction=yi("GeneratorFunction");Ee.instanceOf=(t,e)=>!t||!e?!1:Object.getPrototypeOf(t)===e.prototype;Ee.iterable=t=>!Ee.nullOrUndefined(t)&&Ee.function(t[Symbol.iterator]);Ee.map=yi("Map");Ee.nan=t=>Number.isNaN(t);Ee.null=t=>t===null;Ee.nullOrUndefined=t=>Ee.null(t)||Ee.undefined(t);Ee.number=t=>ou("number")(t)&&!Ee.nan(t);Ee.numericString=t=>Ee.string(t)&&t.length>0&&!Number.isNaN(Number(t));Ee.object=t=>!Ee.nullOrUndefined(t)&&(Ee.function(t)||typeof t=="object");Ee.oneOf=(t,e)=>Ee.array(t)?t.indexOf(e)>-1:!1;Ee.plainFunction=yi("Function");Ee.plainObject=t=>{if(qh(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};Ee.primitive=t=>Ee.null(t)||v4(typeof t);Ee.promise=yi("Promise");Ee.propertyOf=(t,e,n)=>{if(!Ee.object(t)||!e)return!1;const r=t[e];return Ee.function(n)?n(r):Ee.defined(r)};Ee.regexp=yi("RegExp");Ee.set=yi("Set");Ee.string=ou("string");Ee.symbol=ou("symbol");Ee.undefined=ou("undefined");Ee.weakMap=yi("WeakMap");Ee.weakSet=yi("WeakSet");var Pe=Ee;function w4(...t){return t.every(e=>Pe.string(e)||Pe.array(e)||Pe.plainObject(e))}function E4(t,e,n){return pR(t,e)?[t,e].every(Pe.array)?!t.some(ZE(n))&&e.some(ZE(n)):[t,e].every(Pe.plainObject)?!Object.entries(t).some(XE(n))&&Object.entries(e).some(XE(n)):e===n:!1}function QE(t,e,n){const{actual:r,key:i,previous:a,type:l}=n,c=Ui(t,i),f=Ui(e,i);let p=[c,f].every(Pe.number)&&(l==="increased"?c<f:c>f);return Pe.undefined(r)||(p=p&&f===r),Pe.undefined(a)||(p=p&&c===a),p}function YE(t,e,n){const{key:r,type:i,value:a}=n,l=Ui(t,r),c=Ui(e,r),f=i==="added"?l:c,p=i==="added"?c:l;if(!Pe.nullOrUndefined(a)){if(Pe.defined(f)){if(Pe.array(f)||Pe.plainObject(f))return E4(f,p,a)}else return Kn(p,a);return!1}return[l,c].every(Pe.array)?!p.every(lv(f)):[l,c].every(Pe.plainObject)?T4(Object.keys(f),Object.keys(p)):![l,c].every(m=>Pe.primitive(m)&&Pe.defined(m))&&(i==="added"?!Pe.defined(l)&&Pe.defined(c):Pe.defined(l)&&!Pe.defined(c))}function JE(t,e,{key:n}={}){let r=Ui(t,n),i=Ui(e,n);if(!pR(r,i))throw new TypeError("Inputs have different types");if(!w4(r,i))throw new TypeError("Inputs don't have length");return[r,i].every(Pe.plainObject)&&(r=Object.keys(r),i=Object.keys(i)),[r,i]}function XE(t){return([e,n])=>Pe.array(t)?Kn(t,n)||t.some(r=>Kn(r,n)||Pe.array(n)&&lv(n)(r)):Pe.plainObject(t)&&t[e]?!!t[e]&&Kn(t[e],n):Kn(t,n)}function T4(t,e){return e.some(n=>!t.includes(n))}function ZE(t){return e=>Pe.array(t)?t.some(n=>Kn(n,e)||Pe.array(e)&&lv(e)(n)):Kn(t,e)}function qu(t,e){return Pe.array(t)?t.some(n=>Kn(n,e)):Kn(t,e)}function lv(t){return e=>t.some(n=>Kn(n,e))}function pR(...t){return t.every(Pe.array)||t.every(Pe.number)||t.every(Pe.plainObject)||t.every(Pe.string)}function Ui(t,e){return Pe.plainObject(t)||Pe.array(t)?Pe.string(e)?e.split(".").reduce((r,i)=>r&&r[i],t):Pe.number(e)?t[e]:t:t}function uh(t,e){if([t,e].some(Pe.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(m=>Pe.plainObject(m)||Pe.array(m)))throw new Error("Expected plain objects or array");return{added:(m,y)=>{try{return YE(t,e,{key:m,type:"added",value:y})}catch{return!1}},changed:(m,y,w)=>{try{const T=Ui(t,m),S=Ui(e,m),A=Pe.defined(y),b=Pe.defined(w);if(A||b){const M=b?qu(w,T):!qu(y,T),x=qu(y,S);return M&&x}return[T,S].every(Pe.array)||[T,S].every(Pe.plainObject)?!Kn(T,S):T!==S}catch{return!1}},changedFrom:(m,y,w)=>{if(!Pe.defined(m))return!1;try{const T=Ui(t,m),S=Ui(e,m),A=Pe.defined(w);return qu(y,T)&&(A?qu(w,S):!A)}catch{return!1}},decreased:(m,y,w)=>{if(!Pe.defined(m))return!1;try{return QE(t,e,{key:m,actual:y,previous:w,type:"decreased"})}catch{return!1}},emptied:m=>{try{const[y,w]=JE(t,e,{key:m});return!!y.length&&!w.length}catch{return!1}},filled:m=>{try{const[y,w]=JE(t,e,{key:m});return!y.length&&!!w.length}catch{return!1}},increased:(m,y,w)=>{if(!Pe.defined(m))return!1;try{return QE(t,e,{key:m,actual:y,previous:w,type:"increased"})}catch{return!1}},removed:(m,y)=>{try{return YE(t,e,{key:m,type:"removed",value:y})}catch{return!1}}}}var qm,eT;function I4(){if(eT)return qm;eT=1;var t=new Error("Element already at target scroll position"),e=new Error("Scroll cancelled"),n=Math.min,r=Date.now;qm={left:i("scrollLeft"),top:i("scrollTop")};function i(c){return function(p,m,y,w){y=y||{},typeof y=="function"&&(w=y,y={}),typeof w!="function"&&(w=l);var T=r(),S=p[c],A=y.ease||a,b=isNaN(y.duration)?350:+y.duration,M=!1;return S===m?w(t,p[c]):requestAnimationFrame(G),x;function x(){M=!0}function G(ee){if(M)return w(e,p[c]);var ue=r(),fe=n(1,(ue-T)/b),R=A(fe);p[c]=R*(m-S)+S,fe<1?requestAnimationFrame(G):requestAnimationFrame(function(){w(null,p[c])})}}}function a(c){return .5*(1-Math.cos(Math.PI*c))}function l(){}return qm}var S4=I4();const R4=Gi(S4);var Df={exports:{}},A4=Df.exports,tT;function P4(){return tT||(tT=1,function(t){(function(e,n){t.exports?t.exports=n():e.Scrollparent=n()})(A4,function(){function e(r){var i=getComputedStyle(r,null).getPropertyValue("overflow");return i.indexOf("scroll")>-1||i.indexOf("auto")>-1}function n(r){if(r instanceof HTMLElement||r instanceof SVGElement){for(var i=r.parentNode;i.parentNode;){if(e(i))return i;i=i.parentNode}return document.scrollingElement||document.documentElement}}return n})}(Df)),Df.exports}var C4=P4();const mR=Gi(C4);var Gm,nT;function b4(){if(nT)return Gm;nT=1;var t=function(r){return Object.prototype.hasOwnProperty.call(r,"props")},e=function(r,i){return r+n(i)},n=function(r){return r===null||typeof r=="boolean"||typeof r>"u"?"":typeof r=="number"?r.toString():typeof r=="string"?r:Array.isArray(r)?r.reduce(e,""):t(r)&&Object.prototype.hasOwnProperty.call(r.props,"children")?n(r.props.children):""};return n.default=n,Gm=n,Gm}var k4=b4();const rT=Gi(k4);var Km,iT;function O4(){if(iT)return Km;iT=1;var t=function(x){return e(x)&&!n(x)};function e(M){return!!M&&typeof M=="object"}function n(M){var x=Object.prototype.toString.call(M);return x==="[object RegExp]"||x==="[object Date]"||a(M)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function a(M){return M.$$typeof===i}function l(M){return Array.isArray(M)?[]:{}}function c(M,x){return x.clone!==!1&&x.isMergeableObject(M)?A(l(M),M,x):M}function f(M,x,G){return M.concat(x).map(function(ee){return c(ee,G)})}function p(M,x){if(!x.customMerge)return A;var G=x.customMerge(M);return typeof G=="function"?G:A}function m(M){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(M).filter(function(x){return Object.propertyIsEnumerable.call(M,x)}):[]}function y(M){return Object.keys(M).concat(m(M))}function w(M,x){try{return x in M}catch{return!1}}function T(M,x){return w(M,x)&&!(Object.hasOwnProperty.call(M,x)&&Object.propertyIsEnumerable.call(M,x))}function S(M,x,G){var ee={};return G.isMergeableObject(M)&&y(M).forEach(function(ue){ee[ue]=c(M[ue],G)}),y(x).forEach(function(ue){T(M,ue)||(w(M,ue)&&G.isMergeableObject(x[ue])?ee[ue]=p(ue,G)(M[ue],x[ue],G):ee[ue]=c(x[ue],G))}),ee}function A(M,x,G){G=G||{},G.arrayMerge=G.arrayMerge||f,G.isMergeableObject=G.isMergeableObject||t,G.cloneUnlessOtherwiseSpecified=c;var ee=Array.isArray(x),ue=Array.isArray(M),fe=ee===ue;return fe?ee?G.arrayMerge(M,x,G):S(M,x,G):c(x,G)}A.all=function(x,G){if(!Array.isArray(x))throw new Error("first argument should be an array");return x.reduce(function(ee,ue){return A(ee,ue,G)},{})};var b=A;return Km=b,Km}var x4=O4();const fi=Gi(x4);var Qm={exports:{}},Ym,sT;function N4(){if(sT)return Ym;sT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ym=t,Ym}var Jm,oT;function D4(){if(oT)return Jm;oT=1;var t=N4();function e(){}function n(){}return n.resetWarningCache=e,Jm=function(){function r(l,c,f,p,m,y){if(y!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},Jm}var aT;function L4(){return aT||(aT=1,Qm.exports=D4()()),Qm.exports}var M4=L4();const de=Gi(M4);/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Gc=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",V4=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(Gc&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();function F4(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function U4(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},V4))}}var j4=Gc&&window.Promise,B4=j4?F4:U4;function gR(t){var e={};return t&&e.toString.call(t)==="[object Function]"}function Da(t,e){if(t.nodeType!==1)return[];var n=t.ownerDocument.defaultView,r=n.getComputedStyle(t,null);return e?r[e]:r}function uv(t){return t.nodeName==="HTML"?t:t.parentNode||t.host}function Kc(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=Da(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?t:Kc(uv(t))}function yR(t){return t&&t.referenceNode?t.referenceNode:t}var lT=Gc&&!!(window.MSInputMethodContext&&document.documentMode),uT=Gc&&/MSIE 10/.test(navigator.userAgent);function au(t){return t===11?lT:t===10?uT:lT||uT}function ql(t){if(!t)return document.documentElement;for(var e=au(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return!r||r==="BODY"||r==="HTML"?t?t.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&Da(n,"position")==="static"?ql(n):n}function z4(t){var e=t.nodeName;return e==="BODY"?!1:e==="HTML"||ql(t.firstElementChild)===t}function Vg(t){return t.parentNode!==null?Vg(t.parentNode):t}function ch(t,e){if(!t||!t.nodeType||!e||!e.nodeType)return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var l=a.commonAncestorContainer;if(t!==l&&e!==l||r.contains(i))return z4(l)?l:ql(l);var c=Vg(t);return c.host?ch(c.host,e):ch(t,Vg(e).host)}function Gl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",n=e==="top"?"scrollTop":"scrollLeft",r=t.nodeName;if(r==="BODY"||r==="HTML"){var i=t.ownerDocument.documentElement,a=t.ownerDocument.scrollingElement||i;return a[n]}return t[n]}function $4(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Gl(e,"top"),i=Gl(e,"left"),a=n?-1:1;return t.top+=r*a,t.bottom+=r*a,t.left+=i*a,t.right+=i*a,t}function cT(t,e){var n=e==="x"?"Left":"Top",r=n==="Left"?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function dT(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],au(10)?parseInt(n["offset"+t])+parseInt(r["margin"+(t==="Height"?"Top":"Left")])+parseInt(r["margin"+(t==="Height"?"Bottom":"Right")]):0)}function vR(t){var e=t.body,n=t.documentElement,r=au(10)&&getComputedStyle(n);return{height:dT("Height",e,n,r),width:dT("Width",e,n,r)}}var H4=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},W4=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Kl=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},$r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Do(t){return $r({},t,{right:t.left+t.width,bottom:t.top+t.height})}function Fg(t){var e={};try{if(au(10)){e=t.getBoundingClientRect();var n=Gl(t,"top"),r=Gl(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch{}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},a=t.nodeName==="HTML"?vR(t.ownerDocument):{},l=a.width||t.clientWidth||i.width,c=a.height||t.clientHeight||i.height,f=t.offsetWidth-l,p=t.offsetHeight-c;if(f||p){var m=Da(t);f-=cT(m,"x"),p-=cT(m,"y"),i.width-=f,i.height-=p}return Do(i)}function cv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=au(10),i=e.nodeName==="HTML",a=Fg(t),l=Fg(e),c=Kc(t),f=Da(e),p=parseFloat(f.borderTopWidth),m=parseFloat(f.borderLeftWidth);n&&i&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var y=Do({top:a.top-l.top-p,left:a.left-l.left-m,width:a.width,height:a.height});if(y.marginTop=0,y.marginLeft=0,!r&&i){var w=parseFloat(f.marginTop),T=parseFloat(f.marginLeft);y.top-=p-w,y.bottom-=p-w,y.left-=m-T,y.right-=m-T,y.marginTop=w,y.marginLeft=T}return(r&&!n?e.contains(c):e===c&&c.nodeName!=="BODY")&&(y=$4(y,e)),y}function q4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.ownerDocument.documentElement,r=cv(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),l=e?0:Gl(n),c=e?0:Gl(n,"left"),f={top:l-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:i,height:a};return Do(f)}function _R(t){var e=t.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Da(t,"position")==="fixed")return!0;var n=uv(t);return n?_R(n):!1}function wR(t){if(!t||!t.parentElement||au())return document.documentElement;for(var e=t.parentElement;e&&Da(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function dv(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a={top:0,left:0},l=i?wR(t):ch(t,yR(e));if(r==="viewport")a=q4(l,i);else{var c=void 0;r==="scrollParent"?(c=Kc(uv(e)),c.nodeName==="BODY"&&(c=t.ownerDocument.documentElement)):r==="window"?c=t.ownerDocument.documentElement:c=r;var f=cv(c,l,i);if(c.nodeName==="HTML"&&!_R(l)){var p=vR(t.ownerDocument),m=p.height,y=p.width;a.top+=f.top-f.marginTop,a.bottom=m+f.top,a.left+=f.left-f.marginLeft,a.right=y+f.left}else a=f}n=n||0;var w=typeof n=="number";return a.left+=w?n:n.left||0,a.top+=w?n:n.top||0,a.right-=w?n:n.right||0,a.bottom-=w?n:n.bottom||0,a}function G4(t){var e=t.width,n=t.height;return e*n}function ER(t,e,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(t.indexOf("auto")===-1)return t;var l=dv(n,r,a,i),c={top:{width:l.width,height:e.top-l.top},right:{width:l.right-e.right,height:l.height},bottom:{width:l.width,height:l.bottom-e.bottom},left:{width:e.left-l.left,height:l.height}},f=Object.keys(c).map(function(w){return $r({key:w},c[w],{area:G4(c[w])})}).sort(function(w,T){return T.area-w.area}),p=f.filter(function(w){var T=w.width,S=w.height;return T>=n.clientWidth&&S>=n.clientHeight}),m=p.length>0?p[0].key:f[0].key,y=t.split("-")[1];return m+(y?"-"+y:"")}function TR(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?wR(e):ch(e,yR(n));return cv(n,i,r)}function IR(t){var e=t.ownerDocument.defaultView,n=e.getComputedStyle(t),r=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),i=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),a={width:t.offsetWidth+i,height:t.offsetHeight+r};return a}function dh(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(n){return e[n]})}function SR(t,e,n){n=n.split("-")[0];var r=IR(t),i={width:r.width,height:r.height},a=["right","left"].indexOf(n)!==-1,l=a?"top":"left",c=a?"left":"top",f=a?"height":"width",p=a?"width":"height";return i[l]=e[l]+e[f]/2-r[f]/2,n===c?i[c]=e[c]-r[p]:i[c]=e[dh(c)],i}function Qc(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function K4(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(i){return i[e]===n});var r=Qc(t,function(i){return i[e]===n});return t.indexOf(r)}function RR(t,e,n){var r=n===void 0?t:t.slice(0,K4(t,"name",n));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var a=i.function||i.fn;i.enabled&&gR(a)&&(e.offsets.popper=Do(e.offsets.popper),e.offsets.reference=Do(e.offsets.reference),e=a(e,i))}),e}function Q4(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=TR(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=ER(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=SR(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=RR(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function AR(t,e){return t.some(function(n){var r=n.name,i=n.enabled;return i&&r===e})}function fv(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var i=e[r],a=i?""+i+n:t;if(typeof document.body.style[a]<"u")return a}return null}function Y4(){return this.state.isDestroyed=!0,AR(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[fv("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function PR(t){var e=t.ownerDocument;return e?e.defaultView:window}function CR(t,e,n,r){var i=t.nodeName==="BODY",a=i?t.ownerDocument.defaultView:t;a.addEventListener(e,n,{passive:!0}),i||CR(Kc(a.parentNode),e,n,r),r.push(a)}function J4(t,e,n,r){n.updateBound=r,PR(t).addEventListener("resize",n.updateBound,{passive:!0});var i=Kc(t);return CR(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function X4(){this.state.eventsEnabled||(this.state=J4(this.reference,this.options,this.state,this.scheduleUpdate))}function Z4(t,e){return PR(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(n){n.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function eF(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Z4(this.reference,this.state))}function hv(t){return t!==""&&!isNaN(parseFloat(t))&&isFinite(t)}function Ug(t,e){Object.keys(e).forEach(function(n){var r="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&hv(e[n])&&(r="px"),t.style[n]=e[n]+r})}function tF(t,e){Object.keys(e).forEach(function(n){var r=e[n];r!==!1?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function nF(t){return Ug(t.instance.popper,t.styles),tF(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&Ug(t.arrowElement,t.arrowStyles),t}function rF(t,e,n,r,i){var a=TR(i,e,t,n.positionFixed),l=ER(n.placement,a,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",l),Ug(e,{position:n.positionFixed?"fixed":"absolute"}),n}function iF(t,e){var n=t.offsets,r=n.popper,i=n.reference,a=Math.round,l=Math.floor,c=function(M){return M},f=a(i.width),p=a(r.width),m=["left","right"].indexOf(t.placement)!==-1,y=t.placement.indexOf("-")!==-1,w=f%2===p%2,T=f%2===1&&p%2===1,S=e?m||y||w?a:l:c,A=e?a:c;return{left:S(T&&!y&&e?r.left-1:r.left),top:A(r.top),bottom:A(r.bottom),right:S(r.right)}}var sF=Gc&&/Firefox/i.test(navigator.userAgent);function oF(t,e){var n=e.x,r=e.y,i=t.offsets.popper,a=Qc(t.instance.modifiers,function(G){return G.name==="applyStyle"}).gpuAcceleration;a!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var l=a!==void 0?a:e.gpuAcceleration,c=ql(t.instance.popper),f=Fg(c),p={position:i.position},m=iF(t,window.devicePixelRatio<2||!sF),y=n==="bottom"?"top":"bottom",w=r==="right"?"left":"right",T=fv("transform"),S=void 0,A=void 0;if(y==="bottom"?c.nodeName==="HTML"?A=-c.clientHeight+m.bottom:A=-f.height+m.bottom:A=m.top,w==="right"?c.nodeName==="HTML"?S=-c.clientWidth+m.right:S=-f.width+m.right:S=m.left,l&&T)p[T]="translate3d("+S+"px, "+A+"px, 0)",p[y]=0,p[w]=0,p.willChange="transform";else{var b=y==="bottom"?-1:1,M=w==="right"?-1:1;p[y]=A*b,p[w]=S*M,p.willChange=y+", "+w}var x={"x-placement":t.placement};return t.attributes=$r({},x,t.attributes),t.styles=$r({},p,t.styles),t.arrowStyles=$r({},t.offsets.arrow,t.arrowStyles),t}function bR(t,e,n){var r=Qc(t,function(c){var f=c.name;return f===e}),i=!!r&&t.some(function(c){return c.name===n&&c.enabled&&c.order<r.order});if(!i){var a="`"+e+"`",l="`"+n+"`";console.warn(l+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}function aF(t,e){var n;if(!bR(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if(typeof r=="string"){if(r=t.instance.popper.querySelector(r),!r)return t}else if(!t.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var i=t.placement.split("-")[0],a=t.offsets,l=a.popper,c=a.reference,f=["left","right"].indexOf(i)!==-1,p=f?"height":"width",m=f?"Top":"Left",y=m.toLowerCase(),w=f?"left":"top",T=f?"bottom":"right",S=IR(r)[p];c[T]-S<l[y]&&(t.offsets.popper[y]-=l[y]-(c[T]-S)),c[y]+S>l[T]&&(t.offsets.popper[y]+=c[y]+S-l[T]),t.offsets.popper=Do(t.offsets.popper);var A=c[y]+c[p]/2-S/2,b=Da(t.instance.popper),M=parseFloat(b["margin"+m]),x=parseFloat(b["border"+m+"Width"]),G=A-t.offsets.popper[y]-M-x;return G=Math.max(Math.min(l[p]-S,G),0),t.arrowElement=r,t.offsets.arrow=(n={},Kl(n,y,Math.round(G)),Kl(n,w,""),n),t}function lF(t){return t==="end"?"start":t==="start"?"end":t}var kR=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Xm=kR.slice(3);function fT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Xm.indexOf(t),r=Xm.slice(n+1).concat(Xm.slice(0,n));return e?r.reverse():r}var Zm={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function uF(t,e){if(AR(t.instance.modifiers,"inner")||t.flipped&&t.placement===t.originalPlacement)return t;var n=dv(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],i=dh(r),a=t.placement.split("-")[1]||"",l=[];switch(e.behavior){case Zm.FLIP:l=[r,i];break;case Zm.CLOCKWISE:l=fT(r);break;case Zm.COUNTERCLOCKWISE:l=fT(r,!0);break;default:l=e.behavior}return l.forEach(function(c,f){if(r!==c||l.length===f+1)return t;r=t.placement.split("-")[0],i=dh(r);var p=t.offsets.popper,m=t.offsets.reference,y=Math.floor,w=r==="left"&&y(p.right)>y(m.left)||r==="right"&&y(p.left)<y(m.right)||r==="top"&&y(p.bottom)>y(m.top)||r==="bottom"&&y(p.top)<y(m.bottom),T=y(p.left)<y(n.left),S=y(p.right)>y(n.right),A=y(p.top)<y(n.top),b=y(p.bottom)>y(n.bottom),M=r==="left"&&T||r==="right"&&S||r==="top"&&A||r==="bottom"&&b,x=["top","bottom"].indexOf(r)!==-1,G=!!e.flipVariations&&(x&&a==="start"&&T||x&&a==="end"&&S||!x&&a==="start"&&A||!x&&a==="end"&&b),ee=!!e.flipVariationsByContent&&(x&&a==="start"&&S||x&&a==="end"&&T||!x&&a==="start"&&b||!x&&a==="end"&&A),ue=G||ee;(w||M||ue)&&(t.flipped=!0,(w||M)&&(r=l[f+1]),ue&&(a=lF(a)),t.placement=r+(a?"-"+a:""),t.offsets.popper=$r({},t.offsets.popper,SR(t.instance.popper,t.offsets.reference,t.placement)),t=RR(t.instance.modifiers,t,"flip"))}),t}function cF(t){var e=t.offsets,n=e.popper,r=e.reference,i=t.placement.split("-")[0],a=Math.floor,l=["top","bottom"].indexOf(i)!==-1,c=l?"right":"bottom",f=l?"left":"top",p=l?"width":"height";return n[c]<a(r[f])&&(t.offsets.popper[f]=a(r[f])-n[p]),n[f]>a(r[c])&&(t.offsets.popper[f]=a(r[c])),t}function dF(t,e,n,r){var i=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],l=i[2];if(!a)return t;if(l.indexOf("%")===0){var c=void 0;switch(l){case"%p":c=n;break;case"%":case"%r":default:c=r}var f=Do(c);return f[e]/100*a}else if(l==="vh"||l==="vw"){var p=void 0;return l==="vh"?p=Math.max(document.documentElement.clientHeight,window.innerHeight||0):p=Math.max(document.documentElement.clientWidth,window.innerWidth||0),p/100*a}else return a}function fF(t,e,n,r){var i=[0,0],a=["right","left"].indexOf(r)!==-1,l=t.split(/(\+|\-)/).map(function(m){return m.trim()}),c=l.indexOf(Qc(l,function(m){return m.search(/,|\s/)!==-1}));l[c]&&l[c].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var f=/\s*,\s*|\s+/,p=c!==-1?[l.slice(0,c).concat([l[c].split(f)[0]]),[l[c].split(f)[1]].concat(l.slice(c+1))]:[l];return p=p.map(function(m,y){var w=(y===1?!a:a)?"height":"width",T=!1;return m.reduce(function(S,A){return S[S.length-1]===""&&["+","-"].indexOf(A)!==-1?(S[S.length-1]=A,T=!0,S):T?(S[S.length-1]+=A,T=!1,S):S.concat(A)},[]).map(function(S){return dF(S,w,e,n)})}),p.forEach(function(m,y){m.forEach(function(w,T){hv(w)&&(i[y]+=w*(m[T-1]==="-"?-1:1))})}),i}function hF(t,e){var n=e.offset,r=t.placement,i=t.offsets,a=i.popper,l=i.reference,c=r.split("-")[0],f=void 0;return hv(+n)?f=[+n,0]:f=fF(n,a,l,c),c==="left"?(a.top+=f[0],a.left-=f[1]):c==="right"?(a.top+=f[0],a.left+=f[1]):c==="top"?(a.left+=f[0],a.top-=f[1]):c==="bottom"&&(a.left+=f[0],a.top+=f[1]),t.popper=a,t}function pF(t,e){var n=e.boundariesElement||ql(t.instance.popper);t.instance.reference===n&&(n=ql(n));var r=fv("transform"),i=t.instance.popper.style,a=i.top,l=i.left,c=i[r];i.top="",i.left="",i[r]="";var f=dv(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);i.top=a,i.left=l,i[r]=c,e.boundaries=f;var p=e.priority,m=t.offsets.popper,y={primary:function(T){var S=m[T];return m[T]<f[T]&&!e.escapeWithReference&&(S=Math.max(m[T],f[T])),Kl({},T,S)},secondary:function(T){var S=T==="right"?"left":"top",A=m[S];return m[T]>f[T]&&!e.escapeWithReference&&(A=Math.min(m[S],f[T]-(T==="right"?m.width:m.height))),Kl({},S,A)}};return p.forEach(function(w){var T=["left","top"].indexOf(w)!==-1?"primary":"secondary";m=$r({},m,y[T](w))}),t.offsets.popper=m,t}function mF(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var i=t.offsets,a=i.reference,l=i.popper,c=["bottom","top"].indexOf(n)!==-1,f=c?"left":"top",p=c?"width":"height",m={start:Kl({},f,a[f]),end:Kl({},f,a[f]+a[p]-l[p])};t.offsets.popper=$r({},l,m[r])}return t}function gF(t){if(!bR(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Qc(t.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(t.hide===!0)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(t.hide===!1)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function yF(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,i=r.popper,a=r.reference,l=["left","right"].indexOf(n)!==-1,c=["top","left"].indexOf(n)===-1;return i[l?"left":"top"]=a[n]-(c?i[l?"width":"height"]:0),t.placement=dh(e),t.offsets.popper=Do(i),t}var vF={shift:{order:100,enabled:!0,fn:mF},offset:{order:200,enabled:!0,fn:hF,offset:0},preventOverflow:{order:300,enabled:!0,fn:pF,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:cF},arrow:{order:500,enabled:!0,fn:aF,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:uF,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:yF},hide:{order:800,enabled:!0,fn:gF},computeStyle:{order:850,enabled:!0,fn:oF,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:nF,onLoad:rF,gpuAcceleration:void 0}},_F={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:vF},Rc=function(){function t(e,n){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};H4(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=B4(this.update.bind(this)),this.options=$r({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys($r({},t.Defaults.modifiers,i.modifiers)).forEach(function(l){r.options.modifiers[l]=$r({},t.Defaults.modifiers[l]||{},i.modifiers?i.modifiers[l]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(l){return $r({name:l},r.options.modifiers[l])}).sort(function(l,c){return l.order-c.order}),this.modifiers.forEach(function(l){l.enabled&&gR(l.onLoad)&&l.onLoad(r.reference,r.popper,r.options,l,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return W4(t,[{key:"update",value:function(){return Q4.call(this)}},{key:"destroy",value:function(){return Y4.call(this)}},{key:"enableEventListeners",value:function(){return X4.call(this)}},{key:"disableEventListeners",value:function(){return eF.call(this)}}]),t}();Rc.Utils=(typeof window<"u"?window:global).PopperUtils;Rc.placements=kR;Rc.Defaults=_F;var wF=["innerHTML","ownerDocument","style","attributes","nodeValue"],EF=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],TF=["bigint","boolean","null","number","string","symbol","undefined"];function Gh(t){var e=Object.prototype.toString.call(t).slice(8,-1);if(/HTML\w+Element/.test(e))return"HTMLElement";if(IF(e))return e}function vi(t){return function(e){return Gh(e)===t}}function IF(t){return EF.includes(t)}function lu(t){return function(e){return typeof e===t}}function SF(t){return TF.includes(t)}function X(t){if(t===null)return"null";switch(typeof t){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(X.array(t))return"Array";if(X.plainFunction(t))return"Function";var e=Gh(t);return e||"Object"}X.array=Array.isArray;X.arrayOf=function(t,e){return!X.array(t)&&!X.function(e)?!1:t.every(function(n){return e(n)})};X.asyncGeneratorFunction=function(t){return Gh(t)==="AsyncGeneratorFunction"};X.asyncFunction=vi("AsyncFunction");X.bigint=lu("bigint");X.boolean=function(t){return t===!0||t===!1};X.date=vi("Date");X.defined=function(t){return!X.undefined(t)};X.domElement=function(t){return X.object(t)&&!X.plainObject(t)&&t.nodeType===1&&X.string(t.nodeName)&&wF.every(function(e){return e in t})};X.empty=function(t){return X.string(t)&&t.length===0||X.array(t)&&t.length===0||X.object(t)&&!X.map(t)&&!X.set(t)&&Object.keys(t).length===0||X.set(t)&&t.size===0||X.map(t)&&t.size===0};X.error=vi("Error");X.function=lu("function");X.generator=function(t){return X.iterable(t)&&X.function(t.next)&&X.function(t.throw)};X.generatorFunction=vi("GeneratorFunction");X.instanceOf=function(t,e){return!t||!e?!1:Object.getPrototypeOf(t)===e.prototype};X.iterable=function(t){return!X.nullOrUndefined(t)&&X.function(t[Symbol.iterator])};X.map=vi("Map");X.nan=function(t){return Number.isNaN(t)};X.null=function(t){return t===null};X.nullOrUndefined=function(t){return X.null(t)||X.undefined(t)};X.number=function(t){return lu("number")(t)&&!X.nan(t)};X.numericString=function(t){return X.string(t)&&t.length>0&&!Number.isNaN(Number(t))};X.object=function(t){return!X.nullOrUndefined(t)&&(X.function(t)||typeof t=="object")};X.oneOf=function(t,e){return X.array(t)?t.indexOf(e)>-1:!1};X.plainFunction=vi("Function");X.plainObject=function(t){if(Gh(t)!=="Object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};X.primitive=function(t){return X.null(t)||SF(typeof t)};X.promise=vi("Promise");X.propertyOf=function(t,e,n){if(!X.object(t)||!e)return!1;var r=t[e];return X.function(n)?n(r):X.defined(r)};X.regexp=vi("RegExp");X.set=vi("Set");X.string=lu("string");X.symbol=lu("symbol");X.undefined=lu("undefined");X.weakMap=vi("WeakMap");X.weakSet=vi("WeakSet");function OR(t){return function(e){return typeof e===t}}var RF=OR("function"),AF=function(t){return t===null},hT=function(t){return Object.prototype.toString.call(t).slice(8,-1)==="RegExp"},pT=function(t){return!PF(t)&&!AF(t)&&(RF(t)||typeof t=="object")},PF=OR("undefined"),jg=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function CF(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=n;r--!==0;)if(!dr(t[r],e[r]))return!1;return!0}function bF(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t.buffer),r=new DataView(e.buffer),i=t.byteLength;i--;)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function kF(t,e){var n,r,i,a;if(t.size!==e.size)return!1;try{for(var l=jg(t.entries()),c=l.next();!c.done;c=l.next()){var f=c.value;if(!e.has(f[0]))return!1}}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var p=jg(t.entries()),m=p.next();!m.done;m=p.next()){var f=m.value;if(!dr(f[1],e.get(f[0])))return!1}}catch(y){i={error:y}}finally{try{m&&!m.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}return!0}function OF(t,e){var n,r;if(t.size!==e.size)return!1;try{for(var i=jg(t.entries()),a=i.next();!a.done;a=i.next()){var l=a.value;if(!e.has(l[0]))return!1}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!0}function dr(t,e){if(t===e)return!0;if(t&&pT(t)&&e&&pT(e)){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)&&Array.isArray(e))return CF(t,e);if(t instanceof Map&&e instanceof Map)return kF(t,e);if(t instanceof Set&&e instanceof Set)return OF(t,e);if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return bF(t,e);if(hT(t)&&hT(e))return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[i]))return!1;for(var i=n.length;i--!==0;){var a=n[i];if(!(a==="_owner"&&t.$$typeof)&&!dr(t[a],e[a]))return!1}return!0}return Number.isNaN(t)&&Number.isNaN(e)?!0:t===e}function xF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(function(n){return X.string(n)||X.array(n)||X.plainObject(n)})}function NF(t,e,n){return xR(t,e)?[t,e].every(X.array)?!t.some(_T(n))&&e.some(_T(n)):[t,e].every(X.plainObject)?!Object.entries(t).some(vT(n))&&Object.entries(e).some(vT(n)):e===n:!1}function mT(t,e,n){var r=n.actual,i=n.key,a=n.previous,l=n.type,c=ji(t,i),f=ji(e,i),p=[c,f].every(X.number)&&(l==="increased"?c<f:c>f);return X.undefined(r)||(p=p&&f===r),X.undefined(a)||(p=p&&c===a),p}function gT(t,e,n){var r=n.key,i=n.type,a=n.value,l=ji(t,r),c=ji(e,r),f=i==="added"?l:c,p=i==="added"?c:l;if(!X.nullOrUndefined(a)){if(X.defined(f)){if(X.array(f)||X.plainObject(f))return NF(f,p,a)}else return dr(p,a);return!1}return[l,c].every(X.array)?!p.every(pv(f)):[l,c].every(X.plainObject)?DF(Object.keys(f),Object.keys(p)):![l,c].every(function(m){return X.primitive(m)&&X.defined(m)})&&(i==="added"?!X.defined(l)&&X.defined(c):X.defined(l)&&!X.defined(c))}function yT(t,e,n){var r=n===void 0?{}:n,i=r.key,a=ji(t,i),l=ji(e,i);if(!xR(a,l))throw new TypeError("Inputs have different types");if(!xF(a,l))throw new TypeError("Inputs don't have length");return[a,l].every(X.plainObject)&&(a=Object.keys(a),l=Object.keys(l)),[a,l]}function vT(t){return function(e){var n=e[0],r=e[1];return X.array(t)?dr(t,r)||t.some(function(i){return dr(i,r)||X.array(r)&&pv(r)(i)}):X.plainObject(t)&&t[n]?!!t[n]&&dr(t[n],r):dr(t,r)}}function DF(t,e){return e.some(function(n){return!t.includes(n)})}function _T(t){return function(e){return X.array(t)?t.some(function(n){return dr(n,e)||X.array(e)&&pv(e)(n)}):dr(t,e)}}function Gu(t,e){return X.array(t)?t.some(function(n){return dr(n,e)}):dr(t,e)}function pv(t){return function(e){return t.some(function(n){return dr(n,e)})}}function xR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every(X.array)||t.every(X.number)||t.every(X.plainObject)||t.every(X.string)}function ji(t,e){if(X.plainObject(t)||X.array(t)){if(X.string(e)){var n=e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}return X.number(e)?t[e]:t}return t}function LF(t,e){if([t,e].some(X.nullOrUndefined))throw new Error("Missing required parameters");if(![t,e].every(function(y){return X.plainObject(y)||X.array(y)}))throw new Error("Expected plain objects or array");var n=function(y,w){try{return gT(t,e,{key:y,type:"added",value:w})}catch{return!1}},r=function(y,w,T){try{var S=ji(t,y),A=ji(e,y),b=X.defined(w),M=X.defined(T);if(b||M){var x=M?Gu(T,S):!Gu(w,S),G=Gu(w,A);return x&&G}return[S,A].every(X.array)||[S,A].every(X.plainObject)?!dr(S,A):S!==A}catch{return!1}},i=function(y,w,T){if(!X.defined(y))return!1;try{var S=ji(t,y),A=ji(e,y),b=X.defined(T);return Gu(w,S)&&(b?Gu(T,A):!b)}catch{return!1}},a=function(y,w){return X.defined(y)?r(y,w):!1},l=function(y,w,T){if(!X.defined(y))return!1;try{return mT(t,e,{key:y,actual:w,previous:T,type:"decreased"})}catch{return!1}},c=function(y){try{var w=yT(t,e,{key:y}),T=w[0],S=w[1];return!!T.length&&!S.length}catch{return!1}},f=function(y){try{var w=yT(t,e,{key:y}),T=w[0],S=w[1];return!T.length&&!!S.length}catch{return!1}},p=function(y,w,T){if(!X.defined(y))return!1;try{return mT(t,e,{key:y,actual:w,previous:T,type:"increased"})}catch{return!1}},m=function(y,w){try{return gT(t,e,{key:y,type:"removed",value:w})}catch{return!1}};return{added:n,changed:r,changedFrom:i,changedTo:a,decreased:l,emptied:c,filled:f,increased:p,removed:m}}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){Vn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function Jc(t,e,n){return e&&MF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vn(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bg(t,e)}function fh(t){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fh(t)}function Bg(t,e){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bg(t,e)}function VF(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NR(t,e){if(t==null)return{};var n=FF(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ps(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UF(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ps(t)}function Zc(t){var e=VF();return function(){var r=fh(t),i;if(e){var a=fh(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return UF(this,i)}}function jF(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DR(t){var e=jF(t,"string");return typeof e=="symbol"?e:String(e)}var BF={flip:{padding:20},preventOverflow:{padding:10}},zF="The typeValidator argument must be a function with the signature function(props, propName, componentName).",$F="The error message is optional, but must be a string if provided.";function HF(t,e,n,r){return typeof t=="boolean"?t:typeof t=="function"?t(e,n,r):t?!!t:!1}function WF(t,e){return Object.hasOwnProperty.call(t,e)}function qF(t,e,n,r){return new Error("Required ".concat(t[e]," `").concat(e,"` was not specified in `").concat(n,"`."))}function GF(t,e){if(typeof t!="function")throw new TypeError(zF);if(e&&typeof e!="string")throw new TypeError($F)}function ET(t,e,n){return GF(t,n),function(r,i,a){for(var l=arguments.length,c=new Array(l>3?l-3:0),f=3;f<l;f++)c[f-3]=arguments[f];return HF(e,r,i,a)?WF(r,i)?t.apply(void 0,[r,i,a].concat(c)):qF(r,i,a):t.apply(void 0,[r,i,a].concat(c))}}var pt={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing"},Ku=tc.createPortal!==void 0;function Mi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function eg(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function wf(t){var e=t.title,n=t.data,r=t.warn,i=r===void 0?!1:r,a=t.debug,l=a===void 0?!1:a,c=i?console.warn||console.error:console.log;l&&e&&n&&(console.groupCollapsed("%creact-floater: ".concat(e),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach(function(f){X.plainObject(f)&&f.key?c.apply(console,[f.key,f.value]):c.apply(console,[f])}):c.apply(console,[n]),console.groupEnd())}function KF(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.addEventListener(e,n,r)}function QF(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.removeEventListener(e,n,r)}function YF(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i;i=function(l){n(l),QF(t,e,i)},KF(t,e,i,r)}function TT(){}var LR=function(t){Xc(n,t);var e=Zc(n);function n(){return Yc(this,n),e.apply(this,arguments)}return Jc(n,[{key:"componentDidMount",value:function(){Mi()&&(this.node||this.appendNode(),Ku||this.renderPortal())}},{key:"componentDidUpdate",value:function(){Mi()&&(Ku||this.renderPortal())}},{key:"componentWillUnmount",value:function(){!Mi()||!this.node||(Ku||tc.unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var i=this.props,a=i.id,l=i.zIndex;this.node||(this.node=document.createElement("div"),a&&(this.node.id=a),l&&(this.node.style.zIndex=l),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!Mi())return null;var i=this.props,a=i.children,l=i.setRef;if(this.node||this.appendNode(),Ku)return tc.createPortal(a,this.node);var c=tc.unstable_renderSubtreeIntoContainer(this,a.length>1?me.createElement("div",null,a):a[0],this.node);return l(c),null}},{key:"renderReact16",value:function(){var i=this.props,a=i.hasChildren,l=i.placement,c=i.target;return a?this.renderPortal():c||l==="center"?this.renderPortal():null}},{key:"render",value:function(){return Ku?this.renderReact16():null}}]),n}(me.Component);Vn(LR,"propTypes",{children:de.oneOfType([de.element,de.array]),hasChildren:de.bool,id:de.oneOfType([de.string,de.number]),placement:de.string,setRef:de.func.isRequired,target:de.oneOfType([de.object,de.string]),zIndex:de.number});var MR=function(t){Xc(n,t);var e=Zc(n);function n(){return Yc(this,n),e.apply(this,arguments)}return Jc(n,[{key:"parentStyle",get:function(){var i=this.props,a=i.placement,l=i.styles,c=l.arrow.length,f={pointerEvents:"none",position:"absolute",width:"100%"};return a.startsWith("top")?(f.bottom=0,f.left=0,f.right=0,f.height=c):a.startsWith("bottom")?(f.left=0,f.right=0,f.top=0,f.height=c):a.startsWith("left")?(f.right=0,f.top=0,f.bottom=0):a.startsWith("right")&&(f.left=0,f.top=0),f}},{key:"render",value:function(){var i=this.props,a=i.placement,l=i.setArrowRef,c=i.styles,f=c.arrow,p=f.color,m=f.display,y=f.length,w=f.margin,T=f.position,S=f.spread,A={display:m,position:T},b,M=S,x=y;return a.startsWith("top")?(b="0,0 ".concat(M/2,",").concat(x," ").concat(M,",0"),A.bottom=0,A.marginLeft=w,A.marginRight=w):a.startsWith("bottom")?(b="".concat(M,",").concat(x," ").concat(M/2,",0 0,").concat(x),A.top=0,A.marginLeft=w,A.marginRight=w):a.startsWith("left")?(x=S,M=y,b="0,0 ".concat(M,",").concat(x/2," 0,").concat(x),A.right=0,A.marginTop=w,A.marginBottom=w):a.startsWith("right")&&(x=S,M=y,b="".concat(M,",").concat(x," ").concat(M,",0 0,").concat(x/2),A.left=0,A.marginTop=w,A.marginBottom=w),me.createElement("div",{className:"__floater__arrow",style:this.parentStyle},me.createElement("span",{ref:l,style:A},me.createElement("svg",{width:M,height:x,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},me.createElement("polygon",{points:b,fill:p}))))}}]),n}(me.Component);Vn(MR,"propTypes",{placement:de.string.isRequired,setArrowRef:de.func.isRequired,styles:de.object.isRequired});var JF=["color","height","width"];function VR(t){var e=t.handleClick,n=t.styles,r=n.color,i=n.height,a=n.width,l=NR(n,JF);return me.createElement("button",{"aria-label":"close",onClick:e,style:l,type:"button"},me.createElement("svg",{width:"".concat(a,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},me.createElement("g",null,me.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}VR.propTypes={handleClick:de.func.isRequired,styles:de.object.isRequired};function FR(t){var e=t.content,n=t.footer,r=t.handleClick,i=t.open,a=t.positionWrapper,l=t.showCloseButton,c=t.title,f=t.styles,p={content:me.isValidElement(e)?e:me.createElement("div",{className:"__floater__content",style:f.content},e)};return c&&(p.title=me.isValidElement(c)?c:me.createElement("div",{className:"__floater__title",style:f.title},c)),n&&(p.footer=me.isValidElement(n)?n:me.createElement("div",{className:"__floater__footer",style:f.footer},n)),(l||a)&&!X.boolean(i)&&(p.close=me.createElement(VR,{styles:f.close,handleClick:r})),me.createElement("div",{className:"__floater__container",style:f.container},p.close,p.title,p.content,p.footer)}FR.propTypes={content:de.node.isRequired,footer:de.node,handleClick:de.func.isRequired,open:de.bool,positionWrapper:de.bool.isRequired,showCloseButton:de.bool.isRequired,styles:de.object.isRequired,title:de.node};var UR=function(t){Xc(n,t);var e=Zc(n);function n(){return Yc(this,n),e.apply(this,arguments)}return Jc(n,[{key:"style",get:function(){var i=this.props,a=i.disableAnimation,l=i.component,c=i.placement,f=i.hideArrow,p=i.status,m=i.styles,y=m.arrow.length,w=m.floater,T=m.floaterCentered,S=m.floaterClosing,A=m.floaterOpening,b=m.floaterWithAnimation,M=m.floaterWithComponent,x={};return f||(c.startsWith("top")?x.padding="0 0 ".concat(y,"px"):c.startsWith("bottom")?x.padding="".concat(y,"px 0 0"):c.startsWith("left")?x.padding="0 ".concat(y,"px 0 0"):c.startsWith("right")&&(x.padding="0 0 0 ".concat(y,"px"))),[pt.OPENING,pt.OPEN].indexOf(p)!==-1&&(x=Lt(Lt({},x),A)),p===pt.CLOSING&&(x=Lt(Lt({},x),S)),p===pt.OPEN&&!a&&(x=Lt(Lt({},x),b)),c==="center"&&(x=Lt(Lt({},x),T)),l&&(x=Lt(Lt({},x),M)),Lt(Lt({},w),x)}},{key:"render",value:function(){var i=this.props,a=i.component,l=i.handleClick,c=i.hideArrow,f=i.setFloaterRef,p=i.status,m={},y=["__floater"];return a?me.isValidElement(a)?m.content=me.cloneElement(a,{closeFn:l}):m.content=a({closeFn:l}):m.content=me.createElement(FR,this.props),p===pt.OPEN&&y.push("__floater__open"),c||(m.arrow=me.createElement(MR,this.props)),me.createElement("div",{ref:f,className:y.join(" "),style:this.style},me.createElement("div",{className:"__floater__body"},m.content,m.arrow))}}]),n}(me.Component);Vn(UR,"propTypes",{component:de.oneOfType([de.func,de.element]),content:de.node,disableAnimation:de.bool.isRequired,footer:de.node,handleClick:de.func.isRequired,hideArrow:de.bool.isRequired,open:de.bool,placement:de.string.isRequired,positionWrapper:de.bool.isRequired,setArrowRef:de.func.isRequired,setFloaterRef:de.func.isRequired,showCloseButton:de.bool,status:de.string.isRequired,styles:de.object.isRequired,title:de.node});var jR=function(t){Xc(n,t);var e=Zc(n);function n(){return Yc(this,n),e.apply(this,arguments)}return Jc(n,[{key:"render",value:function(){var i=this.props,a=i.children,l=i.handleClick,c=i.handleMouseEnter,f=i.handleMouseLeave,p=i.setChildRef,m=i.setWrapperRef,y=i.style,w=i.styles,T;if(a)if(me.Children.count(a)===1)if(!me.isValidElement(a))T=me.createElement("span",null,a);else{var S=X.function(a.type)?"innerRef":"ref";T=me.cloneElement(me.Children.only(a),Vn({},S,p))}else T=a;return T?me.createElement("span",{ref:m,style:Lt(Lt({},w),y),onClick:l,onMouseEnter:c,onMouseLeave:f},T):null}}]),n}(me.Component);Vn(jR,"propTypes",{children:de.node,handleClick:de.func.isRequired,handleMouseEnter:de.func.isRequired,handleMouseLeave:de.func.isRequired,setChildRef:de.func.isRequired,setWrapperRef:de.func.isRequired,style:de.object,styles:de.object.isRequired});var XF={zIndex:100};function ZF(t){var e=fi(XF,t.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:e.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:e.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:e}}var eU=["arrow","flip","offset"],tU=["position","top","right","bottom","left"],mv=function(t){Xc(n,t);var e=Zc(n);function n(r){var i;return Yc(this,n),i=e.call(this,r),Vn(ps(i),"setArrowRef",function(a){i.arrowRef=a}),Vn(ps(i),"setChildRef",function(a){i.childRef=a}),Vn(ps(i),"setFloaterRef",function(a){i.floaterRef=a}),Vn(ps(i),"setWrapperRef",function(a){i.wrapperRef=a}),Vn(ps(i),"handleTransitionEnd",function(){var a=i.state.status,l=i.props.callback;i.wrapperPopper&&i.wrapperPopper.instance.update(),i.setState({status:a===pt.OPENING?pt.OPEN:pt.IDLE},function(){var c=i.state.status;l(c===pt.OPEN?"open":"close",i.props)})}),Vn(ps(i),"handleClick",function(){var a=i.props,l=a.event,c=a.open;if(!X.boolean(c)){var f=i.state,p=f.positionWrapper,m=f.status;(i.event==="click"||i.event==="hover"&&p)&&(wf({title:"click",data:[{event:l,status:m===pt.OPEN?"closing":"opening"}],debug:i.debug}),i.toggle())}}),Vn(ps(i),"handleMouseEnter",function(){var a=i.props,l=a.event,c=a.open;if(!(X.boolean(c)||eg())){var f=i.state.status;i.event==="hover"&&f===pt.IDLE&&(wf({title:"mouseEnter",data:[{key:"originalEvent",value:l}],debug:i.debug}),clearTimeout(i.eventDelayTimeout),i.toggle())}}),Vn(ps(i),"handleMouseLeave",function(){var a=i.props,l=a.event,c=a.eventDelay,f=a.open;if(!(X.boolean(f)||eg())){var p=i.state,m=p.status,y=p.positionWrapper;i.event==="hover"&&(wf({title:"mouseLeave",data:[{key:"originalEvent",value:l}],debug:i.debug}),c?[pt.OPENING,pt.OPEN].indexOf(m)!==-1&&!y&&!i.eventDelayTimeout&&(i.eventDelayTimeout=setTimeout(function(){delete i.eventDelayTimeout,i.toggle()},c*1e3)):i.toggle(pt.IDLE))}}),i.state={currentPlacement:r.placement,needsUpdate:!1,positionWrapper:r.wrapperOptions.position&&!!r.target,status:pt.INIT,statusWrapper:pt.INIT},i._isMounted=!1,i.hasMounted=!1,Mi()&&window.addEventListener("load",function(){i.popper&&i.popper.instance.update(),i.wrapperPopper&&i.wrapperPopper.instance.update()}),i}return Jc(n,[{key:"componentDidMount",value:function(){if(Mi()){var i=this.state.positionWrapper,a=this.props,l=a.children,c=a.open,f=a.target;this._isMounted=!0,wf({title:"init",data:{hasChildren:!!l,hasTarget:!!f,isControlled:X.boolean(c),positionWrapper:i,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!l&&f&&X.boolean(c)}}},{key:"componentDidUpdate",value:function(i,a){if(Mi()){var l=this.props,c=l.autoOpen,f=l.open,p=l.target,m=l.wrapperOptions,y=LF(a,this.state),w=y.changedFrom,T=y.changed;if(i.open!==f){var S;X.boolean(f)&&(S=f?pt.OPENING:pt.CLOSING),this.toggle(S)}(i.wrapperOptions.position!==m.position||i.target!==p)&&this.changeWrapperPosition(this.props),T("status",pt.IDLE)&&f?this.toggle(pt.OPEN):w("status",pt.INIT,pt.IDLE)&&c&&this.toggle(pt.OPEN),this.popper&&T("status",pt.OPENING)&&this.popper.instance.update(),this.floaterRef&&(T("status",pt.OPENING)||T("status",pt.CLOSING))&&YF(this.floaterRef,"transitionend",this.handleTransitionEnd),T("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){Mi()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.target,l=this.state.positionWrapper,c=this.props,f=c.disableFlip,p=c.getPopper,m=c.hideArrow,y=c.offset,w=c.placement,T=c.wrapperOptions,S=w==="top"||w==="bottom"?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if(w==="center")this.setState({status:pt.IDLE});else if(a&&this.floaterRef){var A=this.options,b=A.arrow,M=A.flip,x=A.offset,G=NR(A,eU);new Rc(a,this.floaterRef,{placement:w,modifiers:Lt({arrow:Lt({enabled:!m,element:this.arrowRef},b),flip:Lt({enabled:!f,behavior:S},M),offset:Lt({offset:"0, ".concat(y,"px")},x)},G),onCreate:function(fe){var R;if(i.popper=fe,!((R=i.floaterRef)!==null&&R!==void 0&&R.isConnected)){i.setState({needsUpdate:!0});return}p(fe,"floater"),i._isMounted&&i.setState({currentPlacement:fe.placement,status:pt.IDLE}),w!==fe.placement&&setTimeout(function(){fe.instance.update()},1)},onUpdate:function(fe){i.popper=fe;var R=i.state.currentPlacement;i._isMounted&&fe.placement!==R&&i.setState({currentPlacement:fe.placement})}})}if(l){var ee=X.undefined(T.offset)?0:T.offset;new Rc(this.target,this.wrapperRef,{placement:T.placement||w,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(ee,"px")},flip:{enabled:!1}},onCreate:function(fe){i.wrapperPopper=fe,i._isMounted&&i.setState({statusWrapper:pt.IDLE}),p(fe,"wrapper"),w!==fe.placement&&setTimeout(function(){fe.instance.update()},1)}})}}},{key:"rebuildPopper",value:function(){var i=this;this.floaterRefInterval=setInterval(function(){var a;(a=i.floaterRef)!==null&&a!==void 0&&a.isConnected&&(clearInterval(i.floaterRefInterval),i.setState({needsUpdate:!1}),i.initPopper())},50)}},{key:"changeWrapperPosition",value:function(i){var a=i.target,l=i.wrapperOptions;this.setState({positionWrapper:l.position&&!!a})}},{key:"toggle",value:function(i){var a=this.state.status,l=a===pt.OPEN?pt.CLOSING:pt.OPENING;X.undefined(i)||(l=i),this.setState({status:l})}},{key:"debug",get:function(){var i=this.props.debug;return i||Mi()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var i=this.props,a=i.disableHoverToClick,l=i.event;return l==="hover"&&eg()&&!a?"click":l}},{key:"options",get:function(){var i=this.props.options;return fi(BF,i||{})}},{key:"styles",get:function(){var i=this,a=this.state,l=a.status,c=a.positionWrapper,f=a.statusWrapper,p=this.props.styles,m=fi(ZF(p),p);if(c){var y;[pt.IDLE].indexOf(l)===-1||[pt.IDLE].indexOf(f)===-1?y=m.wrapperPosition:y=this.wrapperPopper.styles,m.wrapper=Lt(Lt({},m.wrapper),y)}if(this.target){var w=window.getComputedStyle(this.target);this.wrapperStyles?m.wrapper=Lt(Lt({},m.wrapper),this.wrapperStyles):["relative","static"].indexOf(w.position)===-1&&(this.wrapperStyles={},c||(tU.forEach(function(T){i.wrapperStyles[T]=w[T]}),m.wrapper=Lt(Lt({},m.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return m}},{key:"target",get:function(){if(!Mi())return null;var i=this.props.target;return i?X.domElement(i)?i:document.querySelector(i):this.childRef||this.wrapperRef}},{key:"render",value:function(){var i=this.state,a=i.currentPlacement,l=i.positionWrapper,c=i.status,f=this.props,p=f.children,m=f.component,y=f.content,w=f.disableAnimation,T=f.footer,S=f.hideArrow,A=f.id,b=f.open,M=f.showCloseButton,x=f.style,G=f.target,ee=f.title,ue=me.createElement(jR,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:x,styles:this.styles.wrapper},p),fe={};return l?fe.wrapperInPortal=ue:fe.wrapperAsChildren=ue,me.createElement("span",null,me.createElement(LR,{hasChildren:!!p,id:A,placement:a,setRef:this.setFloaterRef,target:G,zIndex:this.styles.options.zIndex},me.createElement(UR,{component:m,content:y,disableAnimation:w,footer:T,handleClick:this.handleClick,hideArrow:S||a==="center",open:b,placement:a,positionWrapper:l,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:M,status:c,styles:this.styles,title:ee}),fe.wrapperInPortal),fe.wrapperAsChildren)}}]),n}(me.Component);Vn(mv,"propTypes",{autoOpen:de.bool,callback:de.func,children:de.node,component:ET(de.oneOfType([de.func,de.element]),function(t){return!t.content}),content:ET(de.node,function(t){return!t.component}),debug:de.bool,disableAnimation:de.bool,disableFlip:de.bool,disableHoverToClick:de.bool,event:de.oneOf(["hover","click"]),eventDelay:de.number,footer:de.node,getPopper:de.func,hideArrow:de.bool,id:de.oneOfType([de.string,de.number]),offset:de.number,open:de.bool,options:de.object,placement:de.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:de.bool,style:de.object,styles:de.object,target:de.oneOfType([de.object,de.string]),title:de.node,wrapperOptions:de.shape({offset:de.number,placement:de.oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:de.bool})});Vn(mv,"defaultProps",{autoOpen:!1,callback:TT,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:TT,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var nU=Object.defineProperty,rU=(t,e,n)=>e in t?nU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,be=(t,e,n)=>rU(t,typeof e!="symbol"?e+"":e,n),_t={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},zr={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found"},Ge={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},tt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished"};function mo(){var t;return!!(typeof window<"u"&&((t=window.document)!=null&&t.createElement))}function BR(t){return t?t.getBoundingClientRect():null}function iU(t=!1){const{body:e,documentElement:n}=document;if(!e||!n)return 0;if(t){const r=[e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort((a,l)=>a-l),i=Math.floor(r.length/2);return r.length%2===0?(r[i-1]+r[i])/2:r[i]}return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function vs(t){if(typeof t=="string")try{return document.querySelector(t)}catch{return null}return t}function sU(t){return!t||t.nodeType!==1?null:getComputedStyle(t)}function Ac(t,e,n){if(!t)return ya();const r=mR(t);if(r){if(r.isSameNode(ya()))return n?document:ya();if(!(r.scrollHeight>r.offsetHeight)&&!e)return r.style.overflow="initial",ya()}return r}function Kh(t,e){if(!t)return!1;const n=Ac(t,e);return n?!n.isSameNode(ya()):!1}function oU(t){return t.offsetParent!==document.body}function Ql(t,e="fixed"){if(!t||!(t instanceof HTMLElement))return!1;const{nodeName:n}=t,r=sU(t);return n==="BODY"||n==="HTML"?!1:r&&r.position===e?!0:t.parentNode?Ql(t.parentNode,e):!1}function aU(t){var e;if(!t)return!1;let n=t;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:r,visibility:i}=getComputedStyle(n);if(r==="none"||i==="hidden")return!1}n=(e=n.parentElement)!=null?e:null}return!0}function lU(t,e,n){var r,i,a;const l=BR(t),c=Ac(t,n),f=Kh(t,n),p=Ql(t);let m=0,y=(r=l?.top)!=null?r:0;if(f&&p){const w=(i=t?.offsetTop)!=null?i:0,T=(a=c?.scrollTop)!=null?a:0;y=w-T}else c instanceof HTMLElement&&(m=c.scrollTop,!f&&!Ql(t)&&(y+=m),c.isSameNode(ya())||(y+=ya().scrollTop));return Math.floor(y-e)}function uU(t,e,n){var r;if(!t)return 0;const{offsetTop:i=0,scrollTop:a=0}=(r=mR(t))!=null?r:{};let l=t.getBoundingClientRect().top+a;i&&(Kh(t,n)||oU(t))&&(l-=i);const c=Math.floor(l-e);return c<0?0:c}function ya(){var t;return(t=document.scrollingElement)!=null?t:document.documentElement}function cU(t,e){const{duration:n,element:r}=e;return new Promise((i,a)=>{const{scrollTop:l}=r,c=t>l?t-l:l-t;R4.top(r,t,{duration:c<100?50:n},f=>f&&f.message!=="Element already at target scroll position"?a(f):i())})}var Qu=Sl.createPortal!==void 0;function zR(t=navigator.userAgent){let e=t;return typeof window>"u"?e="node":document.documentMode?e="ie":/Edge/.test(t)?e="edge":window.opera||t.includes(" OPR/")?e="opera":typeof window.InstallTrigger<"u"?e="firefox":window.chrome?e="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(t)&&(e="safari"),e}function Lf(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Vi(t,e={}){const{defaultValue:n,step:r,steps:i}=e;let a=rT(t);if(a)(a.includes("{step}")||a.includes("{steps}"))&&r&&i&&(a=a.replace("{step}",r.toString()).replace("{steps}",i.toString()));else if(L.isValidElement(t)&&!Object.values(t.props).length&&Lf(t.type)==="function"){const l=t.type({});a=Vi(l,e)}else a=rT(n);return a}function dU(t,e){return!Pe.plainObject(t)||!Pe.array(e)?!1:Object.keys(t).every(n=>e.includes(n))}function fU(t){const e=/^#?([\da-f])([\da-f])([\da-f])$/i,n=t.replace(e,(i,a,l,c)=>a+a+l+l+c+c),r=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(n);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:[]}function IT(t){return t.disableBeacon||t.placement==="center"}function ST(){return!["chrome","safari","firefox","opera"].includes(zR())}function Aa({data:t,debug:e=!1,title:n,warn:r=!1}){const i=r?console.warn||console.error:console.log;e&&(n&&t?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(t)?t.forEach(a=>{Pe.plainObject(a)&&a.key?i.apply(console,[a.key,a.value]):i.apply(console,[a])}):i.apply(console,[t]),console.groupEnd()):console.error("Missing title or data props"))}function hU(t){return Object.keys(t)}function $R(t,...e){if(!Pe.plainObject(t))throw new TypeError("Expected an object");const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&(e.includes(r)||(n[r]=t[r]));return n}function pU(t,...e){if(!Pe.plainObject(t))throw new TypeError("Expected an object");if(!e.length)return t;const n={};for(const r in t)({}).hasOwnProperty.call(t,r)&&e.includes(r)&&(n[r]=t[r]);return n}function zg(t,e,n){const r=a=>a.replace("{step}",String(e)).replace("{steps}",String(n));if(Lf(t)==="string")return r(t);if(!L.isValidElement(t))return t;const{children:i}=t.props;if(Lf(i)==="string"&&i.includes("{step}"))return L.cloneElement(t,{children:r(i)});if(Array.isArray(i))return L.cloneElement(t,{children:i.map(a=>typeof a=="string"?r(a):zg(a,e,n))});if(Lf(t.type)==="function"&&!Object.values(t.props).length){const a=t.type({});return zg(a,e,n)}return t}function mU(t){const{isFirstStep:e,lifecycle:n,previousLifecycle:r,scrollToFirstStep:i,step:a,target:l}=t;return!a.disableScrolling&&(!e||i||n===Ge.TOOLTIP)&&a.placement!=="center"&&(!a.isFixed||!Ql(l))&&r!==n&&[Ge.BEACON,Ge.TOOLTIP].includes(n)}var gU={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},HR={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},yU={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:HR,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},vU={continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]},_U={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Yu={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},RT={borderRadius:4,position:"absolute"};function wU(t,e){var n,r,i,a,l;const{floaterProps:c,styles:f}=t,p=fi((n=e.floaterProps)!=null?n:{},c??{}),m=fi(f??{},(r=e.styles)!=null?r:{}),y=fi(_U,m.options||{}),w=e.placement==="center"||e.disableBeacon;let{width:T}=y;window.innerWidth>480&&(T=380),"width"in y&&(T=typeof y.width=="number"&&window.innerWidth<y.width?window.innerWidth-30:y.width);const S={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:y.zIndex},A={beacon:{...Yu,display:w?"none":"inline-block",height:y.beaconSize,position:"relative",width:y.beaconSize,zIndex:y.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:y.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${fU(y.primaryColor).join(",")}, 0.2)`,border:`2px solid ${y.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:y.backgroundColor,borderRadius:5,boxSizing:"border-box",color:y.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:T},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Yu,backgroundColor:y.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Yu,color:y.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Yu,color:y.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Yu,color:y.textColor,fontSize:14},overlay:{...S,backgroundColor:y.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...S},overlayLegacyCenter:{...S,backgroundColor:y.overlayColor},spotlight:{...RT,backgroundColor:"gray"},spotlightLegacy:{...RT,boxShadow:`0 0 0 9999px ${y.overlayColor}, ${y.spotlightShadow}`},floaterStyles:{arrow:{color:(l=(a=(i=p?.styles)==null?void 0:i.arrow)==null?void 0:a.color)!=null?l:y.arrowColor},options:{zIndex:y.zIndex+100}},options:y};return fi(A,m)}function EU(t){return pU(t,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function vl(t,e){var n,r,i,a,l,c;const f=e??{},p=fi.all([yU,EU(t),f],{isMergeableObject:Pe.plainObject}),m=wU(t,p),y=Kh(vs(p.target),p.disableScrollParentFix),w=fi.all([gU,(n=t.floaterProps)!=null?n:{},(r=p.floaterProps)!=null?r:{}]);return w.offset=p.offset,w.styles=fi((i=w.styles)!=null?i:{},m.floaterStyles),w.offset+=(l=(a=t.spotlightPadding)!=null?a:p.spotlightPadding)!=null?l:0,p.placementBeacon&&w.wrapperOptions&&(w.wrapperOptions.placement=p.placementBeacon),y&&w.options.preventOverflow&&(w.options.preventOverflow.boundariesElement="window"),{...p,locale:fi.all([HR,(c=t.locale)!=null?c:{},p.locale||{}]),floaterProps:w,styles:$R(m,"floaterStyles")}}function WR(t,e=!1){return Pe.plainObject(t)?t.target?!0:(Aa({title:"validateStep",data:"target is missing from the step",warn:!0,debug:e}),!1):(Aa({title:"validateStep",data:"step must be an object",warn:!0,debug:e}),!1)}function AT(t,e=!1){return Pe.array(t)?t.every(n=>WR(n,e)):(Aa({title:"validateSteps",data:"steps must be an array",warn:!0,debug:e}),!1)}var qR={action:"init",controlled:!1,index:0,lifecycle:Ge.INIT,origin:null,size:0,status:tt.IDLE},PT=hU($R(qR,"controlled","size")),TU=class{constructor(t){be(this,"beaconPopper"),be(this,"tooltipPopper"),be(this,"data",new Map),be(this,"listener"),be(this,"store",new Map),be(this,"addListener",i=>{this.listener=i}),be(this,"setSteps",i=>{const{size:a,status:l}=this.getState(),c={size:i.length,status:l};this.data.set("steps",i),l===tt.WAITING&&!a&&i.length&&(c.status=tt.RUNNING),this.setState(c)}),be(this,"getPopper",i=>i==="beacon"?this.beaconPopper:this.tooltipPopper),be(this,"setPopper",(i,a)=>{i==="beacon"?this.beaconPopper=a:this.tooltipPopper=a}),be(this,"cleanupPoppers",()=>{this.beaconPopper=null,this.tooltipPopper=null}),be(this,"close",(i=null)=>{const{index:a,status:l}=this.getState();l===tt.RUNNING&&this.setState({...this.getNextState({action:_t.CLOSE,index:a+1,origin:i})})}),be(this,"go",i=>{const{controlled:a,status:l}=this.getState();if(a||l!==tt.RUNNING)return;const c=this.getSteps()[i];this.setState({...this.getNextState({action:_t.GO,index:i}),status:c?l:tt.FINISHED})}),be(this,"info",()=>this.getState()),be(this,"next",()=>{const{index:i,status:a}=this.getState();a===tt.RUNNING&&this.setState(this.getNextState({action:_t.NEXT,index:i+1}))}),be(this,"open",()=>{const{status:i}=this.getState();i===tt.RUNNING&&this.setState({...this.getNextState({action:_t.UPDATE,lifecycle:Ge.TOOLTIP})})}),be(this,"prev",()=>{const{index:i,status:a}=this.getState();a===tt.RUNNING&&this.setState({...this.getNextState({action:_t.PREV,index:i-1})})}),be(this,"reset",(i=!1)=>{const{controlled:a}=this.getState();a||this.setState({...this.getNextState({action:_t.RESET,index:0}),status:i?tt.RUNNING:tt.READY})}),be(this,"skip",()=>{const{status:i}=this.getState();i===tt.RUNNING&&this.setState({action:_t.SKIP,lifecycle:Ge.INIT,status:tt.SKIPPED})}),be(this,"start",i=>{const{index:a,size:l}=this.getState();this.setState({...this.getNextState({action:_t.START,index:Pe.number(i)?i:a},!0),status:l?tt.RUNNING:tt.WAITING})}),be(this,"stop",(i=!1)=>{const{index:a,status:l}=this.getState();[tt.FINISHED,tt.SKIPPED].includes(l)||this.setState({...this.getNextState({action:_t.STOP,index:a+(i?1:0)}),status:tt.PAUSED})}),be(this,"update",i=>{var a,l;if(!dU(i,PT))throw new Error(`State is not valid. Valid keys: ${PT.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...i,action:(a=i.action)!=null?a:_t.UPDATE,origin:(l=i.origin)!=null?l:null},!0)})});const{continuous:e=!1,stepIndex:n,steps:r=[]}=t??{};this.setState({action:_t.INIT,controlled:Pe.number(n),continuous:e,index:Pe.number(n)?n:0,lifecycle:Ge.INIT,origin:null,status:r.length?tt.READY:tt.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...qR}}getNextState(t,e=!1){var n,r,i,a,l;const{action:c,controlled:f,index:p,size:m,status:y}=this.getState(),w=Pe.number(t.index)?t.index:p,T=f&&!e?p:Math.min(Math.max(w,0),m);return{action:(n=t.action)!=null?n:c,controlled:f,index:T,lifecycle:(r=t.lifecycle)!=null?r:Ge.INIT,origin:(i=t.origin)!=null?i:null,size:(a=t.size)!=null?a:m,status:T===m?tt.FINISHED:(l=t.status)!=null?l:y}}getSteps(){const t=this.data.get("steps");return Array.isArray(t)?t:[]}hasUpdatedState(t){const e=JSON.stringify(t),n=JSON.stringify(this.getState());return e!==n}setState(t,e=!1){const n=this.getState(),{action:r,index:i,lifecycle:a,origin:l=null,size:c,status:f}={...n,...t};this.store.set("action",r),this.store.set("index",i),this.store.set("lifecycle",a),this.store.set("origin",l),this.store.set("size",c),this.store.set("status",f),e&&(this.store.set("controlled",t.controlled),this.store.set("continuous",t.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}};function IU(t){return new TU(t)}function SU({styles:t}){return L.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:t})}var RU=SU,AU=class extends L.Component{constructor(){super(...arguments),be(this,"isActive",!1),be(this,"resizeTimeout"),be(this,"scrollTimeout"),be(this,"scrollParent"),be(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),be(this,"hideSpotlight",()=>{const{continuous:t,disableOverlay:e,lifecycle:n}=this.props,r=[Ge.INIT,Ge.BEACON,Ge.COMPLETE,Ge.ERROR];return e||(t?r.includes(n):n!==Ge.TOOLTIP)}),be(this,"handleMouseMove",t=>{const{mouseOverSpotlight:e}=this.state,{height:n,left:r,position:i,top:a,width:l}=this.spotlightStyles,c=i==="fixed"?t.clientY:t.pageY,f=i==="fixed"?t.clientX:t.pageX,p=c>=a&&c<=a+n,y=f>=r&&f<=r+l&&p;y!==e&&this.updateState({mouseOverSpotlight:y})}),be(this,"handleScroll",()=>{const{target:t}=this.props,e=vs(t);if(this.scrollParent!==document){const{isScrolling:n}=this.state;n||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(()=>{this.updateState({isScrolling:!1,showSpotlight:!0})},50)}else Ql(e,"sticky")&&this.updateState({})}),be(this,"handleResize",()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.isActive&&this.forceUpdate()},100)})}componentDidMount(){const{debug:t,disableScrolling:e,disableScrollParentFix:n=!1,target:r}=this.props,i=vs(r);this.scrollParent=Ac(i??document.body,n,!0),this.isActive=!0,window.addEventListener("resize",this.handleResize)}componentDidUpdate(t){var e;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:i,target:a}=this.props,{changed:l}=uh(t,this.props);if(l("target")||l("disableScrollParentFix")){const c=vs(a);this.scrollParent=Ac(c??document.body,n,!0)}l("lifecycle",Ge.TOOLTIP)&&((e=this.scrollParent)==null||e.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout(()=>{const{isScrolling:c}=this.state;c||this.updateState({showSpotlight:!0})},100)),(l("spotlightClicks")||l("disableOverlay")||l("lifecycle"))&&(i&&r===Ge.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Ge.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var t;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),(t=this.scrollParent)==null||t.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:t}=this.state,{disableOverlayClose:e,placement:n,styles:r}=this.props;let i=r.overlay;return ST()&&(i=n==="center"?r.overlayLegacyCenter:r.overlayLegacy),{cursor:e?"default":"pointer",height:iU(),pointerEvents:t?"none":"auto",...i}}get spotlightStyles(){var t,e,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:i=!1,spotlightClicks:a,spotlightPadding:l=0,styles:c,target:f}=this.props,p=vs(f),m=BR(p),y=Ql(p),w=lU(p,l,i);return{...ST()?c.spotlightLegacy:c.spotlight,height:Math.round(((t=m?.height)!=null?t:0)+l*2),left:Math.round(((e=m?.left)!=null?e:0)-l),opacity:r?1:0,pointerEvents:a?"none":"auto",position:y?"fixed":"absolute",top:w,transition:"opacity 0.2s",width:Math.round(((n=m?.width)!=null?n:0)+l*2)}}updateState(t){this.isActive&&this.setState(e=>({...e,...t}))}render(){const{showSpotlight:t}=this.state,{onClickOverlay:e,placement:n}=this.props,{hideSpotlight:r,overlayStyles:i,spotlightStyles:a}=this;if(r())return null;let l=n!=="center"&&t&&L.createElement(RU,{styles:a});if(zR()==="safari"){const{mixBlendMode:c,zIndex:f,...p}=i;l=L.createElement("div",{style:{...p}},l),delete i.backgroundColor}return L.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:e,role:"presentation",style:i},l)}},PU=class extends L.Component{constructor(){super(...arguments),be(this,"node",null)}componentDidMount(){const{id:t}=this.props;mo()&&(this.node=document.createElement("div"),this.node.id=t,document.body.appendChild(this.node),Qu||this.renderReact15())}componentDidUpdate(){mo()&&(Qu||this.renderReact15())}componentWillUnmount(){!mo()||!this.node||(Qu||Sl.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!mo())return;const{children:t}=this.props;this.node&&Sl.unstable_renderSubtreeIntoContainer(this,t,this.node)}renderReact16(){if(!mo()||!Qu)return null;const{children:t}=this.props;return this.node?Sl.createPortal(t,this.node):null}render(){return Qu?this.renderReact16():null}},CU=class{constructor(t,e){if(be(this,"element"),be(this,"options"),be(this,"canBeTabbed",n=>{const{tabIndex:r}=n;return r===null||r<0?!1:this.canHaveFocus(n)}),be(this,"canHaveFocus",n=>{const r=/input|select|textarea|button|object/,i=n.nodeName.toLowerCase();return(r.test(i)&&!n.getAttribute("disabled")||i==="a"&&!!n.getAttribute("href"))&&this.isVisible(n)}),be(this,"findValidTabElements",()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed)),be(this,"handleKeyDown",n=>{const{code:r="Tab"}=this.options;n.code===r&&this.interceptTab(n)}),be(this,"interceptTab",n=>{n.preventDefault();const r=this.findValidTabElements(),{shiftKey:i}=n;if(!r.length)return;let a=document.activeElement?r.indexOf(document.activeElement):0;a===-1||!i&&a+1===r.length?a=0:i&&a===0?a=r.length-1:a+=i?-1:1,r[a].focus()}),be(this,"isHidden",n=>{const r=n.offsetWidth<=0&&n.offsetHeight<=0,i=window.getComputedStyle(n);return r&&!n.innerHTML?!0:r&&i.getPropertyValue("overflow")!=="visible"||i.getPropertyValue("display")==="none"}),be(this,"isVisible",n=>{let r=n;for(;r;)if(r instanceof HTMLElement){if(r===document.body)break;if(this.isHidden(r))return!1;r=r.parentNode}return!0}),be(this,"removeScope",()=>{window.removeEventListener("keydown",this.handleKeyDown)}),be(this,"checkFocus",n=>{document.activeElement!==n&&(n.focus(),window.requestAnimationFrame(()=>this.checkFocus(n)))}),be(this,"setFocus",()=>{const{selector:n}=this.options;if(!n)return;const r=this.element.querySelector(n);r&&window.requestAnimationFrame(()=>this.checkFocus(r))}),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=e,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},bU=class extends L.Component{constructor(t){if(super(t),be(this,"beacon",null),be(this,"setBeaconRef",i=>{this.beacon=i}),t.beaconComponent)return;const e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",t.nonce&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode(`
        @keyframes joyride-beacon-inner {
          20% {
            opacity: 0.9;
          }
        
          90% {
            opacity: 0.7;
          }
        }
        
        @keyframes joyride-beacon-outer {
          0% {
            transform: scale(1);
          }
        
          45% {
            opacity: 0.7;
            transform: scale(0.75);
          }
        
          100% {
            opacity: 0.9;
            transform: scale(1);
          }
        }
      `)),e.appendChild(n)}componentDidMount(){const{shouldFocus:t}=this.props;setTimeout(()=>{Pe.domElement(this.beacon)&&t&&this.beacon.focus()},0)}componentWillUnmount(){const t=document.getElementById("joyride-beacon-animation");t?.parentNode&&t.parentNode.removeChild(t)}render(){const{beaconComponent:t,continuous:e,index:n,isLastStep:r,locale:i,onClickOrHover:a,size:l,step:c,styles:f}=this.props,p=Vi(i.open),m={"aria-label":p,onClick:a,onMouseEnter:a,ref:this.setBeaconRef,title:p};let y;if(t){const w=t;y=L.createElement(w,{continuous:e,index:n,isLastStep:r,size:l,step:c,...m})}else y=L.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:f.beacon,type:"button",...m},L.createElement("span",{style:f.beaconInner}),L.createElement("span",{style:f.beaconOuter}));return y}};function kU({styles:t,...e}){const{color:n,height:r,width:i,...a}=t;return me.createElement("button",{style:a,type:"button",...e},me.createElement("svg",{height:typeof r=="number"?`${r}px`:r,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:typeof i=="number"?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},me.createElement("g",null,me.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))}var OU=kU;function xU(t){const{backProps:e,closeProps:n,index:r,isLastStep:i,primaryProps:a,skipProps:l,step:c,tooltipProps:f}=t,{content:p,hideBackButton:m,hideCloseButton:y,hideFooter:w,showSkipButton:T,styles:S,title:A}=c,b={};return b.primary=L.createElement("button",{"data-test-id":"button-primary",style:S.buttonNext,type:"button",...a}),T&&!i&&(b.skip=L.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:S.buttonSkip,type:"button",...l})),!m&&r>0&&(b.back=L.createElement("button",{"data-test-id":"button-back",style:S.buttonBack,type:"button",...e})),b.close=!y&&L.createElement(OU,{"data-test-id":"button-close",styles:S.buttonClose,...n}),L.createElement("div",{key:"JoyrideTooltip","aria-label":Vi(A??p),className:"react-joyride__tooltip",style:S.tooltip,...f},L.createElement("div",{style:S.tooltipContainer},A&&L.createElement("h1",{"aria-label":Vi(A),style:S.tooltipTitle},A),L.createElement("div",{style:S.tooltipContent},p)),!w&&L.createElement("div",{style:S.tooltipFooter},L.createElement("div",{style:S.tooltipFooterSpacer},b.skip),b.back,b.primary),b.close)}var NU=xU,DU=class extends L.Component{constructor(){super(...arguments),be(this,"handleClickBack",t=>{t.preventDefault();const{helpers:e}=this.props;e.prev()}),be(this,"handleClickClose",t=>{t.preventDefault();const{helpers:e}=this.props;e.close("button_close")}),be(this,"handleClickPrimary",t=>{t.preventDefault();const{continuous:e,helpers:n}=this.props;if(!e){n.close("button_primary");return}n.next()}),be(this,"handleClickSkip",t=>{t.preventDefault();const{helpers:e}=this.props;e.skip()}),be(this,"getElementsProps",()=>{const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:a}=this.props,{back:l,close:c,last:f,next:p,nextLabelWithProgress:m,skip:y}=a.locale,w=Vi(l),T=Vi(c),S=Vi(f),A=Vi(p),b=Vi(y);let M=c,x=T;if(t){if(M=p,x=A,a.showProgress&&!n){const G=Vi(m,{step:e+1,steps:i});M=zg(m,e+1,i),x=G}n&&(M=f,x=S)}return{backProps:{"aria-label":w,children:l,"data-action":"back",onClick:this.handleClickBack,role:"button",title:w},closeProps:{"aria-label":T,children:c,"data-action":"close",onClick:this.handleClickClose,role:"button",title:T},primaryProps:{"aria-label":x,children:M,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:x},skipProps:{"aria-label":b,children:y,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:b},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}})}render(){const{continuous:t,index:e,isLastStep:n,setTooltipRef:r,size:i,step:a}=this.props,{beaconComponent:l,tooltipComponent:c,...f}=a;let p;if(c){const m={...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:f,setTooltipRef:r},y=c;p=L.createElement(y,{...m})}else p=L.createElement(NU,{...this.getElementsProps(),continuous:t,index:e,isLastStep:n,size:i,step:a});return p}},LU=class extends L.Component{constructor(){super(...arguments),be(this,"scope",null),be(this,"tooltip",null),be(this,"handleClickHoverBeacon",t=>{const{step:e,store:n}=this.props;t.type==="mouseenter"&&e.event!=="hover"||n.update({lifecycle:Ge.TOOLTIP})}),be(this,"setTooltipRef",t=>{this.tooltip=t}),be(this,"setPopper",(t,e)=>{var n;const{action:r,lifecycle:i,step:a,store:l}=this.props;e==="wrapper"?l.setPopper("beacon",t):l.setPopper("tooltip",t),l.getPopper("beacon")&&(l.getPopper("tooltip")||a.placement==="center")&&i===Ge.INIT&&l.update({action:r,lifecycle:Ge.READY}),(n=a.floaterProps)!=null&&n.getPopper&&a.floaterProps.getPopper(t,e)}),be(this,"renderTooltip",t=>{const{continuous:e,helpers:n,index:r,size:i,step:a}=this.props;return L.createElement(DU,{continuous:e,helpers:n,index:r,isLastStep:r+1===i,setTooltipRef:this.setTooltipRef,size:i,step:a,...t})})}componentDidMount(){const{debug:t,index:e}=this.props;Aa({title:`step:${e}`,data:[{key:"props",value:this.props}],debug:t})}componentDidUpdate(t){var e;const{action:n,callback:r,continuous:i,controlled:a,debug:l,helpers:c,index:f,lifecycle:p,shouldScroll:m,status:y,step:w,store:T}=this.props,{changed:S,changedFrom:A}=uh(t,this.props),b=c.info(),M=i&&n!==_t.CLOSE&&(f>0||n===_t.PREV),x=S("action")||S("index")||S("lifecycle")||S("status"),G=A("lifecycle",[Ge.TOOLTIP,Ge.INIT],Ge.INIT),ee=S("action",[_t.NEXT,_t.PREV,_t.SKIP,_t.CLOSE]),ue=a&&f===t.index;if(ee&&(G||ue)&&r({...b,index:t.index,lifecycle:Ge.COMPLETE,step:t.step,type:zr.STEP_AFTER}),w.placement==="center"&&y===tt.RUNNING&&S("index")&&n!==_t.START&&p===Ge.INIT&&T.update({lifecycle:Ge.READY}),x){const fe=vs(w.target),R=!!fe;R&&aU(fe)?(A("status",tt.READY,tt.RUNNING)||A("lifecycle",Ge.INIT,Ge.READY))&&r({...b,step:w,type:zr.STEP_BEFORE}):(console.warn(R?"Target not visible":"Target not mounted",w),r({...b,type:zr.TARGET_NOT_FOUND,step:w}),a||T.update({index:f+(n===_t.PREV?-1:1)}))}A("lifecycle",Ge.INIT,Ge.READY)&&T.update({lifecycle:IT(w)||M?Ge.TOOLTIP:Ge.BEACON}),S("index")&&Aa({title:`step:${p}`,data:[{key:"props",value:this.props}],debug:l}),S("lifecycle",Ge.BEACON)&&r({...b,step:w,type:zr.BEACON}),S("lifecycle",Ge.TOOLTIP)&&(r({...b,step:w,type:zr.TOOLTIP}),m&&this.tooltip&&(this.scope=new CU(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),A("lifecycle",[Ge.TOOLTIP,Ge.INIT],Ge.INIT)&&((e=this.scope)==null||e.removeScope(),T.cleanupPoppers())}componentWillUnmount(){var t;(t=this.scope)==null||t.removeScope()}get open(){const{lifecycle:t,step:e}=this.props;return IT(e)||t===Ge.TOOLTIP}render(){const{continuous:t,debug:e,index:n,nonce:r,shouldScroll:i,size:a,step:l}=this.props,c=vs(l.target);return!WR(l)||!Pe.domElement(c)?null:L.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},L.createElement(mv,{...l.floaterProps,component:this.renderTooltip,debug:e,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:l.placement,target:l.target},L.createElement(bU,{beaconComponent:l.beaconComponent,continuous:t,index:n,isLastStep:n+1===a,locale:l.locale,nonce:r,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:a,step:l,styles:l.styles})))}},GR=class extends L.Component{constructor(t){super(t),be(this,"helpers"),be(this,"store"),be(this,"callback",l=>{const{callback:c}=this.props;Pe.function(c)&&c(l)}),be(this,"handleKeyboard",l=>{const{index:c,lifecycle:f}=this.state,{steps:p}=this.props,m=p[c];f===Ge.TOOLTIP&&l.code==="Escape"&&m&&!m.disableCloseOnEsc&&this.store.close("keyboard")}),be(this,"handleClickOverlay",()=>{const{index:l}=this.state,{steps:c}=this.props;vl(this.props,c[l]).disableOverlayClose||this.helpers.close("overlay")}),be(this,"syncState",l=>{this.setState(l)});const{debug:e,getHelpers:n,run:r=!0,stepIndex:i}=t;this.store=IU({...t,controlled:r&&Pe.number(i)}),this.helpers=this.store.getHelpers();const{addListener:a}=this.store;Aa({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:e}),a(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!mo())return;const{debug:t,disableCloseOnEsc:e,run:n,steps:r}=this.props,{start:i}=this.store;AT(r,t)&&n&&i(),e||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(t,e){if(!mo())return;const{action:n,controlled:r,index:i,status:a}=this.state,{debug:l,run:c,stepIndex:f,steps:p}=this.props,{stepIndex:m,steps:y}=t,{reset:w,setSteps:T,start:S,stop:A,update:b}=this.store,{changed:M}=uh(t,this.props),{changed:x,changedFrom:G}=uh(e,this.state),ee=vl(this.props,p[i]),ue=!Kn(y,p),fe=Pe.number(f)&&M("stepIndex"),R=vs(ee.target);if(ue&&(AT(p,l)?T(p):console.warn("Steps are not valid",p)),M("run")&&(c?S(f):A()),fe){let N=Pe.number(m)&&m<f?_t.NEXT:_t.PREV;n===_t.STOP&&(N=_t.START),[tt.FINISHED,tt.SKIPPED].includes(a)||b({action:n===_t.CLOSE?_t.CLOSE:N,index:f,lifecycle:Ge.INIT})}!r&&a===tt.RUNNING&&i===0&&!R&&(this.store.update({index:i+1}),this.callback({...this.state,type:zr.TARGET_NOT_FOUND,step:ee}));const C={...this.state,index:i,step:ee};if(x("action",[_t.NEXT,_t.PREV,_t.SKIP,_t.CLOSE])&&x("status",tt.PAUSED)){const N=vl(this.props,p[e.index]);this.callback({...C,index:e.index,lifecycle:Ge.COMPLETE,step:N,type:zr.STEP_AFTER})}if(x("status",[tt.FINISHED,tt.SKIPPED])){const N=vl(this.props,p[e.index]);r||this.callback({...C,index:e.index,lifecycle:Ge.COMPLETE,step:N,type:zr.STEP_AFTER}),this.callback({...C,type:zr.TOUR_END,step:N,index:e.index}),w()}else G("status",[tt.IDLE,tt.READY],tt.RUNNING)?this.callback({...C,type:zr.TOUR_START}):(x("status")||x("action",_t.RESET))&&this.callback({...C,type:zr.TOUR_STATUS});this.scrollToStep(e)}componentWillUnmount(){const{disableCloseOnEsc:t}=this.props;t||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(t){const{index:e,lifecycle:n,status:r}=this.state,{debug:i,disableScrollParentFix:a=!1,scrollDuration:l,scrollOffset:c=20,scrollToFirstStep:f=!1,steps:p}=this.props,m=vl(this.props,p[e]),y=vs(m.target),w=mU({isFirstStep:e===0,lifecycle:n,previousLifecycle:t.lifecycle,scrollToFirstStep:f,step:m,target:y});if(r===tt.RUNNING&&w){const T=Kh(y,a),S=Ac(y,a);let A=Math.floor(uU(y,c,a))||0;Aa({title:"scrollToStep",data:[{key:"index",value:e},{key:"lifecycle",value:n},{key:"status",value:r}],debug:i});const b=this.store.getPopper("beacon"),M=this.store.getPopper("tooltip");if(n===Ge.BEACON&&b){const{offsets:x,placement:G}=b;!["bottom"].includes(G)&&!T&&(A=Math.floor(x.popper.top-c))}else if(n===Ge.TOOLTIP&&M){const{flipped:x,offsets:G,placement:ee}=M;["top","right","left"].includes(ee)&&!x&&!T?A=Math.floor(G.popper.top-c):A-=m.spotlightPadding}A=A>=0?A:0,r===tt.RUNNING&&cU(A,{element:S,duration:l}).then(()=>{setTimeout(()=>{var x;(x=this.store.getPopper("tooltip"))==null||x.instance.update()},10)})}}render(){if(!mo())return null;const{index:t,lifecycle:e,status:n}=this.state,{continuous:r=!1,debug:i=!1,nonce:a,scrollToFirstStep:l=!1,steps:c}=this.props,f=n===tt.RUNNING,p={};if(f&&c[t]){const m=vl(this.props,c[t]);p.step=L.createElement(LU,{...this.state,callback:this.callback,continuous:r,debug:i,helpers:this.helpers,nonce:a,shouldScroll:!m.disableScrolling&&(t!==0||l),step:m,store:this.store}),p.overlay=L.createElement(PU,{id:"react-joyride-portal"},L.createElement(AU,{...m,continuous:r,debug:i,lifecycle:e,onClickOverlay:this.handleClickOverlay}))}return L.createElement("div",{className:"react-joyride"},p.step,p.overlay)}};be(GR,"defaultProps",vU);var MU=GR;const c6=[{target:'[data-tutorial-id="header-notifications"]',content:"새로운 알림이나 오늘 픽업할 상품이 있으면 여기에 표시돼요!",disableBeacon:!0},{target:'[data-tutorial-id="main-banner"]',content:"가장 먼저 보이는 메인 배너에서는 최신 소식과 이벤트 정보를 확인할 수 있어요!"},{target:'[data-tutorial-id="primary-sale-section"]',content:"🔥오늘의 공동구매! 매일 오후 1시에 오픈되는 상품들을 예약할 수 있는 핵심 공간입니다. 옆으로 스크롤해서 더 많은 상품을 확인해보세요!"},{target:'[data-tutorial-id="secondary-sale-section"]',content:"⏰마감임박 추가공구! 아쉽게 놓친 상품이 있다면, 픽업일 점심까지 여기서 마지막으로 예약할 수 있어요."},{target:'[data-tutorial-id="past-sale-section"]',content:"최근에 마감된 상품들이 날짜별로 정리되어 있어요. 다른 분들이 어떤 상품을 샀는지 구경하고, 앵콜을 요청할 수도 있답니다.",placement:"top"},{target:'[data-tutorial-id="bottom-nav-cart"]',content:"상품을 담았다면 여기서 확인! 예약할 상품과 대기 상품을 모두 관리할 수 있어요.",placement:"top"},{target:'[data-tutorial-id="bottom-nav-customer-center"]',content:"문의사항이 있거나 매장 정보가 궁금할 땐 고객센터를 이용해주세요.",placement:"top"},{target:'[data-tutorial-id="bottom-nav-mypage"]',content:"나의 등급, 포인트, 주문 내역 등 모든 내 정보를 여기서 확인하세요. 튜토리얼이 끝나면 마이페이지로 이동해볼까요?",placement:"top"}],d6=[{target:'[data-tutorial-id="detail-image-gallery"]',content:"상품 이미지를 클릭하면 전체 화면으로 크게 볼 수 있어요.",disableBeacon:!0},{target:'[data-tutorial-id="detail-key-info"]',content:"판매 회차, 마감일, 픽업일 등 중요한 정보는 여기서 확인하세요!"},{target:'[data-tutorial-id="detail-options"]',content:"옵션이 여러 개인 경우, 여기서 원하는 옵션을 선택할 수 있습니다."},{target:'[data-tutorial-id="detail-quantity-controls"]',content:"여기서 구매할 수량을 조절할 수 있어요. 버튼을 길게 누르면 수량이 빠르게 변경됩니다."},{target:'[data-tutorial-id="detail-action-button"]',content:"모든 선택이 끝났다면, 이 버튼을 눌러 장바구니에 담거나 대기 신청을 할 수 있습니다."}],f6=[{target:'[data-tutorial-id="cart-reservation-list"]',content:"장바구니에 담은 예약 상품들이 여기에 표시됩니다. 상품을 길게 누르면 삭제할 수 있어요.",disableBeacon:!0},{target:'[data-tutorial-id="cart-waitlist-list"]',content:"품절 상품에 대기 신청을 하면 여기에 표시돼요. 재고가 확보되면 자동으로 예약으로 전환됩니다!"},{target:'[data-tutorial-id="cart-checkout-button"]',content:"모든 상품을 확인했다면, 이 버튼을 눌러 최종적으로 예약을 확정하세요!"}],h6=[{target:'[data-tutorial-id="calendar-main"]',content:"이 캘린더에서 나의 픽업 일정을 한눈에 확인할 수 있어요. 날짜에 표시된 색깔은 픽업 상태를 의미합니다.",disableBeacon:!0},{target:'[data-tutorial-id="calendar-legend"]',content:"픽업 예정, 완료, 노쇼 등 각 색상이 어떤 상태를 나타내는지 여기서 확인할 수 있습니다."},{target:'[data-tutorial-id="calendar-challenge"]',content:"매달 주어지는 간단한 픽업 챌린지에 도전하고, 나의 활동을 점검해보세요!"},{target:'[data-tutorial-id="calendar-main"]',content:"픽업 일정이 있는 날짜를 클릭하면, 그날 찾아가야 할 상품 목록을 아래에서 바로 확인할 수 있답니다."}],p6=[{target:'[data-tutorial-id="customer-center-quick-links"]',content:"가장 자주 사용하는 기능이에요! 버튼을 눌러 소도몰 카카오톡 채널로 이동하거나, 사장님과 1:1 문의를 시작할 수 있습니다.",disableBeacon:!0},{target:'[data-tutorial-id="customer-center-tabs"]',content:"매장 정보, 이용 안내, 자주 묻는 질문 등 궁금한 정보를 탭해서 확인해보세요."},{target:'[data-tutorial-id="customer-center-map"]',content:"매장 위치가 궁금하다면 지도를 확인해주세요!",placement:"top"}],m6=[{target:'[data-tutorial-id="mypage-profile-card"]',content:"이곳에서 나의 신뢰 등급과 활동 포인트를 한눈에 확인할 수 있어요. 카드를 클릭하면 등급별 혜택을 볼 수 있습니다.",disableBeacon:!0},{target:'[data-tutorial-id="mypage-nickname-setup"]',content:"아직 닉네임을 설정하지 않으셨다면, 여기서 설정해주세요! 소통이 훨씬 원활해집니다."},{target:'[data-tutorial-id="mypage-referral-code"]',content:"친구에게 내 초대코드를 공유하고 함께 포인트를 받아보세요!"},{target:'[data-tutorial-id="mypage-menu-list"]',content:"주문/대기 내역, 픽업 달력 등 나의 모든 활동 내역은 여기서 확인할 수 있습니다."}],g6=[{target:'[data-tutorial-id="history-view-toggle"]',content:"주문일순, 픽업일순, 대기목록으로 나누어 내역을 편리하게 확인해보세요.",disableBeacon:!0},{target:'[data-tutorial-id="history-cancel-info"]',content:"예약을 취소하고 싶으신가요? 취소하고 싶은 상품 카드를 1.5초간 길게 누르면 취소할 수 있습니다."},{target:'[data-tutorial-id="history-waitlist-ticket"]',content:"대기 목록에서는 50포인트를 사용해 '순서 올리기'가 가능해요. 인기 상품을 더 빨리 받아보세요!"}],VU=({steps:t,tourKey:e})=>{const{user:n,userDocument:r}=su(),{stopTour:i}=o4(),a=async l=>{const{status:c,action:f,type:p}=l,m=[tt.FINISHED,tt.SKIPPED];if(f===_t.CLOSE&&p===zr.TOOLTIP){i();return}if(m.includes(c)&&(i(),n?.uid&&r&&!r.hasCompletedTutorial))try{const y=ut(ke,"users",n.uid);await Wr(y,{hasCompletedTutorial:!0})}catch(y){console.error("튜토리얼 완료 상태 업데이트 실패:",y)}};return!t||t.length===0?null:ce.jsx(MU,{steps:t,run:t.length>0,callback:a,continuous:!0,showProgress:!0,showSkipButton:!0,disableOverlayClose:!0,disableCloseOnEsc:!0,spotlightClicks:!0,scrollOffset:150,floaterProps:{styles:{arrow:{length:8,spread:12}}},locale:{back:"이전",close:"닫기",last:"완료",next:"다음",skip:"건너뛰기"},styles:{options:{zIndex:1e4,arrowColor:"#fff",backgroundColor:"#fff",primaryColor:"var(--accent-color)",textColor:"var(--text-color-primary)"},tooltip:{borderRadius:"12px",padding:"16px 20px",width:"340px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"},tooltipContent:{padding:"8px 0"},buttonNext:{fontWeight:600,fontSize:"15px",padding:"10px 16px"},buttonBack:{marginRight:10,fontWeight:500},buttonSkip:{fontSize:"14px",color:"var(--text-color-secondary)"}}},e)},ms=({message:t})=>ce.jsx("div",{className:"Sodomall-loader-overlay",children:ce.jsxs("div",{className:"Sodomall-loader-container",children:[ce.jsxs("div",{className:"Sodomall-loader-text",children:[ce.jsx("span",{children:"소"}),ce.jsx("span",{children:"도"}),ce.jsx("span",{children:"몰"})]}),t&&ce.jsx("p",{className:"Sodomall-loader-message",children:t})]})}),FU=()=>{const{loading:t}=su();return t?ce.jsx(ms,{}):ce.jsx(ce.Fragment,{children:ce.jsx(fR,{children:ce.jsx(cR,{children:(e,n)=>ce.jsxs(ce.Fragment,{children:[ce.jsx(s4,{children:ce.jsx(iR,{children:ce.jsx(KV,{children:ce.jsx(i4,{children:ce.jsx(GT,{})})})})}),ce.jsx(VU,{steps:e,tourKey:n})]})})})})},CT=({adminOnly:t=!1})=>{const{user:e,loading:n,isAdmin:r}=su(),i=Pa();return n?ce.jsx(ms,{message:"사용자 정보를 확인하는 중..."}):e?t&&!r?ce.jsx(Qw,{to:"/",replace:!0}):ce.jsx(GT,{}):ce.jsx(Qw,{to:"/login",state:{from:i},replace:!0})},UU=me.lazy(()=>kt(()=>import("./CustomerLayout-DXqj3J36.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),jU=me.lazy(()=>kt(()=>import("./AdminLayout-GMdz-POJ.js"),__vite__mapDeps([15,3,16,17,18,19,20,21,22,23,24]))),BU=me.lazy(()=>kt(()=>import("./LoginPage-0FoADJBy.js"),__vite__mapDeps([25,26]))),zU=me.lazy(()=>kt(()=>import("./ProductListPage-DuWPvgrA.js"),__vite__mapDeps([27,22,23,28,3,2,29,30,31,32,33,34,6,35,36,37,38,17,39,40,41,42,43]))),$U=me.lazy(()=>kt(()=>import("./ProductDetailPage-Bt7HtZhF.js"),__vite__mapDeps([44,33,31,34,45,30,32,5,3,46,47,35,48,49,36,10,37,17,39,40,50]))),HU=me.lazy(()=>kt(()=>import("./CartPage-DOu8AXIb.js"),__vite__mapDeps([51,31,32,41,45,30,42,3,9,36,17,52,4,6,8,39,40,1,53]))),WU=me.lazy(()=>kt(()=>import("./MyPage-H85I6Nkf.js"),__vite__mapDeps([54,22,23,55,3,8,56,13,29,57,5,47,6,7,58,35,59]))),qU=me.lazy(()=>kt(()=>import("./OrderHistoryPage-C13J146A.js"),__vite__mapDeps([60,61,32,31,22,23,30,41,62,3,63,11,64,36,57,8,65,49,19]))),GU=me.lazy(()=>kt(()=>import("./CustomerCenterPage-BFpkv3l_.js").then(t=>t.C),__vite__mapDeps([66,67,3,5,38,68,22,23,52,69,18,70,71]))),KU=me.lazy(()=>kt(()=>import("./PointHistoryPage-Dd_lJXMd.js"),__vite__mapDeps([72,73,74,22,23,3,13,70,57,5,12,17,75]))),QU=me.lazy(()=>kt(()=>import("./OnsiteSalePage-CvdLNldA.js"),__vite__mapDeps([76,77,3,78]))),YU=me.lazy(()=>kt(()=>import("./TermsPage-BMqW5U2B.js"),__vite__mapDeps([79,80,81]))),JU=me.lazy(()=>kt(()=>import("./PrivacyPolicyPage-C4RJB_Mg.js"),__vite__mapDeps([82,80,83]))),XU=me.lazy(()=>kt(()=>import("./OrderCalendar-tw9TQloE.js"),__vite__mapDeps([84,62,3,63,22,23,30,41,1,57,65,11,49,36,5,55,35,85,86]))),ZU=me.lazy(()=>kt(()=>import("./EncorePage-Dnxz-TEI.js"),__vite__mapDeps([87,77,3,78]))),bT=me.lazy(()=>kt(()=>import("./DashboardPage-E9fbrojP.js"),__vite__mapDeps([88,80,13,3,36,10,89]))),e3=me.lazy(()=>kt(()=>import("./ProductListPageAdmin-lw-NmWur.js"),__vite__mapDeps([90,80,61,22,23,31,34,91,92,3,40,58,46,93,94,52,95,68,96,97,98]))),t3=me.lazy(()=>kt(()=>import("./ProductAddAdminPage-BMPB3ZZz.js"),__vite__mapDeps([99,80,100,101,22,23,73,74,91,92,3,69,19,102,52,5,67,48,94,20,8,28,103]))),n3=me.lazy(()=>kt(()=>import("./SalesRoundEditPage--qbhazs2.js"),__vite__mapDeps([104,80,100,101,22,23,73,74,91,92,3,69,19,102,52,5,67,48,94,20,8,28,103]))),r3=me.lazy(()=>kt(()=>import("./UserListPage-DKr-nefz.js"),__vite__mapDeps([105,80,106,3,5,102,107,108,46,109,6,7,96,97,110]))),i3=me.lazy(()=>kt(()=>import("./UserDetailPage-BGnvjAFO.js"),__vite__mapDeps([111,61,80,106,3,5,102,107,108,112,113,64,36,85,6,7,69,95,58,56,52,94,114]))),s3=me.lazy(()=>kt(()=>import("./BannerAdminPage-C3CA6yaP.js"),__vite__mapDeps([115,80,3,21,116,35,94,117]))),o3=me.lazy(()=>kt(()=>import("./CategoryManagementPage-ZYw0mHrq.js"),__vite__mapDeps([118,80,101,67,3,116,38,5,95,94,119]))),a3=me.lazy(()=>kt(()=>import("./OrderManagementPage-BnkBMpGx.js"),__vite__mapDeps([120,80,61,91,16,3,46,93,37,109,94,49,28,65,121,96,97,52,122]))),l3=me.lazy(()=>kt(()=>import("./ProductCategoryBatchPage-BgQbcghw.js"),__vite__mapDeps([123,22,23,3,46,97,124]))),u3=me.lazy(()=>kt(()=>import("./QuickCheckPage-CsI516e9.js"),__vite__mapDeps([125,61,108,3,113,6,7,91,67,10,9,94,121,56,69,52,1,57,112,46,5,18,126]))),c3=bC([{path:"/",element:ce.jsx(FU,{}),children:[{path:"login",element:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx(BU,{})})},{path:"terms",element:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx(YU,{})})},{path:"privacy",element:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx(JU,{})})},{element:ce.jsx(CT,{adminOnly:!0}),children:[{path:"admin",element:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx(jU,{})}),children:[{index:!0,element:ce.jsx(bT,{})},{path:"dashboard",element:ce.jsx(bT,{})},{path:"quick-check",element:ce.jsx(u3,{})},{path:"products",element:ce.jsx(e3,{})},{path:"products/add",element:ce.jsx(t3,{})},{path:"products/edit/:productId/:roundId",element:ce.jsx(n3,{})},{path:"products/batch-category",element:ce.jsx(l3,{})},{path:"categories",element:ce.jsx(o3,{})},{path:"orders",element:ce.jsx(a3,{})},{path:"users",element:ce.jsx(r3,{})},{path:"users/:userId",element:ce.jsx(i3,{})},{path:"banners",element:ce.jsx(s3,{})}]}]},{element:ce.jsx(CT,{}),children:[{element:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx(UU,{})}),children:[{index:!0,element:ce.jsx(zU,{})},{path:"cart",element:ce.jsx(HU,{})},{path:"onsite-sale",element:ce.jsx(QU,{})},{path:"customer-center",element:ce.jsx(GU,{})},{path:"encore",element:ce.jsx(ZU,{})},{path:"mypage",children:[{index:!0,element:ce.jsx(WU,{})},{path:"history",element:ce.jsx(qU,{})},{path:"points",element:ce.jsx(KU,{})},{path:"orders",element:ce.jsx(XU,{})}]}]},{path:"product/:productId",element:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx($U,{})})}]}]},{path:"*",element:ce.jsx("div",{style:{padding:"50px",textAlign:"center",fontSize:"1.5rem",color:"#666"},children:"404 - 페이지를 찾을 수 없습니다."})}]);aP.createRoot(document.getElementById("root")).render(ce.jsx(me.Fragment,{children:ce.jsxs(oI,{children:[ce.jsx(Lb,{position:"top-center",toastOptions:{duration:4e3,style:{background:"#fff",color:"var(--text-color-dark, #343a40)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",borderRadius:"10px",border:"1px solid #f0f0f0",padding:"12px 16px",fontSize:"1rem",fontWeight:"500"},success:{iconTheme:{primary:"var(--accent-color, #28a745)",secondary:"#fff"}},error:{iconTheme:{primary:"var(--danger-color, #dc3545)",secondary:"#fff"}}},containerStyle:{zIndex:9999,transform:"translateZ(0)"}}),ce.jsx(qV,{children:ce.jsx(iR,{children:ce.jsx(cR,{children:()=>ce.jsx(fR,{children:ce.jsx(L.Suspense,{fallback:ce.jsx(ms,{}),children:ce.jsx(VC,{router:c3})})})})})})]})}));export{G3 as $,m6 as A,ut as B,ke as C,Wr as D,g6 as E,e6 as F,Z3 as G,y3 as H,d3 as I,p6 as J,D3 as K,zC as L,ZV as M,m3 as N,GT as O,L3 as P,S3 as Q,me as R,ms as S,Xe as T,f3 as U,g3 as V,fi as W,h6 as X,E3 as Y,T3 as Z,kt as _,Pa as a,gi as a0,Gn as a1,Qn as a2,Ar as a3,P3 as a4,J3 as a5,X3 as a6,K3 as a7,t6 as a8,z3 as a9,Y3 as aA,B3 as aB,qc as aC,x1 as aD,w3 as aE,$3 as aa,H3 as ab,q3 as ac,W3 as ad,Sl as ae,N1 as af,F3 as ag,j3 as ah,U3 as ai,R3 as aj,Yy as ak,D1 as al,I3 as am,Bl as an,i6 as ao,r6 as ap,jo as aq,o6 as ar,s6 as as,x3 as at,C3 as au,k3 as av,b3 as aw,O3 as ax,tc as ay,Q3 as az,su as b,l6 as c,A3 as d,_f as e,a6 as f,u6 as g,o4 as h,Z1 as i,ce as j,xc as k,eR as l,c6 as m,N3 as n,h3 as o,M3 as p,$V as q,L as r,v3 as s,r4 as t,$T as u,d6 as v,Gi as w,f6 as x,n6 as y,V3 as z};
