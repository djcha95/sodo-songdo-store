import{o as q,u as T,b as W,r as i,B as f,af as K,j as s,S as V,V as m,Q as G,G as B,C as b,D as w,ag as X,ah as Q,ai as Z,aj as J}from"./index-BMz7zIRN.js";import{a as Y}from"./orderService-Bzti28Gn.js";import{u as ss}from"./useDocumentTitle-BBAuQihd.js";import{P as es,D as as}from"./PointManagementModal-DQ5B4Jdr.js";import{f as ts}from"./formatUtils-C7pUNVKC.js";import{A as ns}from"./arrow-left-Brk6UMhG.js";import{U as D,M as is,P as ls}from"./user-B2WtjEKL.js";import{L as cs}from"./list-ordered-a_4-UPcK.js";import{H as os}from"./hourglass-Cbw8WS9u.js";import{c as j}from"./createLucideIcon-Df3tO_ja.js";import{S as P}from"./shield-check-80tGVhw7.js";import{S as rs}from"./shield-x-DqlWjWof.js";import{S as L,a as ds,G as ms,C as hs}from"./sparkles-CiURa8Z7.js";import{S as $}from"./save-B2IXE8Sx.js";import{X as us}from"./x-BfIBbJBP.js";import{S as xs}from"./square-pen-CwtIThVX.js";import{C as js}from"./chart-no-axes-column-CffmgICP.js";import{S as ps}from"./shield-DCKi_qae.js";import{T as A}from"./triangle-alert-DUarG1oM.js";import{T as M}from"./trash-2-C0X2zetg.js";import"./loader-circle-B7eOStzy.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],vs=j("activity",Ns);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],bs=j("ban",fs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],ys=j("circle-arrow-down",gs);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Ss=j("circle-arrow-up",ks);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zs=j("user-cog",Cs),Ts={"ê³µêµ¬ì˜ ì‹ ":{icon:s.jsx(hs,{size:20}),color:"var(--loyalty-god)"},ê³µêµ¬ì™•:{icon:s.jsx(ms,{size:20}),color:"var(--loyalty-king)"},ê³µêµ¬ìš”ì •:{icon:s.jsx(ds,{size:20}),color:"var(--loyalty-fairy)"},ê³µêµ¬ìƒˆì‹¹:{icon:s.jsx("i",{className:"seedling-icon-large",children:"ğŸŒ±"}),color:"var(--loyalty-sprout)"},"ì£¼ì˜ ìš”ë§":{icon:s.jsx(L,{size:20}),color:"var(--loyalty-warning)"},"ì°¸ì—¬ ì œí•œ":{icon:s.jsx(rs,{size:20}),color:"var(--loyalty-restricted)"}},z={RESERVED:{label:"ì˜ˆì•½",className:"status-reserved"},PREPAID:{label:"ì„ ì…ê¸ˆ",className:"status-prepaid"},PICKED_UP:{label:"í”½ì—…ì™„ë£Œ",className:"status-picked-up"},COMPLETED:{label:"ì²˜ë¦¬ì™„ë£Œ",className:"status-picked-up"},CANCELED:{label:"ì·¨ì†Œ",className:"status-canceled"},NO_SHOW:{label:"ë…¸ì‡¼",className:"status-no-show"}},le=()=>{const{userId:e}=q(),t=T(),{userDocument:a}=W(),[n,l]=i.useState(null),[o,r]=i.useState(!0),[c,h]=i.useState("profile"),[d,u]=i.useState([]),[N,g]=i.useState(!1),[y,U]=i.useState([]),[E,k]=i.useState(!1),[I,R]=i.useState([]),[O,S]=i.useState(!1),[C,_]=i.useState(new Set(["profile"]));ss(n?`${n.displayName||"ê³ ê°"}ë‹˜ì˜ ì •ë³´`:"ê³ ê° ì •ë³´"),i.useEffect(()=>{if(!e){t("/admin/users");return}r(!0);const p=f(b,"users",e),x=K(p,v=>{v.exists()?l({uid:v.id,...v.data()}):(m.error("ì‚¬ìš©ì ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."),t("/admin/users")),r(!1)});return()=>x()},[e,t]),i.useEffect(()=>{if(!e||C.has(c))return;(async()=>{switch(_(x=>new Set(x).add(c)),c){case"orders":g(!0),Y(e).then(u).finally(()=>g(!1));break;case"waitlist":k(!0),B(e).then(U).finally(()=>k(!1));break;case"points":S(!0),G(e).then(R).finally(()=>S(!1));break}})()},[c,e,C]);const F=i.useMemo(()=>[...d].sort((p,x)=>x.createdAt.toMillis()-p.createdAt.toMillis()),[d]);if(o||!n)return s.jsx(V,{message:"ê³ ê° ìƒì„¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."});const H=()=>{switch(c){case"orders":return N?s.jsx("div",{className:"tab-loader",children:"ì£¼ë¬¸ ë‚´ì—­ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."}):s.jsx(Es,{title:"ì£¼ë¬¸ ì „ì²´ ë‚´ì—­",orders:F});case"waitlist":return E?s.jsx("div",{className:"tab-loader",children:"ëŒ€ê¸° ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."}):s.jsx(Is,{title:"ëŒ€ê¸° ëª©ë¡",items:y});case"points":return O?s.jsx("div",{className:"tab-loader",children:"í¬ì¸íŠ¸ í™œë™ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."}):s.jsx(Rs,{title:"í¬ì¸íŠ¸ í™œë™",history:I});case"profile":default:return s.jsx(Ds,{user:n,currentAdmin:a})}};return s.jsxs("div",{className:"user-detail-page-container",children:[s.jsxs("button",{onClick:()=>t(-1),className:"back-button",children:[s.jsx(ns,{size:20}),s.jsx("span",{children:"ê³ ê° ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°"})]}),s.jsx(ws,{user:n}),s.jsxs("div",{className:"tab-navigation",children:[s.jsxs("button",{className:`tab-button ${c==="profile"?"active":""}`,onClick:()=>h("profile"),children:[s.jsx(D,{size:16}),"í”„ë¡œí•„"]}),s.jsxs("button",{className:`tab-button ${c==="orders"?"active":""}`,onClick:()=>h("orders"),children:[s.jsx(cs,{size:16}),"ì£¼ë¬¸ ë‚´ì—­ (",d.length,")"]}),s.jsxs("button",{className:`tab-button ${c==="waitlist"?"active":""}`,onClick:()=>h("waitlist"),children:[s.jsx(os,{size:16}),"ëŒ€ê¸° ëª©ë¡ (",y.length,")"]}),s.jsxs("button",{className:`tab-button ${c==="points"?"active":""}`,onClick:()=>h("points"),children:[s.jsx(vs,{size:16}),"í¬ì¸íŠ¸ í™œë™"]})]}),s.jsx("div",{className:"tab-content",children:H()})]})},ws=({user:e})=>{const[t,a]=i.useState(!1),n=e.loyaltyTier||"ê³µêµ¬ìƒˆì‹¹",l=Ts[n],o=async()=>{const r=!e.isSuspended,c=r?"ì œí•œ":"ì œí•œ í•´ì œ",h=w(f(b,"users",e.uid),{isSuspended:r});m.promise(h,{loading:`ê³„ì •ì„ ${c} ì²˜ë¦¬í•˜ëŠ” ì¤‘...`,success:`ê³„ì •ì´ ì„±ê³µì ìœ¼ë¡œ ${c} ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.`,error:`ê³„ì • ${c} ì²˜ë¦¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.`})};return s.jsxs(s.Fragment,{children:[s.jsx(es,{isOpen:t,onClose:()=>a(!1),user:e}),s.jsxs("header",{className:"user-detail-header",children:[s.jsxs("div",{className:"user-info",children:[s.jsx("div",{className:"user-tier-badge",style:{color:l.color,backgroundColor:`${l.color}20`},children:l.icon}),s.jsxs("div",{children:[s.jsxs("h1",{className:"user-name",children:[e.displayName," ",e.nickname&&`(${e.nickname})`]}),s.jsx("div",{className:"user-tier-name",style:{color:l.color},children:n})]})]}),s.jsxs("div",{className:"user-stats-summary",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:"ì‹ ë¢°ë„ í¬ì¸íŠ¸"}),s.jsxs("span",{className:"stat-value",children:[(e.points||0).toLocaleString()," P"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("span",{className:"stat-label",children:"ì´ ì£¼ë¬¸"}),s.jsxs("span",{className:"stat-value",children:[e.totalOrders||0," ê±´"]})]})]}),s.jsxs("div",{className:"user-actions",children:[s.jsxs("button",{onClick:()=>a(!0),className:"common-button button-primary-outline button-small",children:[s.jsx(as,{size:16}),"í¬ì¸íŠ¸ ê´€ë¦¬"]}),s.jsx("button",{onClick:o,className:`common-button button-small ${e.isSuspended?"button-success-outline":"button-danger-outline"}`,children:e.isSuspended?s.jsxs(s.Fragment,{children:[s.jsx(P,{size:16}),"ì œí•œ í•´ì œ"]}):s.jsxs(s.Fragment,{children:[s.jsx(bs,{size:16}),"ì´ìš© ì œí•œ"]})})]})]})]})},Ds=({user:e,currentAdmin:t})=>s.jsxs("div",{className:"profile-grid-container",children:[s.jsxs("div",{className:"profile-left-column",children:[s.jsx(Ls,{user:e}),t?.role==="master"&&s.jsx(As,{user:e})]}),s.jsxs("div",{className:"profile-right-column",children:[s.jsx($s,{user:e}),s.jsx(Ps,{user:e}),s.jsx(Ms,{user:e})]})]}),Ps=({user:e})=>{const[t,a]=i.useState(e.pickupCount||0),[n,l]=i.useState(e.noShowCount||0),[o,r]=i.useState(e.manualTier||"auto");i.useEffect(()=>{a(e.pickupCount||0),l(e.noShowCount||0),r(e.manualTier||"auto")},[e]);const c=()=>{const d=Z(e.uid,t,n);m.promise(d,{loading:"íšŸìˆ˜ ë° ë“±ê¸‰ ì¬ê³„ì‚° ì¤‘...",success:"ì„±ê³µì ìœ¼ë¡œ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.",error:u=>u.message||"ì‘ì—… ì‹¤íŒ¨"})},h=()=>{const d=o==="auto"?null:o,u=Q(e.uid,d);m.promise(u,{loading:"ë“±ê¸‰ì„ ìˆ˜ë™ìœ¼ë¡œ ì ìš©í•˜ëŠ” ì¤‘...",success:"ë“±ê¸‰ì´ ì„±ê³µì ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.",error:N=>N.message||"ì‘ì—… ì‹¤íŒ¨"})};return s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(ps,{size:20}),"ì‹ ë¢°ë„ ê´€ë¦¬"]}),s.jsxs("div",{className:"management-section",children:[s.jsx("h4",{children:"ë“±ê¸‰ ì§ì ‘ ì§€ì • (êµ¬ì œìš©)"}),s.jsx("p",{className:"description",children:e.manualTier?s.jsxs(s.Fragment,{children:["í˜„ì¬ ",s.jsx("strong",{style:{color:"var(--accent-color)"},children:e.manualTier})," ë“±ê¸‰ìœ¼ë¡œ ìˆ˜ë™ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤."]}):"í˜„ì¬ í”½ì—…/ë…¸ì‡¼ íšŸìˆ˜ì— ë”°ë¼ ìë™ ê³„ì‚°ë©ë‹ˆë‹¤."}),s.jsxs("div",{className:"role-form",children:[s.jsxs("select",{value:o,onChange:d=>r(d.target.value),children:[s.jsx("option",{value:"auto",children:"ìë™ ê³„ì‚°"}),s.jsx("option",{value:"ê³µêµ¬ì˜ ì‹ ",children:"ê³µêµ¬ì˜ ì‹ "}),s.jsx("option",{value:"ê³µêµ¬ì™•",children:"ê³µêµ¬ì™•"}),s.jsx("option",{value:"ê³µêµ¬ìš”ì •",children:"ê³µêµ¬ìš”ì •"}),s.jsx("option",{value:"ê³µêµ¬ìƒˆì‹¹",children:"ê³µêµ¬ìƒˆì‹¹"}),s.jsx("option",{value:"ì£¼ì˜ ìš”ë§",children:"ì£¼ì˜ ìš”ë§"}),s.jsx("option",{value:"ì°¸ì—¬ ì œí•œ",children:"ì°¸ì—¬ ì œí•œ"})]}),s.jsxs("button",{onClick:h,className:"common-button button-primary button-small",children:[s.jsx(P,{size:14})," ë“±ê¸‰ ì ìš©"]})]})]}),s.jsx("hr",{className:"divider"}),s.jsxs("div",{className:"management-section",children:[s.jsx("h4",{children:"í”½ì—…/ë…¸ì‡¼ íšŸìˆ˜ ì¡°ì • (ë°ì´í„° ë³´ì •ìš©)"}),s.jsxs("div",{className:"counts-form",children:[s.jsxs("div",{className:"form-group-inline",children:[s.jsx("label",{children:"í”½ì—… ì™„ë£Œ"}),s.jsx("input",{type:"number",value:t,onChange:d=>a(Number(d.target.value))})]}),s.jsxs("div",{className:"form-group-inline",children:[s.jsx("label",{children:"ë…¸ì‡¼"}),s.jsx("input",{type:"number",value:n,onChange:d=>l(Number(d.target.value))})]}),s.jsxs("button",{onClick:c,className:"common-button button-secondary button-small",children:[s.jsx($,{size:14})," íšŸìˆ˜ ì €ì¥"]})]}),s.jsxs("div",{className:"warning-box",children:[s.jsx(A,{size:16}),s.jsxs("span",{children:[s.jsx("strong",{children:"ì£¼ì˜:"})," ì´ ê°’ì„ ì§ì ‘ ìˆ˜ì •í•˜ë©´ ì‚¬ìš©ìì˜ ë“±ê¸‰ ê¸°ë¡ì— ì˜êµ¬ì ì¸ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. ë°ì´í„° ì˜¤ë¥˜ ìˆ˜ì •ì´ í•„ìš”í•œ ëª…í™•í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”."]})]})]})]})},Ls=({user:e})=>{const[t,a]=i.useState(!1),[n,l]=i.useState(e.nickname||"");i.useEffect(()=>{l(e.nickname||"")},[e]);const o=async()=>{if(n.trim().length>7){m.error("ë‹‰ë„¤ì„ì€ 7ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.");return}const r=f(b,"users",e.uid),c=w(r,{nickname:n.trim()});m.promise(c,{loading:"ë‹‰ë„¤ì„ ì €ì¥ ì¤‘...",success:"ë‹‰ë„¤ì„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.",error:"ë‹‰ë„¤ì„ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."}),await c,a(!1)};return s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(D,{size:20}),"ê¸°ë³¸ ì •ë³´"]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"ì´ë¦„"}),s.jsx("span",{className:"info-value",children:e.displayName})]}),s.jsxs("div",{className:"info-item",children:[s.jsx("span",{className:"info-label",children:"ë‹‰ë„¤ì„"}),t?s.jsxs("div",{className:"nickname-edit-form",children:[s.jsx("input",{type:"text",value:n,onChange:r=>l(r.target.value),maxLength:7,placeholder:"7ì ì´ë‚´",autoFocus:!0}),s.jsx("button",{onClick:o,className:"action-btn-icon",title:"ì €ì¥",children:s.jsx($,{size:16})}),s.jsx("button",{onClick:()=>a(!1),className:"action-btn-icon",title:"ì·¨ì†Œ",children:s.jsx(us,{size:16})})]}):s.jsxs("div",{className:"info-value-group",children:[s.jsx("span",{className:"info-value",children:e.nickname||"ì—†ìŒ"}),s.jsx("button",{onClick:()=>a(!0),className:"edit-nickname-btn",title:"ë‹‰ë„¤ì„ ìˆ˜ì •",children:s.jsx(xs,{size:14})})]})]}),s.jsxs("div",{className:"info-item",children:[s.jsxs("span",{className:"info-label",children:[s.jsx(is,{size:14})," ì´ë©”ì¼"]}),s.jsx("span",{className:"info-value",children:e.email||"ì •ë³´ ì—†ìŒ"})]}),s.jsxs("div",{className:"info-item",children:[s.jsxs("span",{className:"info-label",children:[s.jsx(ls,{size:14})," ì—°ë½ì²˜"]}),s.jsx("span",{className:"info-value",children:ts(e.phone)})]})]})},$s=({user:e})=>s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(js,{size:20}),"ì£¼ìš” í†µê³„"]}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-item",children:[s.jsx("h4",{children:"ì‹ ë¢°ë„ í¬ì¸íŠ¸"}),s.jsxs("p",{children:[(e.points||0).toLocaleString()," P"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("h4",{children:"ì´ ì£¼ë¬¸"}),s.jsxs("p",{children:[e.totalOrders||0," ê±´"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("h4",{children:"í”½ì—…ìœ¨"}),s.jsxs("p",{children:[e.pickupRate?.toFixed(1)??"N/A"," %"]})]}),s.jsxs("div",{className:"stat-item",children:[s.jsx("h4",{children:"ë…¸ì‡¼"}),s.jsxs("p",{children:[e.noShowCount||0," íšŒ"]})]})]})]}),As=({user:e})=>{const[t,a]=i.useState(e.role||"customer");i.useEffect(()=>{a(e.role||"customer")},[e]);const n=async()=>{const l=X(e.uid,t);m.promise(l,{loading:"ì—­í• ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” ì¤‘...",success:"ì—­í• ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.",error:"ì—­í•  ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."})};return s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[s.jsx(zs,{size:20})," ì‚¬ìš©ì ê¶Œí•œ"]}),s.jsxs("div",{className:"role-form",children:[s.jsxs("select",{value:t,onChange:l=>a(l.target.value),children:[s.jsx("option",{value:"customer",children:"customer"}),s.jsx("option",{value:"admin",children:"admin"}),s.jsx("option",{value:"master",children:"master"})]}),s.jsx("button",{onClick:n,className:"common-button button-primary button-small",children:"ê¶Œí•œ ì €ì¥"})]})]})},Ms=({user:e})=>{const t=T(),a=()=>{const n=e.displayName||"í•´ë‹¹ ì‚¬ìš©ì",l=()=>{const o=J(e.uid).then(()=>(t("/admin/users"),"ì‚¬ìš©ì ë¬¸ì„œê°€ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."));m.promise(o,{loading:`${n} ë‹˜ì„ ì‚­ì œí•˜ëŠ” ì¤‘...`,success:r=>r,error:r=>`íšŒì› ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${r.message}`})};m.custom(o=>s.jsx(Us,{t:o,user:e,onConfirm:()=>{m.dismiss(o.id),l()}}),{duration:1/0,position:"top-center"})};return s.jsxs("div",{className:"info-card danger-zone-card",children:[s.jsxs("h3",{children:[s.jsx(L,{size:20})," ìœ„í—˜ êµ¬ì—­"]}),s.jsxs("div",{className:"danger-zone-content",children:[s.jsxs("div",{className:"danger-zone-text",children:[s.jsx("h4",{children:"íšŒì› ì˜êµ¬ ì‚­ì œ"}),s.jsx("p",{children:"ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì‹ ì¤‘í•˜ê²Œ ê²°ì •í•´ì£¼ì„¸ìš”."})]}),s.jsxs("button",{onClick:a,className:"common-button button-danger-outline",children:[s.jsx(M,{size:16})," íšŒì› ì‚­ì œ"]})]})]})},Us=({t:e,user:t,onConfirm:a})=>{const[n,l]=i.useState(""),o="íšŒì› ì‚­ì œ",r=n===o;return s.jsxs("div",{className:"delete-confirm-toast",children:[s.jsxs("div",{className:"toast-header",children:[" ",s.jsx(A,{className:"toast-icon",size:24})," ",s.jsx("h3",{className:"toast-title",children:"íšŒì› ì˜êµ¬ ì‚­ì œ"})," "]}),s.jsxs("div",{className:"toast-body",children:[s.jsxs("p",{children:[s.jsx("b",{children:t.displayName})," (",t.email,") ë‹˜ì„ ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",s.jsx("br",{}),"ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë©°, ëª¨ë“  ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤."]}),s.jsxs("label",{htmlFor:"delete-confirm-input",className:"toast-instruction",children:["ì‚­ì œë¥¼ ê³„ì†í•˜ë ¤ë©´ ì•„ë˜ì— ",s.jsx("strong",{className:"confirm-phrase",children:o})," ë¼ê³  ì…ë ¥í•˜ì„¸ìš”."]}),s.jsx("input",{id:"delete-confirm-input",type:"text",value:n,onChange:c=>l(c.target.value),className:"delete-confirm-input",placeholder:o,autoFocus:!0})]}),s.jsxs("div",{className:"toast-footer",children:[s.jsx("button",{className:"toast-button toast-button-cancel",onClick:()=>m.dismiss(e.id),children:"ì·¨ì†Œ"}),s.jsxs("button",{className:"toast-button toast-button-confirm",onClick:a,disabled:!r,children:[s.jsx(M,{size:16})," ì‚­ì œ í™•ì¸"]})]})]})},Es=({title:e,orders:t})=>s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[e," (",t.length,")"]}),t.length>0?s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"ì˜ˆì•½ì¼"})," ",s.jsx("th",{children:"ìƒí’ˆ ì •ë³´"})," ",s.jsx("th",{children:"ìˆ˜ëŸ‰"})," ",s.jsx("th",{children:"ê¸ˆì•¡"})," ",s.jsx("th",{children:"í”½ì—…ì¼"})," ",s.jsx("th",{children:"ìƒíƒœ"})]})}),s.jsx("tbody",{children:t.map(a=>s.jsxs("tr",{children:[s.jsx("td",{children:a.createdAt?.toDate().toLocaleDateString("ko-KR")}),s.jsx("td",{children:a.items.map(n=>n.productName).join(", ")}),s.jsx("td",{children:a.items.reduce((n,l)=>n+l.quantity,0)}),s.jsxs("td",{children:[(a.totalPrice||0).toLocaleString(),"ì›"]}),s.jsx("td",{children:a.pickupDate?.toDate().toLocaleDateString("ko-KR")}),s.jsx("td",{children:s.jsx("span",{className:`status-badge-inline ${z[a.status]?.className||""}`,children:z[a.status]?.label||a.status})})]},a.id))})]})}):s.jsxs("p",{className:"no-data-message",children:[e,"ì´ ì—†ìŠµë‹ˆë‹¤."]})]}),Is=({title:e,items:t})=>s.jsxs("div",{className:"info-card",children:[s.jsxs("h3",{children:[e," (",t.length,")"]}),t.length>0?s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"data-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"ì‹ ì²­ì¼"})," ",s.jsx("th",{children:"ìƒí’ˆëª…"})," ",s.jsx("th",{children:"ì˜µì…˜"})," ",s.jsx("th",{children:"ìˆ˜ëŸ‰"})]})}),s.jsx("tbody",{children:t.map(a=>s.jsxs("tr",{children:[s.jsx("td",{children:a.timestamp.toDate().toLocaleDateString("ko-KR")}),s.jsx("td",{children:a.productName}),s.jsx("td",{children:a.itemName}),s.jsx("td",{children:a.quantity})]},`${a.productId}-${a.roundId}-${a.itemId}`))})]})}):s.jsxs("p",{className:"no-data-message",children:[e,"ì´ ì—†ìŠµë‹ˆë‹¤."]})]}),Rs=({title:e,history:t})=>s.jsxs("div",{className:"info-card",children:[s.jsx("h3",{children:e}),t.length>0?s.jsx("ul",{className:"point-timeline",children:t.map((a,n)=>s.jsxs("li",{className:"timeline-item",children:[s.jsx("div",{className:`timeline-icon ${a.amount>0?"positive":"negative"}`,children:a.amount>0?s.jsx(Ss,{size:20}):s.jsx(ys,{size:20})}),s.jsxs("div",{className:"timeline-content",children:[s.jsx("p",{className:"timeline-reason",children:a.reason}),s.jsx("span",{className:"timeline-date",children:a.createdAt?.toDate().toLocaleString("ko-KR")})]}),s.jsxs("span",{className:`timeline-amount ${a.amount>0?"positive":"negative"}`,children:[a.amount>0?"+":"",a.amount.toLocaleString()," P"]})]},`${a.createdAt?.seconds}-${n}`))}):s.jsxs("p",{className:"no-data-message",children:[e," ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤."]})]});export{le as default};
