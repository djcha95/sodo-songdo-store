import{b as j,r,Q as p,j as s}from"./index-BMz7zIRN.js";import{i as u}from"./tippy-BL_pV7HH.js";import{I as y}from"./SodomallLoader-CN_E-RXV.js";import{c as f}from"./createLucideIcon-Df3tO_ja.js";import{T as c}from"./trending-up-BeywEaFl.js";import{C as v}from"./circle-question-mark-e2kfLd7M.js";import{A as N,m as o}from"./proxy-CA4nXXUX.js";import{X as g}from"./x-BfIBbJBP.js";import{T as P}from"./trending-down-CaiddwcE.js";import{S as k}from"./shopping-cart-DDLkxA9X.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],C=f("history",S),I=i=>!i||typeof i.toDate!="function"?"-":i.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),L=({isOpen:i,onClose:e})=>s.jsx(N,{children:i&&s.jsx(o.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,children:s.jsxs(o.div,{className:"modal-content",initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{type:"spring",stiffness:300,damping:30},onClick:t=>t.stopPropagation(),children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h4",{children:"âœ¨ ì†Œë„ëª° í¬ì¸íŠ¸ ì•ˆë‚´"}),s.jsx("button",{onClick:e,className:"modal-close-button",children:s.jsx(g,{size:24})})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("h5",{children:"ðŸ’° í™œë™ í¬ì¸íŠ¸: ì¦ê±°ìš´ í™œë™ì´ í¬ì¸íŠ¸ê°€ ë˜ì–´ ëŒì•„ì˜µë‹ˆë‹¤!"}),s.jsx("p",{children:"ì‹ ë¢° ë“±ê¸‰ê³¼ëŠ” ë³„ê°œë¡œ, ì†Œë„ëª°ì—ì„œì˜ ë‹¤ì–‘í•œ í™œë™ì„ í†µí•´ í¬ì¸íŠ¸ë¥¼ ìŒ“ê³ , íŠ¹ë³„í•œ í˜œíƒì„ ëˆ„ë¦´ ìˆ˜ ìžˆìŠµë‹ˆë‹¤. í¬ì¸íŠ¸ëŠ” ì‚¬ìž¥ë‹˜ì˜ ì¦ê±°ìš´ í™œë™ì— ëŒ€í•œ ê°ì‚¬ì˜ ì„ ë¬¼ì´ì—ìš”!"}),s.jsx("h6",{children:"ì´ë ‡ê²Œ ìŒ“ì•„ìš”!"}),s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"ìƒí’ˆ í”½ì—… ì™„ë£Œ:"})," ê²°ì œ ê¸ˆì•¡ì˜ 0.5% ì ë¦½"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"ë§¤ì¼ ì²« ë¡œê·¸ì¸:"})," +1P"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"í•œ ë‹¬ ì—°ì† ì¶œì„:"})," +100P ë³´ë„ˆìŠ¤"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"ì¹œêµ¬ ì´ˆëŒ€ ì„±ê³µ:"})," +30P"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"ë¦¬ë·° ìž‘ì„±:"})," +5P"]})]}),s.jsx("h6",{children:"ì´ë ‡ê²Œ ì‚¬ìš©í•´ìš”!"}),s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("strong",{children:"ëŒ€ê¸° ìˆœë²ˆ ìƒìŠ¹ê¶Œ:"})," 50Pë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ê¸° ìƒí’ˆì˜ ëŒ€ê¸° ìˆœë²ˆì„ ìœ„ë¡œ ì˜¬ë¦´ ìˆ˜ ìžˆìŠµë‹ˆë‹¤."]})}),s.jsx("h6",{children:"ðŸ¤ ìš°ë¦¬ ëª¨ë‘ì˜ ì•½ì†"}),s.jsx("p",{children:"ì›í™œí•˜ê³  ê³µì •í•œ ê³µë™êµ¬ë§¤ë¥¼ ìœ„í•´, ë…¸ì‡¼(ë¯¸í”½ì—…)ë‚˜ ë§ˆê° ìž„ë°• ì·¨ì†Œ ì‹œì—ëŠ” í™œë™ í¬ì¸íŠ¸ê°€ ì¼ë¶€ ì°¨ê°ë  ìˆ˜ ìžˆì–´ìš”. ëª¨ë‘ë¥¼ ìœ„í•œ ì•½ì†ì´ëžë‹ˆë‹¤!"})]})]})})}),b=({log:i})=>{const e=i.amount>0;return s.jsxs("li",{className:"point-history-item",children:[s.jsx("div",{className:"point-item-icon","data-positive":e,children:e?s.jsx(c,{size:20}):s.jsx(P,{size:20})}),s.jsxs("div",{className:"point-item-details",children:[s.jsx("span",{className:"point-item-reason",children:i.reason}),s.jsxs("div",{className:"point-item-meta",children:[s.jsx("span",{className:"point-item-date",children:I(i.createdAt)}),i.orderId&&s.jsx(u,{content:`ì£¼ë¬¸ ID: ${i.orderId}`,children:s.jsx("span",{className:"point-item-order-ref",children:s.jsx(k,{size:12})})})]})]}),s.jsxs("div",{className:`point-item-amount ${e?"positive":"negative"}`,children:[e?"+":"",i.amount.toLocaleString()," P"]})]})},Q=()=>{const{user:i,userDocument:e}=j(),[t,l]=r.useState([]),[d,h]=r.useState(!0),[m,a]=r.useState(!1);r.useEffect(()=>{i?.uid&&p(i.uid,50).then(l).catch(n=>console.error("í¬ì¸íŠ¸ ë‚´ì—­ ë¡œë”© ì‹¤íŒ¨:",n)).finally(()=>h(!1))},[i]);const x=()=>d?s.jsx("div",{className:"point-history-loader",children:s.jsx(y,{})}):t.length===0?s.jsx("div",{className:"point-history-message",children:"í¬ì¸íŠ¸ ë³€ë™ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤."}):s.jsx("ul",{className:"point-history-list",children:t.map(n=>s.jsx(b,{log:n},n.id))});return s.jsxs("div",{className:"point-history-page-container",children:[s.jsxs("div",{className:"point-history-container",children:[s.jsxs("header",{className:"point-history-header",children:[s.jsxs("div",{className:"page-title-wrapper",children:[s.jsx(C,{size:24}),s.jsx("h2",{children:"í¬ì¸íŠ¸ ë‚´ì—­"})]}),s.jsxs("div",{className:"current-points-display-v2",children:[s.jsxs("div",{className:"points-label",children:[s.jsx(c,{size:18}),s.jsx("span",{children:"í˜„ìž¬ í™œë™ í¬ì¸íŠ¸"})]}),s.jsx("div",{className:"points-value",children:s.jsxs("strong",{children:[(e?.points||0).toLocaleString()," P"]})})]})]}),s.jsxs("main",{className:"point-history-content",children:[s.jsxs("div",{className:"section-header",children:[s.jsx("h4",{children:"ìµœê·¼ ë‚´ì—­"}),s.jsxs("button",{onClick:()=>a(!0),className:"guide-button",children:[s.jsx(v,{size:16}),"í¬ì¸íŠ¸ ì•ˆë‚´"]})]}),x()]})]}),s.jsx(L,{isOpen:m,onClose:()=>a(!1)})]})};export{Q as default};
